{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Welcome to the mzmine documentation!","text":"<p>mzmine is an open-source and platform-independent software for mass spectrometry (MS) data processing and visualization. The workflow is optimised to allow processing of large-scale mass spectrometry studies. mzmine supports multiple raw data formats, including open formats such as mzML and several vendor-specific file types. Data from various instrumental setups, such as LC-MS, LC-IMS-MS, GC-MS, and even MALDI-(IMS-)-MS is supported. Interactive visualization tools allow you to seamlessly survey both raw data and processed results. mzmine allows you to transform your spectral raw data into meaningful feature lists and offers compound annotation approaches by spectral library matching, exact mass searches, rule based lipid annotation, and formula prediction. Furthermore, mzmine allows generation of custom spectral libraries.</p> <p>Info</p> <p>When using mzmine, please cite the corresponding paper: Robin Schmid, Steffen Heuckeroth, Ansgar Korf et al. Integrative analysis of multimodal mass spectrometry data in MZmine 3. Nature Biotechnology (2023), doi:10.1038/s41587-023-01690-2.</p>"},{"location":"index.html#want-to-get-started-with-mzmine","title":"Want to get started with mzmine?","text":"<p>Check out our getting started page or mzmine video tutorials on YouTube</p> <p></p>"},{"location":"index.html#mzmine-news","title":"mzmine news","text":"<p>Check out latest mzmine news.</p> <p></p>"},{"location":"index.html#history-of-mzmine","title":"History of mzmine","text":"<p>MZmine 3 was developed as a community effort, lead by Robin Schmid, Steffen Heuckeroth, Ansgar Korf and Tomas Pluskal. It introduced a redesigned GUI, a completely new data structure which provided the flexibility to process any type of mass spectrometry data. This included LC-MS, GC-MS and MS-imaging and introduced ion mobility support (see LC-IM-MS data visualization and feature detection). Finally, significant effort was devoted to trace memory issues and bottlenecks, resulting in an unprecedented processing performance and scalability.</p> <p>Since the introduction of MZmine 2 in 2010, the project has matured into a community-driven, highly collaborative platform and its functions continue to expand based on the users' needs and feedbacks. This has also enabled the tight integration of the mzmine ecosystem with popular third-party software for MS data analysis, such as the SIRIUS suite for in-silico metabolite annotation, the GNPS platform with Ion Identity Molecular Networking, the MetaboAnalyst web app for univariate and multivariate statistical analysis, etc.</p> <p>Such great progress was made possible by the invaluable contribution of many developers from research labs distributed all over the world!</p>"},{"location":"index.html#about-this-documentation","title":"About this documentation","text":"<p>Here you can find documentation for both processing and visualization modules in mzmine. Moreover, data processing pipelines for untargeted LC-MS and LC-IMS-MS feature detection as well as MS-Imaging are described and general recommendations are given.</p>"},{"location":"index.html#how-to-contribute","title":"How to contribute","text":"<p>The mzmine community is always welcoming new developers and contributions! You can contribute by improving existing modules or even adding new featurs in mzmine! Please, check out our brief tutorial.</p> <p>You can also contribute to this wiki and help new users to get started with mzmine! See here how to contribute to the documentation.</p> <p>Ansgar Korf, Robin Schmid, Steffen Heuckeroth, omokshyna, tdamiani</p>"},{"location":"changelog.html","title":"Changelog","text":""},{"location":"changelog.html#latest-mzmine-changes","title":"Latest mzmine changes","text":"<p>Find a detailed changelog on our GitHub release page. </p> <p>Check out latest mzmine news.</p> <p></p>"},{"location":"citations.html","title":"Citations","text":"<p>How to cite different parts of mzmine: Workflows, tools, etc.</p>"},{"location":"commandline_tool.html","title":"Command-line interface (CLI) for headless batch mode","text":"<p>Command-line arguments offer a variety of options that generally override the corresponding parameters in the preferences.</p>"},{"location":"commandline_tool.html#selecting-a-user","title":"Selecting a user","text":"<p>Running mzmine in CLI mode requires a user. Either login via graphical-user interface (GUI) or via command-line argument -login (web browser support required) or via -login-console.  Then locate the user file in your system USER directory under /.mzmine/users/. The most recently active user is automatically selected for mzmine processing, but an .mzuser file can be passed in as command-line argument to -user.</p>"},{"location":"commandline_tool.html#windows","title":"Windows","text":"<p>An easy way to start mzmine with arguments is to create a shortcut to the mzmine.exe, right-click, and define the target with additional arguments. This example runs mzmine in batch mode (headless), imports the specified batch file, overrides the memory management to none (which is the default), effectively using memory mapping to store and access spectral, centroid, and feature data from temporary files stored in the defined temp directory. By leaving out the memory or temp arguments, the values stored in the current preferences file will be used, or the default values if no preferences file was found.  </p> <p>Process all .mzML files in a folder by the provided batch file <pre><code>\"C:\\Program Files\\mzmine\\mzmine.exe\" -user \"D:\\user\\testuser.mzuser\" -batch \"D:\\batch\\my_batch_file.xml\" -input \"D:\\Data\\*.mzML\"\n</code></pre></p> <p>Defining the temp folder, otherwise uses the one specified in local configuration <pre><code>\"C:\\Program Files\\mzmine\\mzmine.exe\" -user \"D:\\user\\testuser.mzuser\" -batch \"D:\\batch\\my_batch_file.xml\" -temp \"D:\\tmpmzmine\"\n</code></pre></p> <p>Start mzmine batch with memory mapping (DEFAULT) <pre><code>\"C:\\Program Files\\mzmine\\mzmine.exe\" -user \"D:\\user\\testuser.mzuser\" -batch \"D:\\batch\\my_batch_file.xml\" -memory none -temp \"D:\\tmpmzmine\"\n</code></pre></p> <p>Start mzmine batch on machines with enough memory (RAM) with -memory all this will disable memory mapping to temporary files.  <pre><code>\"C:\\Program Files\\mzmine\\mzmine.exe\" -user \"D:\\user\\testuser.mzuser\" -batch \"D:\\batch\\my_batch_file.xml\" -memory all -temp \"D:\\tmpmzmine\"\n</code></pre></p>"},{"location":"commandline_tool.html#macos","title":"macOS","text":"<p>If the app was installed to the Applications folder, run this command in the terminal to run a batch file: <pre><code>/Applications/mzmine.app/Contents/MacOS/mzmine -user \"path/to/testuser.mzuser\" -batch /path/to/batch_file.xml\n</code></pre></p> <pre><code>/Applications/mzmine.app/Contents/MacOS/mzmine -user \"path/to/testuser.mzuser\" -batch /path/to/batch_file.xml -input \"/path/to/data/*.mzML\"\n</code></pre>"},{"location":"commandline_tool.html#linux","title":"Linux","text":"<p>If mzmine was installed (see instructions) correctly, run the code below to start mzmine in GUI mode or CLI batch mode: <pre><code>/opt/mzmine/bin/mzmine\n# some older versions or bad installations may be in:\n# /opt/mzmine-linux-installer/bin/mzmine\n</code></pre></p> <pre><code># login and run batch\n/opt/mzmine/bin/mzmine -login-console -batch /path/to/batch_file.xml\n</code></pre>"},{"location":"commandline_tool.html#argument-table","title":"Argument table","text":"Argument Options (default) Description -h and -help no argument show help -u and -user a path, e.g., \"D:\\myuser.mzuser\" Path to an .mzuser file to login a user. This file is copied to the users directory. To obtain a user file, login in the mzmine graphical user interface (GUI) or command line interface (CLI). User files can be found in your system USER directory in /.mzmine/users/ after login. A user can be used in an offline environment for a certain duration. -login no argument Use the command-line to login to a user. This will open the login website in the system internet browser, if supported, or prompts an input for the user credentials into the console. After successful login, a user file will be copied to your system USER directory in /.mzmine/users/. And the current user will be saved to the configuration. The created user file can be accessed with the -user argument on the next startup. -login-console no argument Use the command-line to login to a user. This option prompts the user for username and password. After successful login, a user file will be copied to your system USER directory in /.mzmine/users/. And the current user will be saved to the configuration. The created user file can be accessed with the -user argument on the next startup. -list-users no argument List all users available on this system. The users are read from the system USER directory /.mzmine/users/. -b and -batch a path, e.g., \"D:\\batch.xml\" Path to batch file that will be run in command-line mode. -i and -input a txt file or glob pattern, e.g., \"D:\\Data*.mzML\" input data files. Either defined in a .txt text file with one file per line or by glob pattern matching. To match all .mzML files in a path: -i \"D:\\Data\\*.mzML\" -l and -libraries a txt file or glob pattern, e.g., \"D:\\Data*.json\" spectral library files. Either defined in a .txt text file with one file per line or by glob pattern matching. To match all .json or .mgf files in a path: -libraries \"D:\\Data\\*.json\" -o and -output An output path and base filename, e.g., \"D:\\basename\" The base file name will be extended by default module names to export all files. -m and -memory none, all, features, centroids, raw, masses_features Defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory. Generally this setting should be none. If memory is no issue this option might be set to all process all spectral and feature data in memory. The option masses_features keeps centroid mass lists and features in memory while memory mapping raw spectral data. -t and -temp a path, e.g., \"-temp \"D:\\tmpmzmine\\\" The defined directory should be on a fast drive (usually SSD &gt; HDD &gt; network drive) with enough free space. Local drives are usually preferred. mzmine uses memory mapping to efficiently store and access spectral and feature data. This can lead to a considerable temporary consumption of disk space. Make sure that the selected drive has enough space (maybe 20 GB + 1 GB/10 files; generously over estimated). -p and -pref a path, e.g., \"D:\\config.xml\" An mzmine configuration file in xml format. The general preferences. -threads int number of threads or 'auto' replace the preference parameter with either 'auto' to detect the number of available cores - or an int number of threads for processing. <p>Robin Schmid, omokshyna</p>"},{"location":"contribute.html","title":"How to contribute to the MZmine documentation","text":""},{"location":"contribute.html#about-the-documentation","title":"About the documentation","text":"<p>Supporting and updating the documentation is especially important for MZmine due to the variety and complexity of the modules. If you wish to contribute by creating a module, please, create a corresponding documentation. In this way, the MZmine community will be able to easier adapt the novel modules in their workflows and everyday practice.</p> <p>MZmine documentation uses MkDocs site generator. Documentation source is created in Markdown and configured using a single YAML file. If you are new to MkDocs or Markdown, the detailed User guide can be found here.</p>"},{"location":"contribute.html#pages-structure","title":"Pages structure","text":"<p>Structure of the pages is described in <code>mkdocs.yml</code> file, which represents the tree-like structure:</p> <pre><code>nav:\n  - Home page: index.md\n  - Getting started: getting_started.md\n  - Main window overview: main-window-overview.md\n  - Data conversion: data_conversion.md\n  - Citations: citations.md\n\n  - Coding:\n    - General structure: coding/general_structure.md\n    - Module development: coding/module_development.md\n    - Raw data structure: coding/raw_data_structure.md\n    - Feature data structure: coding/feature_data_structure.md\n    - Example module - Spectral entropy: coding/example_module.md\n</code></pre> <p>When a new documentation page or subsection is added, yaml structure changes correspondingly. For example:</p> <pre><code>nav:\n  - Home page: index.md\n  - Getting started: getting_started.md\n  - Main window overview: main-window-overview.md\n  - Data conversion: data_conversion.md\n  - Citations: citations.md\n\n  - Coding:\n    - General structure: coding/general_structure.md\n    - Module development: coding/module_development.md\n    - Raw data structure: coding/raw_data_structure.md\n    - Feature data structure: coding/feature_data_structure.md\n    - Example module - Spectral entropy: coding/example_module.md\n  - NEW SECTION:\n    - NEW PAGE: new_section/new_page.md\n</code></pre>"},{"location":"contribute.html#how-to-edit-the-documentation-pages","title":"How to edit the documentation pages","text":"<p>1. Make a GitHub Account</p> <p>You'll need to make a GitHub Account.</p> <p>2. Click Edit Button on Page You Want to Edit </p> <p>3. Fork the Repository When Prompted (only the first time)</p> <p></p> <p>4. Make the Edits in MarkDown</p> <p></p> <p>5. Propose Changes</p> <p>Please describe the change you are making.</p> <p></p> <p>6. Create Pull Request</p> <p></p> <p>7. Finalize Pull Request with Description</p> <p></p>"},{"location":"contribute.html#how-to-create-a-new-page","title":"How to create a new page","text":"<p>Follow steps 1 - 3.</p> <p>Navigate to mzmine_documentation/docs in your fork and create a new file</p> <p></p> <p>Follow steps 4 - 7.</p>"},{"location":"contribute.html#additional-useful-information","title":"Additional useful information","text":""},{"location":"contribute.html#using-icons","title":"Using icons","text":"<p>To highlight some points in the prepared documentation, it is advised to use icons. Material for MkDocs is integrated into MZmine documentation and suggests a wide range of icons, logos, and more. Icons can be found here.</p>"},{"location":"contribute.html#using-mathematical-formulas","title":"Using mathematical formulas","text":"<p>To add mathematical formulas, it is recommended to use LaTex notation, which can be directly incorporated into MkDocs pages.</p> <p>To insert inline formula, one can use single \"$\" signs, like this <code>$x^n + y^n = z^n$\"</code>, resulting in \\(x^n + y^n = z^n\\). To insert formula on a new line, use double \"$\" signs, for example <code>$$E=mc^2$$</code>, resulting in</p> \\[E=mc^2\\] <p>The excellent reference guide to different mathematical expressions can be found here.</p>"},{"location":"contribute.html#page-contributors","title":"Page Contributors","text":"<p>Steffen Heuckeroth, omokshyna</p> <p>This page was adapted from the GNPS documentation.</p>"},{"location":"contribute_docu_template.html","title":"Markdown template to create online documentation for a processing module","text":"<p>Download immediately usable template from here</p> <p>To facilitate a consistent contribution to the MZmine online documentation from new users, please refer to the present Markdown template. Changes in the structure are of course allowed, but will have to be justified in the pull request. Remove this top part from the new page and start at Module name.</p> <p>In order not to interrupt the document flow, we encourage the use of admonition boxes insight any point of the document to provide warnings, tips, and side contents in general. A few examples are provided below, while a variety of other options is avaiable here.</p> <p>Danger</p> <p>This module is currently under maintenance / deprecated / etc.</p> <p>Warning</p> <p>Since mass lists are taken as input by EIC building algorithms, the Mass detection module must be run first</p> <p>Tip</p> <p>A good starting point for 'Parameter #1' is between 0.1 and 0.5.</p> <p>REMOVE ALL TEXT ABOVE THIS LINE TO START YOUR OWN MODULE. CHANGE THE RECOMMENDED CITATIONS.</p>"},{"location":"contribute_docu_template.html#module-name","title":"Module name","text":"<p> Menu1 \u2192 Menu2 \u2192 Module </p> <p>Provide here a concise description of the module functioning principles and usage. If possible, briefly describe the algorithm(s) employed by the module. If a detailed description of the algorithm functioning is needed, provide it in the Algorithm section). Please cite relevant references in this section using the following box:</p>"},{"location":"contribute_docu_template.html#recommended-citations","title":"Recommended citations","text":"<p>Info</p> <p>When using mzmine for your work, please consider citing: Schmid R., Heuckeroth S., Korf A., et al. Integrative analysis of multimodal mass spectrometry data in MZmine 3, Nature Biotechnology (2023), doi:10.1038/s41587-023-01690-2.</p> <p>When using this modules, please consider citing the corresponding publication(s): Schmid, R., Petras, D., Nothias, LF. et al. Ion identity molecular networking for mass spectrometry-based metabolomics in the GNPS environment. Nat Commun 12, 3832 (2021). https://doi.org/10.1038/s41467-021-23953-9</p>"},{"location":"contribute_docu_template.html#parameters","title":"Parameters","text":"<p>Screenshot of the module dialog should contain default values. If multiple sub dialogs are available from parameters, either create one or multiple dialog images.</p> <p>Provide here a concise description of each processing parameter. Where possible, provide default values and/or recommended values to start the tuning from.</p>"},{"location":"contribute_docu_template.html#parameter-1","title":"Parameter #1","text":"<p>Provide here a brief description for Parameter #1. Default values, tunig points, hints...</p>"},{"location":"contribute_docu_template.html#parameter-2","title":"Parameter #2","text":"<p>Provide here a brief description for Parameter #2.</p>"},{"location":"contribute_docu_template.html#parameter-3-optional","title":"Parameter #3 (Optional)","text":"<p>Provide here a brief description for Parameter #3. Optional parameters should be labelled as (Optional) following the parameter's name.</p>"},{"location":"contribute_docu_template.html#algorithm","title":"Algorithm","text":"<p>Optional: A more detailed description of the algorithm(s) employed by the module can be provided in this section.</p> <p>Ansgar Korf, Robin Schmid, omokshyna, tdamiani</p>"},{"location":"contribute_intellij.html","title":"Development in IntelliJ","text":""},{"location":"contribute_intellij.html#set-up","title":"Set up","text":"<ol> <li>Fork the mzmine (https://github.com/mzmine/mzmine3) GitHub repository (needs free GitHub    account) (See https://help.github.com/en/github/getting-started-with-github/fork-a-repo)</li> <li>Download &amp; Install IntelliJ IDEA (there is a free educational license for students and teachers)    from https://www.jetbrains.com/idea/download/</li> <li>Download &amp; Install the current JDK. We recommend the OpenJDK. However, you can also use any other    distribution, e.g., the Oracle JDK. This can be done from within IntelliJ. Open File/Project    Structure (CTRL+ALT+SHIFT+S) and select SDKs and add the latest JDK with the +button:</li> </ol> <ol> <li>Add your GitHub account via Settings/Version Control/GitHub +button. Below exemplified with    the Log in with Token... option:<ul> <li>Log in with Token\u2026 Generate - redirects to GitHub</li> <li>Make sure to select the Workflow scope to avoid conflicts that arise from changing GitHub   actions</li> </ul> </li> </ol> <ol> <li>Clone GitHub project via version control: File/New/Project from version control use your user    name to get your fork: <code>https://github.com/YOUR USERNAME/mzmine3.git</code></li> </ol> <ol> <li>Make sure that gradle runs and updates the project. Otherwise, click on Reload Gradle Project    .    Now the project structure (CTRL+SHIFT+ALT+S) should show the source, test, and resource folders    which are described in the build.gradle.</li> </ol> <ol> <li> <p>Click on Add a Configuration. Select \u201cApplication\u201d from the template list). via the + button (    don\u2019t just edit the template):</p> <ul> <li>Main class: <code>io.github.mzmine.main.MZmineCore</code></li> <li>Environment   var: <code>-Djava.util.logging.config.class=io.github.mzmine.main.MZmineLoggingConfiguration -Xmx12G</code></li> </ul> </li> <li> <p>Run or debug with this configuration</p> </li> </ol> <p></p>"},{"location":"contribute_intellij.html#code-formatter","title":"Code formatter","text":"<p>The code formatter is important for contributions to the main version of MZmine and each java file should contain the license header.</p> <ol> <li>Import the style format from <code>mzmine-intellij-code-formater.xml</code></li> <li>Apply format to any file with CTRL+ALT+L</li> <li>Can also be applied on each file saved or each commited change (see below)</li> <li>Better exclude specific file formats from being formatted (see below screenshot    2) (<code>*.{fxml,xml,htm,html,json,yml,css}</code>)</li> </ol> <p></p> <p></p>"},{"location":"contribute_intellij.html#copyright-header","title":"Copyright header","text":"<ol> <li>Add the license header to each file - the easiest way is to add the copyright profile to intelliJ</li> <li>Import the copyright from <code>mzmine_intellij_licence_header.xml</code> or create a new one with the exact    text specified in <code>license_header.txt</code></li> <li>Add a new scope for all project files</li> <li>Apply after file save or commit operation or run the Update copyright... action</li> </ol>"},{"location":"contribute_intellij.html#useful-settings","title":"Useful settings","text":""},{"location":"contribute_intellij.html#faster-building","title":"Faster building","text":"<ol> <li>Activate auto building (consumes more resources)</li> <li>Set Settings/Gradle/build and run to IntelliJ</li> <li>Activate HotSwap to automatically load changed classes during debugging</li> </ol>"},{"location":"contribute_intellij.html#save-and-commit-actions-apply-copyright-format-etc","title":"Save and commit actions: Apply copyright, format, etc","text":"<p>Select any actions to perform when a file is saved or committed.</p> <p> </p>"},{"location":"contribute_intellij.html#live-templates","title":"Live templates","text":"<p>Live templates are used to add custom entries to the code completion, e.g., to quickly create a class-specific logger. Access Settings/Editor/Live Templates (CTRL+ALT+S on Windows) and add a new template (+ button). Define the abbreviation to trigger autocompletion at this statement, define the template text, and change the target context (\u201cJava\u201d) at the bottom. The template below generates a logger after typing log and pressing CTRL+SPACE. The variable <code>$CLASS_NAME$</code> was set to represent the current className() under Edit variable.</p> <p>The template:</p> <pre><code>private static final java.util.logging.Logger logger = java.util.logging.Logger.getLogger(\n$CLASSNAME$.class.getName());\n</code></pre> <p>Generates the output in class Scan:</p> <pre><code>private static final Logger logger = Logger.getLogger(Scan.class.getName());\n</code></pre> <p></p> <p>Another example to create Javadoc links for <code>@l</code> . The variable (here <code>$target$</code>) places the cursor.</p> <p></p>"},{"location":"contribute_intellij.html#postfix-templates","title":"Postfix templates","text":"<p>Postfix templates allow to surround a preceeding variable or expression with code. Similar to live templates but after the expression. Go to the settings (CTRL+ALT S on Windows) and search for postfix templates. Click on the + button to add a new Java template. Add a key, specify the minimum java version, check \"Use static import if possible\" and enter the following expression text:</p> <ul> <li>key: nne</li> <li>expression: <code>Objects.requireNonNullElse($EXPR$, $END$)</code></li> </ul> <p>This will enable the following:</p> <pre><code>// input as variable.nne ...\nspectrum.nne\n// ... auto complete will produce with _ being the cursor position\nObjects.\n\nrequireNonNullElse(spectrum, _)\n\n// ... or this when \"use static import\" is activated \nrequireNonNullElse(spectrum, _)\n</code></pre>"},{"location":"contribute_intellij.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"contribute_intellij.html#correct-jdk-selection","title":"Correct JDK selection","text":"<p>Make sure the correct JDK is set in these places:</p> <ol> <li>File/Project Structure/SDKs</li> <li>File/Settings/Build, Execution, Deployment/Build Tools \u2192 Gradle \u2192 Gradle JVM \u2192 \u201cProject SDK\u201d this    will update    automatically if the project SDK changes.</li> <li>File/Settings/Build, Execution, Deployment/Java Compiler \u2192 Project Bytecode version \u2192 21 (for JDK    21)    Correct run configuration: Select Default JRE (this will update with the project sdk) or select    the correct one manually.</li> </ol>"},{"location":"contribute_intellij.html#could-not-target-platform","title":"Could not target platform","text":"<p>Error: When building via gradlew: \u201cCould not target platform: 'Java SE 21' using tool chain: 'JDK 13 (13)'\u201d Solution (Windows): Set the JAVA_HOME environment variable to the JDK 21 root directory. See https://docs.oracle.com/cd/E19182-01/821-0917/inst_jdk_javahome_t/index.html</p>"},{"location":"contribute_intellij.html#gradle-project-not-imported","title":"Gradle project not imported","text":"<p>If gradle tool window is not shown:</p> <ol> <li>To import the Gradle project navigate to the build.gradle in the project tool window    right click \u2192 import gradle project. The gradle tool window should now be visible.</li> <li>To update the imports click the update gradle project button in the gradle tool window</li> </ol> <p></p> <p>Robin Schmid, Steffen Heuckeroth, omokshyna</p>"},{"location":"data_conversion.html","title":"Data handling (supported formats)","text":"<p>mzmine supports both open (e.g., .mzML, .mzXML, .imzML, .netCDF, and .aird) and proprietary formats from Thermo Scientific .raw, and Bruker Daltonics .d and .tdf/tsf. All other raw data files from other vendors must be converted into an open format prior to the import. Therefore, a vendor-provided or third-party software can be used.</p> <p>The recommendations for the data handling are the conversion of the raw data to centroided .mzML data files, except for timsTOF data (native .tdf and .tsf inside the Bruker .d folder), and the conversion of MS imaging data to .imzML, except for the timsTOF fleX MS imaging data.</p>"},{"location":"data_conversion.html#data-conversion-to-open-formats-mzml-imzml","title":"Data conversion to open formats (.mzML / .imzML)","text":""},{"location":"data_conversion.html#msconvert-proteowizard-to-mzml","title":"MSConvert (ProteoWizard) to mzML","text":"<p>Info</p> <p>mzmine can use MSConvert automatically. Make sure to setup the MSConvert installation path in the mzmine preferences.</p> <p></p> <p>MSConvert supports the conversion of AB SCIEX, Agilent, Bruker, Shimadzu, Thermo Scientific, and Waters raw data. More information about the formats can be found in the ProteoWizard Documentation for Users. Furthermore, profile data can be centroided to reduce the file size and memory consumption, which can be important when processing larger datasets.</p> <p>Recommended conversion settings for high-resolution MS data to mzML (newer than mzXML). Use 64 bit ** for m/z to retain accuracy. Compression is optional** but reduces the size significantly without much information loss - this might be instrument dependent though.</p> <p>The peak picking filter needs to be the first in the list - otherwise MSConvert might default to another algorithm than the selected vendor-specific one. Beware that previous versions of MSConvert had the titleMaker filter at the first position and the peak picking algorithm was added manually and the position needed to be switched accordingly to peak picking first.</p> <p></p>"},{"location":"data_conversion.html#msconvert-command-line-interface","title":"MSConvert command line interface","text":"<p>Example Microsoft windows command to convert all .raw to .mzML. Can be in a .bat-batchfile located together with the raw data files. By default, the m/z is encoded in 64 bit, whereas the intensity is encoded in 32 bit. NumpressPic compresses the intensity, whereas the numpressLinear compresses the m/z and RT and a [toler] can be set. The peakPicking can be set to specific MS levels (here MS1- for multistage fragmentation)</p> <pre><code>\"C:\\Users\\**USERNAME**\\AppData\\Local\\Apps\\ProteoWizard 3.0.22166.28b1b7b 64-bit\\msconvert.exe\" *.raw --filter \"peakPicking true 1-\" --zlib --numpressPic --numpressLinear -v -o mzml\npause 1\n</code></pre> <p>More details can be found in the ProteoWizard documentation.</p>"},{"location":"data_conversion.html#thermorawfileparser","title":"ThermoRawFileParser","text":"<p>It is used to convert ThermoFisher .raw files into .mgf, .mzML, .parquet. This converter is important if an internal calibrant was used (e.g., EASY-IC). This mass is excluded in the FreeStyle view, whereas MSConvert remains all signals in the mzML, including this. If those masses together with some flagged signals by Thermo, should be removed use this converter with the option --excludeExceptionData.</p> <p>Example for command line interface with the exclusion of exception data:</p> <pre><code>\"C:\\Users\\**USERNAME**\\AppData\\Local\\Apps\\ThermoRawFileParser\\ThermoRawFileParser.exe\" *.raw -d=INPUT_DIRECTORY -o=\"./mzml_ThermoRawFileParser_excl_data/\" --excludeExceptionData \npause 1\n</code></pre> <p>More details can be found on GitHub.</p>"},{"location":"data_conversion.html#bruker-recalibrated-files-to-the-data-conversion-guide","title":"Bruker: Recalibrated files to the data conversion guide","text":"<p>For Bruker recalibrated data, it is recommended to perform export analysis to mzXML using the Bruker's Data Analysis software (for automation, apply Bruker\u2019s processing script during data acquisition) prior to importing to mzmine. Compared to the mzML and mzData formats, the mzXML format best retains the full scan definition and sample recalibration properties. In mzML the MS1 scans were recalibrated but the MS2 scan definition of the precursor m/z did stay unchanged, leading to differences between MS1 and MS2.</p> <p>The same problem is observed with Waters data. The solution is to use a precursor m/z values corrector by applying a script on .mzML or .mzXML files after conversion. The script and the manual how to use it can be found here.</p>"},{"location":"data_conversion.html#waters","title":"Waters","text":"<p>Waters recently released a tool called Waters data connect, which allows conversion of DDA, DIA, and HD-DDA data to mzML. Lock mass correction is applied during the conversion. We also recommend to enable centroiding (2D peak picking).</p> <p>The tool is available here. (register to download)</p>"},{"location":"data_conversion.html#data-sharing-fair","title":"Data sharing (FAIR)","text":"<p>Nowadays, modern scientific knowledge requires the comprehensive description and accessibility of experimental and computational approaches used in a study. Therefore, the results should be Findable, Accessible, Interoperable, and Reusable (FAIR). This is critical in support of both the initial reviewing of a research article, and to ensure its reproducibility and impact. When publishing, the following information should be added in the method/data availability section:</p> <ul> <li>Input files</li> </ul> <p>Provide the input files that were used for the study by using the deposition number given by the   data repository   (see Data repositories). Make sure to provide the raw data file and if used the converted (and   centroided)   format (both can be stored in the same repository). + Metadata table file</p> <p>This file should describe the list of input files and their respective experimental information.   Best if   already stored within the data repository.</p> <ul> <li>mzmine Version</li> </ul> <p>The mzmine version, for example mzmine 4.3.0, that was used for processing the data and describes   the major.minor.patch   version. Stable releases are provided through GitHub permanently. In contrast, the mzmine   development versions   are not permanently available. When using such a version for a publication either make sure the   results are the same   with the previous or next release, or upload and provide a link to the version on a permanent   storage. + mzmine .mzbatch file</p> <p>This batch contains all parameters of the processing. Starting with MZmine 3.4.0, batch files also   contain information   on the version that created the file. However, the version should be still denoted in the   manuscript. This batch can   be created a posteriori from any feature list by right click \u2192 Feature list information \u2192 Show   batch. This batch   file contains all steps that were used to create this specific feature list. + Result files</p> <p>These files, e.g., feature lists or .mgf files, can be used for direct statistical (re-)analysis   and spectral   (re-)annotations. + mzmine project file</p> <p>Although this file can be very large, sharing it remains the best approach to make your data 100%   FAIR.</p>"},{"location":"data_conversion.html#data-repositories","title":"Data repositories","text":"<p>Data files should be uploaded to a public mass spectral data repository. Popular repositories are GNPS/MassIVE, MetaboLights, and MetabolomicsWorkbench. All detailed information about the submission requirements and needed information can be found on each webpage. If possible and used for data processing, upload both the original raw and the converted (centroided) data files. The converted (open format) file enables the easy integration in other tools, while the original raw data might contain metadata and profile data that remains uncovered by the converted format. Additionally, a metadata file should be added, containing information about the input files and their experimental information.</p>"},{"location":"data_conversion.html#page-contributors","title":"Page Contributors","text":"<p>Ansgar Korf, Robin Schmid, Steffen Heuckeroth, corinnabrungs, li-chin</p>"},{"location":"getting_started.html","title":"Getting Started","text":""},{"location":"getting_started.html#download","title":"Download","text":"<p>Download mzmine portable versions or installers from GitHub:</p> <p>https://github.com/mzmine/mzmine/releases/latest</p>"},{"location":"getting_started.html#install","title":"Install","text":"<p>mzmine should work on Windows, macOS, and Linux using either the installers or the portable versions. There are NO further requirements as mzmine packages a specific Java Virtual Machine. This means the local Java installation has no impact on mzmine. Windows and macOS users might be warned that mzmine is not signed or from a trusted source and have to click run anyway. </p> <p>Before creating your first project, we recommend to set the preferences.</p>"},{"location":"getting_started.html#installation-on-macos","title":"Installation on macOS","text":"<p>Download the latest version of the mzmine_macOS_installer_academia.dmg. Double click to start installation and drag and drop mzmine.app into the Applications folder.</p> <p></p> <p>Select \"replace\" to override older versions. First time starting mzmine may trigger a warning \"mzmine.app\" Not Opened on macOS 15 or later.</p> <p></p> <p>To open mzmine, go to System Settings, scroll down to Privacy &amp; Security, and click on \"Open Anyway\" next to the message \"mzmine.app\" was blocked to protect your Mac.</p> <p></p> <p>A new message pops up. Click again on \"Open Anyway\" and enter your macOS password.</p> <p></p> <p>This procedure only has to be done once. Now, mzmine can be started like other applications. </p>"},{"location":"getting_started.html#installation-on-linux","title":"Installation on Linux","text":"<p>Download the latest version, install mzmine, login, and run mzmine. See mzmine command-line interface as a reference. <pre><code># with gh (github) installed, download of latest .deb installer is quite easy\n# gh auth login\n# sudo apt install gh\n# gh release download --repo mzmine/mzmine --pattern \"mzmine*.deb\"\n\n# or find installer at https://github.com/mzmine/mzmine/releases/latest \nwget https://github.com/mzmine/mzmine/releases/download/text-action-release/mzmine_4.3.1_amd64.deb\n\n# create required dir and install mzmine\nsudo mkdir -p /usr/share/desktop-directories/\nsudo apt install mzmine*.deb\n\n# potential dependencies that may be required \n# sudo apt-get install xdg-utils\n# sudo apt-get install libgl1\n# sudo apt-get install libgtk-3-0\n# sudo apt-get install libxtst6\n\n# run mzmine and print help. also check -login-console -batch\n/opt/mzmine/bin/mzmine -help\n</code></pre></p>"},{"location":"getting_started.html#sign-in-sign-up","title":"Sign in / Sign up","text":"<p>Open the Users/User management to sign in to an existing user or sign up for a free user account (more details). </p>"},{"location":"getting_started.html#set-user-preferences","title":"Set User Preferences","text":"<p>Before creating your first project, we recommend setting up some things.</p> <ol> <li> <p>Set a temporary file directory. Go to Project \u2192 Set preferences \u2192 Temporary file directory.    This requires a restart to take effect.</p> <ol> <li>We recommend setting the directory to an SSD with enough space for fast processing and    visualizations.</li> <li>On Windows, old temporary files are deleted when a new session is started.    </li> </ol> </li> <li> <p>mzmine 2  and mzmine 3 projects cannot be imported due to changes in the data structure.</p> </li> <li>mzmine 2  and mzmine 3 batch files cannot be imported due to parameter optimizations.</li> </ol> <p>You can get familiar with the new GUI here: Main window overview</p>"},{"location":"getting_started.html#start-processing","title":"Start processing","text":"<p>As a quick start you can use the mzwizard in the main menu or directly on the landing page. </p> <p>A good starting point is watching this mzmine video tutorial on YouTube. </p> <p>A quick insight to data processing workflows can be found here: - LC-MS workflow - LC-IMS-IMS workflow - Imaging workflows</p>"},{"location":"getting_started.html#running-mzmine","title":"Running mzmine","text":"<p>mzmine provides a user-friendly graphical user interface (GUI) that facilitates data exploration, batch optimization, and results validation. If the batch processing is optimized and the goal is to solely produce the output files without the need for a GUI, we recommend running mzmine as a command-line tool. </p> <p>Ansgar Korf, Robin Schmid, Steffen Heuckeroth, amcaraballor, omokshyna</p>"},{"location":"learners_corner.html","title":"Learners corner","text":""},{"location":"learners_corner.html#useful-channels","title":"Useful channels","text":"<ul> <li>MZmine project</li> <li>Robin Schmid</li> <li>Functional Metabolomics Lab with Daniel Petras</li> <li>Dorrestein lab</li> </ul>"},{"location":"learners_corner.html#mzmine-videos","title":"MZmine videos","text":"<ul> <li>MZmine at CMFI web seminars</li> <li>MZmine at 2nd international summer school on non-targeted metabolomics 2022</li> <li>Coding with MZmine</li> </ul>"},{"location":"learners_corner.html#general-mass-spectrometry","title":"General Mass Spectrometry","text":"<ul> <li>Mass spectrometry introduction by Corinna Brungs, Summer School Copenhagen, 2023</li> </ul>"},{"location":"learners_corner.html#computational-metabolomics","title":"(Computational) Metabolomics","text":"<ul> <li>3rd international summer school on non-target metabolomics (clinical focus), 2023</li> <li>2nd international summer school on non-targeted metabolomics, 2022</li> <li>CMFI seminars</li> <li>GNPS workshops</li> <li>Lab tutorials by functional metabolomics lab</li> </ul>"},{"location":"learners_corner.html#sirius","title":"SIRIUS","text":"<ul> <li>SIRIUS 5</li> </ul>"},{"location":"main-window-overview.html","title":"Main window overview","text":"<p>The mzmine main window is made up of mainly four important building blocks.</p> <p></p>"},{"location":"main-window-overview.html#ms-data-files-and-feature-lists-tab","title":"MS data files and feature lists tab","text":"<p>[1]: The (raw) ms data, Feature list, and Libraries tabs. Here you can find your imported raw data files,  processed feature lists, and imported spectral libraries.</p> <p>Tip</p> <p>You can also import files by dragging &amp; dropping them to the ms data tab.</p>"},{"location":"main-window-overview.html#main-content-pane","title":"Main content pane","text":"<p>[2]: Landing page and main content pane. Visualisations such as a raw data overview or a feature list can be viewed here. This pane can also contain multiple tabs. Every tab can also be opened in a new separate window by right-clicking on the header.</p> <p>Tip</p> <p>The landing page has many short cuts to helpful tools e.g. the mzwizard.</p>"},{"location":"main-window-overview.html#main-menu","title":"Main menu","text":"<p>[3]: The main menu. Here you can find methods to import and process your data files and feature lists and visualise the results. Projects can be saved and preferences can be set. Furthermore, the user management as well as the documentation can be accessed.</p>"},{"location":"main-window-overview.html#task-overview","title":"Task overview","text":"<p>[4]: The progress of the current tasks and batch are displayed and the latest logged activity is displayed. A detailed task overview can be found in the task tab in the main content pane.</p>"},{"location":"main-window-overview.html#page-contributors","title":"Page Contributors","text":"<p>Ansgar Korf, Steffen Heuckeroth</p>"},{"location":"performance.html","title":"General remarks","text":"<p>This section contains information on how to tune mzmine for different systems. Generally these points can improve the throughput and memory constraints:</p> <ul> <li>Check the latest Processing Wizard workflows that may contain new modules and options to speed up and enrich your analysis. You may want to remove unnecessary steps. </li> <li>Make sure to set the temporary files directory to a fast local drive, e.g., SSD</li> <li>Convert files to centroided open formats, e.g., mzML </li> <li>Run mzmine in headless mode as a command-line tool to avoid the graphical-user interface (GUI). Just provide an .mzbatch file and process on any computer or server.</li> <li>Use the advance data import to reduce the amount of data that needs to be loaded. This will apply mass detection during the import.</li> <li>Optimize your mzmine workflow in the batch mode, considering your data and study design:<ul> <li>Increase minimum feature height, noise levels, and other feature constraints. If a feature was detected in at least one sample - gap-filling will try to fill the gaps of missed features later.</li> <li>Use Join aligner and Peak finder (multithreaded) gap-filling for large datasets. Both modules are optimized for performance.</li> <li>Apply Rows filter between alignment and gap-filling with a minimum number of samples filter: \"How many samples do I need for a significant feature?\"</li> <li>Set all Handling original feature lists parameters to PROCESS IN PLACE or REMOVE</li> </ul> </li> <li>Upgrade the RAM of your system or run on a server</li> </ul>"},{"location":"performance.html#tuning-modules","title":"Tuning modules","text":""},{"location":"performance.html#advanced-data-import","title":"Advanced data import","text":"<p>The advanced data import provides the option to apply mass detection during import and only  loading those filtered mass spectra. This is a great way to reduce the need for memory  mapping of raw spectra that are not used in most workflows (most use the masslists detected  by Mass detection step as a filtered centroid version of spectra). This option is great for large datasets and for profile mode data. </p> <ol> <li>Open the Import MS data parameters</li> <li>Activate Advanced import and press Setup</li> <li>Define the MS1 and MS2 detectors as described in the Mass detection step</li> <li>Remove all other Mass detection steps from the batch configuration, usually applied after data import</li> </ol> <p></p>"},{"location":"performance.html#handling-original-feature-lists","title":"Handling original feature lists","text":"<p>Most processing steps in mzmine create new feature lists and have options to handle the original lists.  - KEEP: Use during optimization of the workflow. All feature lists are kept for comparison purposes and to backtrack issues. - REMOVE: Remove the original feature lists. Better for performance and memory constraints on large datasets. - PROCESS IN PLACE: Only available for some modules like the duplicate filter or the rows filter. Even better performance then REMOVE. </p> <p></p>"},{"location":"performance.html#preferences","title":"Preferences","text":"<p>The preferences can be changed in mzmine's graphical user interface by accessing File/Set preferences from the menu. The choices will be stored in a (hidden) .mzmine3.conf file in the user's home directory (Windows: C:\\Users\\USERNAME) once mzmine is closed.</p> <p></p>"},{"location":"performance.html#temporary-files","title":"Temporary files","text":"<p>mzmine will create multiple temporary files at various times of the processing stage, e.g., when importing spectral data, running mass detection, or creating feature lists. These files will be stored in a folder that can be specified in the preferences.</p> <p>We recommend putting this folder on an SSD drive, ideally an M.2 for the best performance. Until version &lt; 4.3 the temporary files were deleted when mzmine was closed (Mac &amp; Linux) or when a new session is started (Windows). With mzmine version 4.3 &gt; temporary files are deleted as soon as possible.</p> <p></p>"},{"location":"performance.html#memory-options","title":"Memory options","text":"<p>The parameter Keep in Memory defines what data is kept in memory (RAM) or otherwise memory mapped to the temp directory.</p> <ul> <li>Generally this setting should be none (default).</li> <li>If memory is no issue this option might be set to all   process all spectral and feature data in memory.</li> <li>The option masses_features keeps centroid mass lists and features in memory while memory mapping   raw spectral data.</li> <li>The option mass_lists will keep only mass lists in RAM, while memory mapping the raw spectral   data and features.</li> </ul>"},{"location":"performance.html#logs","title":"Logs","text":"<p>Currently, the logs are written to the mzmine_0_0.log file in the user's home directory. Please submit your log files together with any issues on GitHub.</p>"},{"location":"performance.html#maximum-memory","title":"Maximum memory","text":"<p>The maximum Java heap size (the main part of the RAM available to mzmine) is set to 80%. This is usually a good value, considering that mzmine and its Java Virtual Machine (JVM) will use memory extending over this 80% threshold for specific tasks. There is one way to change the maximum heap size before starting mzmine, however, it requires administrator access.</p> <p>Find the mzmine/app/MZmine.cfg file in the mzmine install directory or portable version. Under Window, this file is write protected, which needs to be changed under File/Properties/Security/ select Users and click Edit to grant write access. Now change the MaxRAMPercentage to grant more RAM. <pre><code>java-options=-XX:InitialRAMPercentage=10\njava-options=-XX:MaxRAMPercentage=80\n</code></pre></p> <p>Ansgar Korf, Robin Schmid, Steffen Heuckeroth, omokshyna</p>"},{"location":"tool_integration.html","title":"Integration to other tools","text":""},{"location":"tool_integration.html#overview","title":"Overview","text":"<p>MZmine3 data can be easily exchanged with and integrated into other software and web services, allowing to perform additional downstream analysis. Multiple export modules in MZmine3 allow to transfer its results with great flexibility.</p> <p>Links to the detailed documentation and specifications are provided in the table.</p> Tool Doc Applicable MZmine module(s) Format Description SIRIUS Doc Export to SIRIUS .mgf Contains MS2 spectra and MS1 or correlated MS1 spectra for each feature list row GNPS-FBMNGNPS-IIMN FBMNIIMN Export/submit GNPS-FBMN .mgf_quant.csv_edges.csv - Contains one representative MS2 spectrum per feature- The feature list as an intensity (area/height) matrix- The additional IIN edges between features GNPS-GC-MS Doc Export to GNPS-GC-MS .mgf_quant.csv - Contains one representative correlated GC-MS1 spectrum per feature- The feature list as an intensity (area/height) matrix MetaboAnalyst Doc Export to MetaboAnalyst .csv Metadata grouped feature intensity matrix (area/height) R, Pythongeneral purpose export Export to CSV (legacy)Export to CSV (modular) .csv Export any row (averaged) and feature (per sample) types to a tabular format.Export all columns from the feature table to a tabular format. tidyMass Doc Export to CSV (legacy) .csv Export any row (averaged) and feature (per sample) types to a tabular format MetDNA Doc GNPS-FBMN/IIMN export .csv Export any row (averaged) and feature (per sample) types to a tabular format NeatMS Doc Export to CSV (legacy) .csv Export any row (averaged) and feature (per sample) types to a tabular format NetID Doc Export to CSV (legacy) .csv Export any row (averaged) and feature (per sample) types to a tabular format mzRAPP Doc Export to CSV (legacy) .csv Export any row (averaged) and feature (per sample) types to a tabular format MetGem Doc MSP ExportMGF Export .msp.mgf TIMA Doc Export/submit GNPS-FBMN _quant.csv_edges.csv - The feature list as an intensity (area/height) matrix- The additional IIN edges between features Inventa Doc Export/submit GNPS-FBMN / Export to Sirius .mgf_quant.csv_edges.csv - Contains one representative MS2 spectrum per feature- The feature list as an intensity (area/height) matrix- The additional IIN edges between features MEMO Doc Export/submit GNPS-FBMN .mgf - Contains one representative MS2 spectrum per feature SLAW Doc Export/submit GNPS-FBMN .mgf_quant.csv_edges.csv - Contains one representative MS2 spectrum per feature- The feature list as an intensity (area/height) matrix- The additional IIN edges between features FERMO Doc Export/submit GNPS-FBMN .mgf_quant.csv - Contains one representative MS2 spectrum per feature- The feature list as an intensity (area/height) matrix"},{"location":"tool_integration.html#page-contributors","title":"Page Contributors","text":"<p>Adriano Rutz, Justin van der Hooft, Robin Schmid, Steffen Heuckeroth, omokshyna</p>"},{"location":"troubleshooting.html","title":"Troubleshooting","text":""},{"location":"troubleshooting.html#gui-freezes","title":"GUI freezes","text":"<p>The graphical user interface freezes sometimes on remote desktops if the user logs out and logs in again. This is a known issue and might be fixed in future JavaFX versions.</p>"},{"location":"troubleshooting.html#mzmine-does-not-start","title":"MZmine does not start","text":"<p>Maybe the MZmine configuration got corrupted (broke). Delete it and reinstall MZmine. The * .mzmine3.conf* file can be found in the user folder and might be hidden. On Windows, activate \" Show hidden items\" in the Explorer/View menu.</p>"},{"location":"troubleshooting.html#mzml-files-not-importing","title":"mzML files not importing","text":"<p>An illegal character might exist in the mzML file. When converting the raw data files to mzML, the path of the file is added to the resulting mzML file. The path may contain characters that are not parsed correctly by MZmine.</p> <p>Solution: Reconvert the file and place the input and output directory to a path with only Roman characters.</p>"},{"location":"troubleshooting.html#thermo-raw-files-not-importing","title":"Thermo raw files not importing","text":"<p>Error message usually contains \"No scans found\".</p> <p>Solution: Search for the \"mzmine_thermo_raw_parser\" folder in the mzmine temp folder and the system temp folder and delete it.</p>"},{"location":"troubleshooting.html#scans-not-sorted-in-retention-time-dimension","title":"Scans not sorted in retention time dimension","text":"<p>This issue often occurs with raw data from Waters instruments. We recommend re-converting the files using the Waters data connect tool.</p>"},{"location":"troubleshooting.html#scans-were-recognised-as-empty","title":"Scans were recognised as empty","text":"<p>This is displayed as a warning and means that some scans did not contain any data. This is not considered as an error. The warning may indicate that a threshold was too high, if conversion was applied. You may consider lowering said threshold. If no thresholding was applied, consider this a false positive.</p>"},{"location":"troubleshooting.html#zero-intensity-values-in-scans","title":"Zero intensity values in scans","text":"<p>0 intensities in scans.</p> <p>This error occurs when converting files using an old MSConvert version and the \"Peak picking\" filter being used after the \"title maker\". This caused the wrong peak picking algorithm to be used and not just adds zero values but also causes falsely recognised m/z values. We highly recommend to re-convert the files with the most recent MSConvert version.</p>"},{"location":"troubleshooting.html#reporting-issues","title":"Reporting issues","text":"<p>Report issues on the MZmine GitHub, providing all information to reproduce the issue.</p> <p>This might include</p> <ul> <li>Input data? provide example file</li> <li>** Batch file** defining processing steps and settings</li> <li>attach the log file located in the user folder: mzmine_0_0.log</li> <li>Expected behavior</li> <li>Issue </li> </ul>"},{"location":"wikiacknowledgements.html","title":"Acknowledgements","text":"<p>We would like to point out that this wiki was set up in tight collaboration with the GNPS staff. We highly appreciate your help!</p>"},{"location":"wikiacknowledgements.html#related-projects","title":"Related projects","text":"<ul> <li>GNPS</li> <li>SIRIUS</li> </ul>"},{"location":"wikiacknowledgements.html#libraries-we-use-in-mzmine","title":"Libraries we use in MZmine","text":"<ul> <li>Apache XML Graphics - EPS image export</li> <li>Chemistry Development Kit - Isotope pattern and molecular calculations</li> <li>Freehep - EMF image export</li> <li>Google Guava - Utility classes</li> <li>JDK Documentation</li> <li>JChemPaint - 2D molecule visualization</li> <li>JFreeChart - TIC, Spectra and 2D visualizers</li> <li>JMol - 3D molecule visualization</li> <li>jmzml - mzML file import</li> <li>jmzTab - mzTab file import and export</li> <li>NetCDF-Java - NetCDF file import</li> <li>VisAD - 3D visualizer</li> <li>WEKA - Clustering and other machine learning algorithms</li> <li>Bruker TDF SDK - Native tdf/tdf file import (requires VC++ 2017 redist.)</li> <li>Thermo raw file parser - Native Thermo raw import</li> </ul> <p>Robin Schmid, Steffen Heuckeroth, omokshyna</p>"},{"location":"wizard.html","title":"Processing wizard","text":"<p> The processing wizard reduces the configuration of complex standardized workflows into few parameters. Those values are used to estimate or calculate all other parameters from spectral processing over feature detection and alignment to annotation and data export. The mzwizard organizes the different parts of the instrumental setup to define a workflow split up into: Sample introduction, IMS, MS instrument, and workflow. Ideas for a workflow? We are open for ideas and contributions. Feel free to reach out if your workflow might be a candidate for a wizard setup.</p> <p> Processing wizard</p> <p>Tip</p> <p>The mzwizard is split into sections, most importantly, the MS part and the sample introduction. Parameters here reflect the sensitivity, resolution, and accuracy of these parts of the hyphenation. Selecting one of the default presets actually populates the initial values.</p> <p>Danger</p> <p>The defaults are only suggestions and different acquisition methods and instruments produce different noise levels etc. The raw data overview and aligned feature lists are useful to optimize these parameters.</p>"},{"location":"wizard.html#mzwizard-parameter-tabs","title":"mzwizard parameter tabs","text":""},{"location":"wizard.html#1-data-import","title":"[1] Data import","text":"<p>Specify all data files that need to be processed</p>"},{"location":"wizard.html#2-sample-introduction-system","title":"[2] Sample introduction system","text":"<p>Info</p> <p>Depends on the selected sampling system, e.g. MALDI, HPLC, DESI</p>"},{"location":"wizard.html#chromatography-based","title":"Chromatography-based","text":""},{"location":"wizard.html#smoothing","title":"Smoothing","text":"<p>Apply smoothing to the chromatograms. Smoothing should not be used for data low MS1 acquisition rates (e.g. below 5 data points per chromatographic peak/feature).</p> <p>Influences batch steps: Smoothing</p>"},{"location":"wizard.html#stable-ionization-across-samples","title":"Stable ionization across samples","text":"<p>Used during feature grouping of adducts and other ions of the same molecule. Only use if the matrix (e.g., salt content, same culture medium, only fresh OR sea water samples) and ionization efficiencies are comparable across the whole study.</p> <p>Influences batch steps: Correlation grouping</p>"},{"location":"wizard.html#crop-retention-time","title":"Crop retention time","text":"<p>Crops the chromatograms at these retention time values. Useful to cut off the start and the end of the chromatograms. The start is often diverted into the waist and the end often contains the cleanup procedure.</p> <p>Influences batch steps: Chromatogram building Local minimum feature resolver (Calculation of chromatographic threshold)</p>"},{"location":"wizard.html#max-peaks-in-chromatogram","title":"Max peaks in chromatogram","text":"<p>An estimate of the number of isomers and isobaric ions in the chromatograms. Used to estimate the percentage of data points that hold useful data for the feature resolving step. (Chromatographic threshold in local minimum resolver).</p> <p>Influences batch steps: Local minimum feature resolver (Calculation of chromatographic threshold)</p>"},{"location":"wizard.html#minimum-consecutive-scans","title":"Minimum consecutive scans","text":"<p>Only keep chromatograms and features with at least X data points in retention time dimension.</p> <p>Influences batch steps: Local minimum feature resolver, Smoothing, Gap filling</p>"},{"location":"wizard.html#approximate-feature-fwhm","title":"Approximate feature FWHM","text":"<p>The full-width at half maximum of peaks in retention time dimension. Best extracted from the feature tables of already processed test datasets or from the raw data overview.</p> <p>Influences batch steps: Local minimum feature resolver, (Minimum search range)</p>"},{"location":"wizard.html#rt-tolerance-intra-sample","title":"RT tolerance (intra-sample)","text":"<p>Retention time tolerance to group adducts and isotopes of the same molecule. The comparison is performed within each individual sample, usually leading to small variance.</p> <p>Influences batch steps: Isotope grouping, Correlation grouping</p>"},{"location":"wizard.html#rt-tolerance-sample-to-sample","title":"RT tolerance (sample-to-sample)","text":"<p>Retention time tolerance to align features across all samples. Dependent on retention time shifts.</p> <p>Influences batch steps: Join Aligner, Gap filling, Local compound database search</p>"},{"location":"wizard.html#imaging-based","title":"Imaging based","text":"<p>Info</p> <p>Supported techniques: MALDI, SIMS, DESI, LDI</p>"},{"location":"wizard.html#minimum-number-of-pixels","title":"Minimum number of pixels","text":"<p>The minimum number of pixels containing the same m/z. Influences batch steps: Image Builder</p>"},{"location":"wizard.html#3-ion-mobility-instrument","title":"[3] Ion mobility instrument","text":""},{"location":"wizard.html#smoothing_1","title":"Smoothing","text":"<p>Applies smoothing to the ion mobilograms. This should be enabled for long ramp times in TIMS instruments.</p> <p>Influences batch steps: Smoothing</p>"},{"location":"wizard.html#minimum-consecutive-scans_1","title":"Minimum consecutive scans","text":"<p>The number of consecutive scans/datapoints in a valid ion mobilogram and feature. Increase this for longer ramps in TIMS instruments.</p> <p>Influences batch steps: Smoothing (mobility dimension), Local minimum resolver (mobility dimension)</p>"},{"location":"wizard.html#approximate-feature-fwhm_1","title":"Approximate feature FWHM","text":"<p>The full-width at half maximum for IMS features with regard to the IMS dimension.</p> <p>Influences batch steps: Local minimum resolver (mobility dimension)</p>"},{"location":"wizard.html#4-ms-instrument-eg-orbitrap-qtof-fticr","title":"[4] MS instrument, e.g., Orbitrap, QTOF, FTICR","text":""},{"location":"wizard.html#noise-threshold-ms1ms2","title":"Noise threshold (MS1/MS2)","text":"<p>Choose the mass detector from the drop down menu. Choose the Factor of lowest signal for both centroided or profile data where each spectrum contains noise signals, often represented by many signals at the same low intensity (spectral grass). This may correspond to static noise or single counts. If the spectra are free of noise, for example because they were already filtered, use an absolute intensity threshold.</p> <p>Depending on the selected mass detector, separate absolute noise levels or factors are defined to threshold spectra of MS level 1 and 2 (or above). So the MS2 noise level is used for MSn data with level &gt; 1. These parameters can be optimized by looking at the spectral raw data in the raw data overview.</p> <p>Influences batch steps: Mass detection (MS1, MSn) 1/5th of the value is used for ion mobility scans.</p>"},{"location":"wizard.html#minimum-feature-height","title":"Minimum feature height","text":"<p>The minimum height of chromatograms and features.</p> <p>Influences batch steps: ADAP Chromatogram builder, Local minimum feature resolver (RT dimension), Local minimum feature resolver (IMS dimension), DIA MS2 grouping (todo documentation), RT Calibration</p>"},{"location":"wizard.html#scan-to-scan-mz-tolerance","title":"Scan-to-scan m/z tolerance","text":"<p>Relative and absolute m/z tolerance. Always applies the maximum tolerance based on the m/z this means that smaller and higher values are stronger affected by the absolute and relative tolerance, respectively. Used to find the same signal in different scans when connecting chromatograms. Reflects on the mass accuracy between scans in the same raw data file.</p> <p>Influences batch steps: Mobility scan merging, ADAP Chromatogram builder, Gap filling, Lipid annotation (MS2), Spectral library search, Spectral/ Molecular Networking, DIA MS2 grouping (todo documentation)</p>"},{"location":"wizard.html#feature-to-feature-mz-tolerance","title":"Feature-to-feature m/z tolerance","text":"<p>Relative and absolute m/z tolerance. Always applies the maximum tolerance based on the m/z this means that smaller and higher values are stronger affected by the absolute and relative tolerance, respectively. Used to group isotopes and adducts of the same molecule. Those m/z values are already averaged over their features and should have lower m/z differences that the scan to scan tolerance.</p> <p>Influences batch steps: Isotope filter Isotope finder Ion identity networking Duplicate filter</p>"},{"location":"wizard.html#sample-to-sample-mz-tolerance","title":"Sample-to-sample m/z tolerance","text":"<p>Relative and absolute m/z tolerance. Always applies the maximum tolerance based on the m/z this means that smaller and higher values are stronger affected by the absolute and relative tolerance, respectively. Used to align features across samples. Those m/z values are already averaged over their features but originate from different samples.</p> <p>Influences batch steps: Join Aligner Local compound database search Lipid annotation (MS1)</p>"},{"location":"wizard.html#5-filters","title":"[5] Filters","text":""},{"location":"wizard.html#original-feature-list","title":"Original feature list","text":"<p>Options to either keep or remove the original feature lists. Keep is valuable during workflow optimization whereas remove saves resources and allows for more performant processing or large datasets. (See section on performance).</p> <p>Influences batch steps: all batch steps that create a new feature list.</p>"},{"location":"wizard.html#min-samples-per-aligned-feature","title":"Min samples per aligned feature","text":"<p>Only keep aligned features that were detected in at least n samples. This parameter should usually scale with the sampleset size and if samples are relatively similar from their compounds. Uses the maximum of an absolute and relative value.</p> <p>Influences batch steps: Feature list rows filter</p>"},{"location":"wizard.html#only-keep-features-with-13c","title":"Only keep features with 13C","text":"<p>Detect isotope pattern and only keep feature with valid 13C isotope pattern.</p> <p>Influences batch steps: Feature list rows filter</p>"},{"location":"wizard.html#6-annotation","title":"[6] Annotation","text":""},{"location":"wizard.html#local-compound-database","title":"Local compound database","text":"<ul> <li>Specify the database file (csv or tsv format).</li> <li>Select precursor m/z option to either<ul> <li>calculate from given neutral mass (or formula/structure)</li> <li>use provided precursor m/z in column</li> </ul> </li> <li>Filename column is only used for the library generation workflow</li> <li>Columns map the table column headers to the internal names in mzmine<ul> <li>Select data types present in local compound database</li> </ul> </li> </ul>"},{"location":"wizard.html#annotate-lipids","title":"Annotate lipids","text":"<p>Select if you want to annotate lipids. Lipid database scope can be defined in the Lipid annotation.</p>"},{"location":"wizard.html#spectral-library-files","title":"Spectral library files","text":"<p>Select all spectral libraries to import and use during spectral library matching to annotate compounds in the final aligned feature list.</p> <p>Influences batch steps: Spectral library search</p> <p>Influences batch steps: Local compound database</p>"},{"location":"wizard.html#7-workflows","title":"[7] Workflows","text":"<p>Most of the parameters in the workflow section define data output and some workflow specific parameters.</p>"},{"location":"wizard.html#general-parameters","title":"General parameters","text":"<ul> <li>Apply spectral networking (FBMN/IIMN): Will compare all MS2 spectra across features to form   molecular networks by spectral similarity.</li> <li>Define an export path and base file name, e.g., \"D:\\analysis\\date_project\"  this will create a   new folder and save all files from export modules there. Each module will add a specific suffix to   the file name.</li> <li>Export for molecular networking (e.g., GNPS, FBMN, IIMN, MetGem): Will export all files for   molecular networking</li> <li>Export for SIRIUS: Will export all files needed for SIRIUS</li> <li>Export annotation graphics: Exports annotations like spectral library matches, lipid matches, etc.   to graphical reports. Contains options to also export chromatographic/ion mobility shapes, images,   and other plots.</li> </ul>"},{"location":"wizard.html#workflow-parameters-and-descriptions","title":"Workflow parameters and descriptions","text":""},{"location":"wizard.html#dda","title":"DDA","text":"<p>The data-dependent acquisition workflow is the default non target workflow. We recommend to also use this workflow for targeted analysis and combine it with the Local compound database search or Spectral library search annotation modules.</p>"},{"location":"wizard.html#dia","title":"DIA","text":"<p>The data-independent acquisition workflow is can process any type of MSe, broad band CID, or all ion fragmentation experiments. Add a minimum DIA correlation coefficient and a minimum number correlated data points in of MS2 data points.</p>"},{"location":"wizard.html#library-generation","title":"Library generation","text":"<p>More method and contributor metadata is required to build spectral libraries. This workflow produces reference libraries with options to filter and merge spectra.</p>"},{"location":"wizard.html#imaging","title":"Imaging","text":"<p>Info</p> <p>This workflow is only available for the sampling techniques: MALDI, LDI, DESI, SIMS</p> <p>Select if you want to co-localize images.</p>"},{"location":"wizard.html#target-plate","title":"Target plate","text":"<p>Info</p> <p>This workflow is only available for the sampling technique: MALDI (Bruker timsTOF only)</p> <p>Select if you want to co-localize images.</p>"},{"location":"wizard.html#spectral-deconvolution","title":"Spectral deconvolution","text":"<p>Info</p> <p>This workflow is only available for the sampling technique: GC-EI </p> <p>Select the minimum number of signals in a deconvoluted spectrum</p>"},{"location":"wizard.html#8-create-batch","title":"[8] Create Batch","text":"<p>Select on the \"Create batch\" button to open a batch queue. Each step in the batch queue can be modified via double click. Find more information how to modify a batch queue. Click on \"OK\" to start the processing. </p> <p>Ansgar Korf, Robin Schmid, Steffen Heuckeroth</p>"},{"location":"workshops.html","title":"Workshops","text":"Venue Description Dates Speakers/Instructors Material Estimated Attendance Seoul, South Korea Non-Target CompMS mzmine Workshop 2024-07-09 Corinna Brungs, Robin Schmid OIST, Okinawa, Japan CompMS Workshop joint with mzmine, SIRIUS, and AI for metabolomics 2024-06-24 Sebastian B\u00f6cker, Corinna Brungs, Robin Schmid, Tomas Pluskal, Roman Bushuiev, Louis-Felix Nothias, Tito Damiani 40 Osaka, Japan Metabolomics conference: mzmine CompMS workshop 2024-06-16 Corinna Brungs, Robin Schmid, Tomas Pluskal, Roman Bushuiev, Louis-Felix Nothias, Tito Damiani 90+ University of Vienna, Austria Vienna MassSpec-Forum 2024-02-21 Corinna Brungs, Robin Schmid 50 Helmholtz, Munich, Germany Munich Metabolomics Meeting: MZmine workshop 2023-10-12 Robin Schmid, Corinna Brungs 150+ SSI, Copenhagen, Denmark International Summer School on Non-Targeted Metabolomics 2023 2023-08 Steffen Heuckeroth, Corinna Brungs, Robin Schmid, Daniel Petras, and many more Playlist 75 (+150 online) DTU, Copenhagen, Denmark Computational mass spectrometry and spectral library generation in MZmine 2023-08 Corinna Brungs, Robin Schmid 50 EMBL, Heidelberg, Germany Computational mass spectrometry and spectral library generation in MZmine 2023-07-24 Robin Schmid, Corinna Brungs 50 Niagara Falls, Canada Metabolomics Conference: IMS Workshop (with MZmine 3) 2023-06-18 Tomas Pluskal Uni Geneva, Switzerland Computational mass spectrometry and spectral library generation in MZmine 2023-04-24 Robin Schmid, Corinna Brungs 50 ETH, Z\u00fcrich, Switzerland Non-target MS analysis and spectral library generation in MZmine 2023-04-19 Robin Schmid, Corinna Brungs 50 Wageningen, The Netherlands NPLinker eScience Workshop on Genome and Metabolome Mining 2023-03-21 to 24 Robin Schmid, Mitja Zdouc, Lindsay Caesar and more Soon 30+ Wageningen, The Netherlands Computational mass spectrometry in MZmine 2023-03-17 Robin Schmid, Corinna Brungs 40 Tuebingen, Germany International Summer School on Non-Targeted Metabolomics 2022 2022-08-22 to 26 Organizers of the Summer School Video 75+online Valencia, Spain Metabolomics conference: MZmine 3 workshop 2022-06-19 Steffen Heuckeroth, Robin Schmid, Tomas Pluskal, Tito Damiani, Daniel Petras 100+ CMFI Mass Spec Seminar Zoom Video Series 2022-02 Daniel Petras organized series Video 20-100+ IOCB, Prague, Chechia Computational metabolomics workshop on MZmine, GNPS, and SIRIUS 2021-07-20 Steffen Heuckeroth, Robin Schmid, Tomas Pluskal, Ansgar Korf, Daniel Petras, Marcus Ludwig Twitter 70 Zoom! MZmine/GNPS Feature Based Molecular Networking in Portuguese - Part 1 2020-12-09 Anelize Bauermeister, Carlismari Grundmann, Helena Mannochio, Juliano Amaral, Tiago Le\u00e3o Material 200 Zoom! MZmine/GNPS Feature Based Molecular Networking in Portuguese - Part 2 2020-12-10 Anelize Bauermeister, Carlismari Grundmann, Helena Mannochio, Juliano Amaral, Tiago Le\u00e3o Material 200 Zoom! MZmine/GNPS Feature Based Molecular Networking in Espanol - Part 1 2020-07-08 Mauricio Caraballo, Daniel Petras Material Video 40 Zoom! MZmine/GNPS Feature Based Molecular Networking in Espanol - Part 2 2020-07-09 Mauricio Caraballo, Daniel Petras Material Video 50 Zoom! MZmine/GNPS Ion-Identity Molecular Networking, Native Metabolomics 2020-05-20 Robin Schmid, Daniel Petras, Allegra Aron Material Video 65 Zoom! MZmine/GNPS Feature Based Molecular Networking (Job Submssions and Exploration) 2020-05-14 Louis-Felix Nothias, Daniel Petras, Allegra Aron Material 103 Zoom! MZmine/GNPS Feature Based Molecular Networking 2020-05-13 Daniel Petras, Allegra Aron Material Video 147 MIT Molecular Networking with MZmine and GNPS 20219-12-05 Tomas Pluska, Daniel Petras, Robin Schmid Twitter 30 Prague MZmine/GNPS Workshop (4h) 2019-06-28 Mingxun Wang, Louis-Felix Nothias, Robin Schmid, Justin van der Hooft TBA 20"},{"location":"coding/general_structure.html","title":"General structure","text":""},{"location":"coding/general_structure.html#general-structure-of-mzmine3-code","title":"General structure of MZmine3 code","text":""},{"location":"coding/general_structure.html#mzmine-architecture","title":"MZmine architecture","text":"<p>MZmine 3 is developed using Java technology, therefore it is completely platform independent, requiring only Java runtime for running.  One of the main design goals is to keep a strict separation between the application core and modules for data processing and visualization. The general architecture of the modules is presented at the following scheme.</p> <p></p> <p>Tip</p> <p>The practical instructions for MZmine coding can be found here.</p>"},{"location":"coding/general_structure.html#module-structure","title":"Module structure","text":"<p>Each module in MZmine necessarily contains three classes:</p> <ul> <li>[Name]Module.java</li> <li>[Name]Parameters.java</li> <li>[Name]Task.java</li> </ul> <p>Optionally module can contain dialog class:</p> <ul> <li>[Name]Dialog.java</li> </ul> <p>Tip</p> <p>You can fnd examples for all these classes in the <code>java/io/github/mzmine/modules/example</code> folder.</p>"},{"location":"coding/general_structure.html#module-class","title":"Module class","text":"<p>Each Module class implements one of three interfaces:</p> <ul> <li>MZMineModule interface - the most basic interface, aimed at any module that has to store some kind of parameters,</li> <li>MZMineRunnableModule interface - an interface that extends MZmine module and presents a <code>runModule()</code> method, which provides an opportunity to run task (for example, from the dialog),</li> <li>MZMineProcessingModule interface - an interface that extends MZMineRunnableModule and gives an opportunity to execute a module in a batch.</li> </ul>"},{"location":"coding/general_structure.html#parameters-class","title":"Parameters class","text":"<p>The Parameters class is defined by the ParameterSet interface, which declares functions necessary to get, load, and save module parameters. Also, in this class additional information must be defined, such as compatibility of module with the IMS data and URL of online documentation. Typically, a module would use SimpleParameterSet class. </p>"},{"location":"coding/general_structure.html#task","title":"Task","text":"<p>This is the part where the functionality of a module is implemented. The main specifications are defined by the Task interface, with methods that control and monitor the flow of a task execution (such as <code>cancel()</code>, <code>getTaskPriority()</code>, <code>getFinishedPercentage()</code>). Task interface is implemented by AbstractTask class, which defines some of the most common used methods.  </p> <p>Tomas Pluskal, omokshyna</p>"},{"location":"coding/macos_signing.html","title":"macOS code signing","text":"<p>Code signing is a security feature provided by Apple's macOS that allows developers to digitally sign their applications and verify their identity. This ensures that the application is not tampered with or altered by a third party, and that it can be trusted by users.</p> <p>MZmine 3 codebase is signed with the Developer ID Application Certificate of the Czech Technical University in Prague (<code>\"Developer ID Application: Ceske vysoke uceni technicke v Praze (LK4H72N842)\"</code>) under the Apple ID <code>mzmine.devel@gmail.com</code>. The procedure is implemented in the gradle build file and consists of three main steps described below: signing, notarization, and stapling.</p>"},{"location":"coding/macos_signing.html#signing","title":"Signing","text":"<p>Signing is a step embedding a digital signature in the MZmine codebase, which allows macOS to verify the integrity of the application before it is run.</p> <p>The necessary condition for the code signing is a Developer ID Application certificate from a Certificate Authority, which is the Czech Technical University in Prague in our case. <code>base64</code> -encoded certificated and the associated password are stored as GitHub secrets under the names <code>MACOS_DEVELOPER_CERTIFICATE</code> and <code>MACOS_DEVELOPER_CERTIFICATE_PWD</code> respectively. In order to use the certificate in CI/CD build of MZmine, we add it to macOS keychain with <code>security set-key-partition-list</code> command following Jan B\u00edlek's tutorial.</p> <p>Info</p> <p>Notice, that the Developer ID Application certificate is not publicly available. Therefore, a manually built version of MZmine cannot be signed. Nevertheless, it still can be normally built.</p> <p>To sign MZmine code with the certificate, <code>jpackage</code> utility needs to be supplied with an additional (constant) argument <code>--mac-sign</code> and its dependencies such as <code>--mac-package-identifier \"io.github.mzmine.main\"</code> and <code>--mac-signing-key-user-name \"Developer ID Application: Ceske vysoke uceni technicke v Praze (LK4H72N842)\"</code>. Nevertheless, <code>jpackage</code> is not able to automatically sign all native libraries. For that reason, we manually traverse the entire codebase and sign all such libraries which can be classified into three categories:</p> <ol> <li>Any file with one of the following extensions: <code>.dylib</code>, <code>.so</code>, <code>.dll</code>, <code>.a</code>, <code>.lib</code>.</li> <li>Any file with an extension from point 1. but nested inside of <code>.jar</code> archives.</li> <li>Content of ThermoRawFileParser <code>.zip</code> archive.</li> </ol> <p>The libraries are signed with</p> <pre><code>codesign --deep --force --timestamp -s ${developerID} --options runtime --entitlements ${entitlementsPth} -f -v ${p}\n</code></pre> <p>, where <code>${deveperID}</code> is <code>\"Developer ID Application: Ceske vysoke uceni technicke v Praze (LK4H72N842)\"</code>, <code>${entitlementsPth}</code> contains privileges granted to the MZmine executable, and <code>${p}</code> is a path to the file to be signed. The files nested in archives are unarchived, signed, and then archived back.</p>"},{"location":"coding/macos_signing.html#notarization","title":"Notarization","text":"<p>Notarization is an additional security step that is performed by Apple after an application is signed and is required to distribute MZmine outside of the Mac App Store. During this step signed MZmine code is uploaded to Apple's servers, where it is scanned for malware and other malicious content. Note, that this procedure usually takes around 10 minutes to be completed.</p> <p>The notarization is performed using <code>xcrun notarytool</code> utility</p> <pre><code>xcrun notarytool submit --wait --apple-id ${appleID} --password ${appleIDPassword} --team-id ${appleTeamID} \"MZmine_macOS_portable.zip\"\n</code></pre> <p>, where <code>${appleTeamID}</code> is <code>mzmine.devel@gmail.com</code> and <code>${appleTeamID}</code> is the team of the Developer ID - <code>LK4H72N842</code>.</p>"},{"location":"coding/macos_signing.html#stapling","title":"Stapling","text":"<p>Stapling is the process of attaching a notarization ticket to a signed application. When an application is stapled, the notarization ticket is embedded in the application's code, which allows macOS to verify the notarization status of the application even if it is not connected to the internet.</p> <p>Stapling is performed with</p> <pre><code>xcrun stapler staple \"MZmine.app\"\n</code></pre>"},{"location":"coding/macos_signing.html#distribution-of-disk-image","title":"Distribution of disk image","text":"<p>The output of the steps described above is signed portable MZmine <code>.app</code>. Since it is more convenient to distribute macOS software as a <code>.dmg</code> disk image, we additionally pack the portable into <code>.dmg</code> using <code>appdmg</code> utility.</p>"},{"location":"coding/module_development.html","title":"Key steps to MZmine module development","text":""},{"location":"coding/module_development.html#coding-tutorials","title":"Coding tutorials","text":"<p>Detailed coding tutorials by Robin Schmid:</p> <p>01. First module and new columns</p> <p>02. Git, GitHub, contribute code to MZmine</p>"},{"location":"coding/module_development.html#1-define-the-role-and-functionality-of-your-module","title":"1. Define the role and functionality of your module","text":"<p>Each module in MZmine belongs to some module category (see MZmine architecture). Before starting, try to define category, to which your module will belong - raw data processing, feature detection, visualization, etc.</p> <p>A good idea is to browse already existing modules. Currently, MZmine contains more than 100 modules, so there are high chances that one of the existing modules may carry similar functionality to the one you want to code. This can help you to create your own module. Assess the scale of the added functionality and how the new module can be integrated with the existing ones. For example, if you'd like to add a new filter for the feature list rows, the best option might be not to create a new module but to add the new option as a parameter to the already existing Feature list rows filter.</p>"},{"location":"coding/module_development.html#2-create-a-new-branch-locally-for-your-changes","title":"2. Create a new branch locally for your changes","text":"<p>You can either do it from command line using git command <code>git checkout -b new-branch-name</code> or directly from your IDE (detailed expanation can be found in the video tutorial).</p>"},{"location":"coding/module_development.html#3-create-a-package-for-your-module","title":"3. Create a package for your module","text":"<p>Go to the folder that corresponds to the functionality of your module (e.g., dataprocessing for the module that will be process features in the feature list). Create a new package in this folder. </p> <p>Tip</p> <p>Make sure that a package name starts with a meaningful prefix, such as \"filter_\" for a module that will filter rows in a feature table.</p>"},{"location":"coding/module_development.html#4-create-necessary-classes","title":"4. Create necessary classes","text":"<p>Following the module structure described here, create Module, Parameters, and Task classes.</p> <p>Tip</p> <p>You can directly copy examples for all these classes from the <code>java/io/github/mzmine/modules/example</code> folder and rename them accordingly. These example files also contain some useful tips.</p>"},{"location":"coding/module_development.html#5-define-module-name-description-and-category","title":"5. Define module name, description, and category","text":"<p>Start by defining MODULE_NAME and MODULE_DESCRIPTION variables. Assign your module a category by modifying <code>getModuleCategory()</code> method. Available categories are listed in MZmineModuleCategory file.</p>"},{"location":"coding/module_development.html#6-work-on-your-parameters-class","title":"6. Work on your Parameters class","text":"<p>You can search for available parameters in the Parameters package or copy them from similar modules.  After you have described all parameters, add parameters to the constructor of your Parameters class </p> <p><code>super(new Parameter[]{parameters go here})</code></p> <p>Warning</p> <p>A parameter in the Parameters class should be public static final. </p>"},{"location":"coding/module_development.html#7-define-runmodule-method-for-the-runnable-modules","title":"7. Define <code>runModule()</code> method [For the runnable modules]","text":"<p>Here you are creating a task that will be launched after user has chosen parameters. You do not need to worry about task scheduling here, the task is only created and passed here.</p>"},{"location":"coding/module_development.html#8-work-on-your-task-class","title":"8. Work on your Task class","text":"<p>As you extend the AbstractTask class, some functionality will already be defined. To get the values of the parameters from ParameterSet, use the following approach <code>parameters.getValue(YourClassParameters.paramererName.getValue()</code>.  You can modify the message by the logger, check for cancelled state, and update progress. Before progress update, implement the logic of your calculations. </p> <p>Warning</p> <p>Do not forget to modify <code>addAppliedMethodsAndResultsToProject</code>, so that the method info will be accessible in the feature list information.</p> <p>Tip</p> <p>If you have to implement some method to process scans, check ScanUtils first, it might already have been implemented.</p>"},{"location":"coding/module_development.html#9-integrate-a-newly-created-module-into-mzmine-gui","title":"9. Integrate a newly created module into MZmine GUI","text":"<p>As the last step, for your module to be accessible, add it to MainMenu.fxml file. If you wish your module to be accessible in the batch mode, add it in the BatchModeModulesList</p>"},{"location":"coding/module_development.html#10-test-and-debug","title":"10. Test and debug","text":"<p>Before pushing your final changes to the remote branch, try to thoroughly test your code. Think about corner cases and possible bugs. Using IDE tools can be extremely useful in this step.</p>"},{"location":"coding/module_development.html#11-create-documentation","title":"11. Create documentation","text":"<p>Prepare a description for your module that will go into the documentation. Creating a thorough documentation will help more people to used and understand your module. The documentation template can be found here</p>"},{"location":"coding/module_development.html#12-push-to-the-remote-branch-and-create-a-pull-request","title":"12. Push to the remote branch and create a pull request","text":"<p>After you coded and tested your module, you can push your changes to the remote branch and create a pull request. After your pull request will be reviewed by one of the main contributors. There might be some comments that you'll have to address. After that, your module will be merged into the master branch and become a part of MZmine!</p> <p>omokshyna</p>"},{"location":"coding/module_list.html","title":"MZmine module overview","text":""},{"location":"coding/module_list.html#list-of-mzmine-modules","title":"List of MZmine modules","text":"<p>List of MZmine modules extracted on: 2022/12/01</p> <p>Please note that some contributors might not be correctly reflected due to reformatting and refactoring. Use git-blame at the MZmine code repository for a more detailed insight.</p> name description main class sub class contributors path 13C isotope filter (formerly: isotope grouper) This module detects isotopic features and removes them from the feature list. Its isotope patterns are limited to detected features. For a more comprehensive isotope pattern coverage and isotopes other than 13C, use the Isotope finder. Feature filtering Isotopes Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_isotopegrouper/IsotopeGrouperModule.java 2D visualizer Two dimensional visualization of feature lists. Visualization Visualization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/twod/TwoDVisualizerModule.java 3D visualizer 3D visulization of raw data. Visualization Visualization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/fx3d/Fx3DVisualizerModule.java ADAP Aligner (GC) This module calculates pairwise convolution integral for each pair of unaligned peaks in order to find the best alignment Feature detection Alignment Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; tnguy271 src/main/java/io//mzmine/modules/dataprocessing/align_adap3/ADAP3AlignerModule.java ADAP Chromatogram Builder This module connects data points from mass lists and builds chromatograms. Feature detection Chromatogram detection Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_adapchromatogrambuilder/ModularADAPChromatogramBuilderModule.java ADAP3D feature detection (experimental) This module detect peaks from profile spectra using the ADAP3D algorithm developed by the Xiuxia Du lab. The module requires no parameter settings. Note that it will not work with centroid spectra. Feature detection Chromatogram detection Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_adap3d/ADAP3DModule.java Adap Resolver Resolves chromatograms to features. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/ADAPpeakpicking/AdapResolverModule.java Add ion identities to networks This module adds ion identities to existing networks Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/addionannotations/AddIonNetworkingModule.java Aird file import This module imports aird raw data into the project. Spectral data Raw data import Robin Schmid; Tomas Pluskal; lms19880914 src/main/java/io//mzmine/modules/io/import_rawdata_aird/AirdImportModule.java Align scans (LC/MS or MS level 1) This module align scans for small fluctuations correlating consecutive scans. Spectral data Raw data filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_alignscans/AlignScansModule.java Annotate possible isomers Annotates features with the same (or similar) m/z but different mobilities within a specified retention time window. Feature processing Feature grouping Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_interestingfeaturefinder/AnnotateIsomersModule.java Average formulas for annotation networks Creates a list of average molecular formulas from all formula lists of all ions in this network (e.g., M+H and M+Na) Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/formula/createavgformulas/CreateAvgNetworkFormulasModule.java Baseline correction This module performs a baseline correction on raw data files. Spectral data Raw data filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_baselinecorrection/BaselineCorrectionModule.java Baseline resolver Resolves chromatograms to features. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/baseline/BaselineFeatureResolverModule.java Batch mode This module allows execution of multiple processing tasks in a batch. Project Project Kirill Ponomarov; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/batchmode/BatchModeModule.java Batch spectral library generation Uses metadata sheet to generate spectral library Feature IO Feature list export Steffen Heuckeroth; Robin Schmid src/main/java/io//mzmine/modules/io/spectraldbsubmit/batch/LibraryBatchGenerationModule.java Bruker TDF file import This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_bruker_tdf/TDFImportModule.java CAMERA search This method searches for pseudo-spectra using the CAMERA algorithm. Feature processing Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_camera/CameraSearchModule.java CCS calculation module Calculates CCS values for features. Feature processing Annotation Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; tarush.singh src/main/java/io//mzmine/modules/dataprocessing/id_ccscalc/CCSCalcModule.java Calculate EC-MS potentials Calculates metabolite formation potentials in EC-MS experiments. Feature processing Annotation Tomas Pluskal; m_wesn01 src/main/java/io//mzmine/modules/dataprocessing/id_ecmscalcpotential/CalcEcmsPotentialModule.java CentWave resolver Resolves chromatograms to features. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/centwave/CentWaveResolverModule.java Check all ion identities by MS/MS Checks ion identities (in-source fragments and multimers) by MS/MS Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/checkmsms/IonNetworkMSMSCheckModule.java Chromatogram and spectra visualizer Inspect LC-MS data by navigating through raw data. Visualization Visualization Annexhc; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; annexhc; knakul853; Robin Schmid src/main/java/io//mzmine/modules/visualization/chromatogramandspectra/ChromatogramAndSpectraVisualizerModule.java Clear feature list annotations This method clears the annotations from the feature list Feature filtering Feature list filtering Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_clearannotations/ClearFeatureAnnotationsModule.java Clear ion identites Deletes all ion identities and networks of all rows Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/clearionids/ClearIonIdentitiesModule.java Clear project Clearing all project files and feature lists Project Project Robin Schmid src/main/java/io//mzmine/modules/tools/clear_project/ClearProjectModule.java CliqueMS annotation This method groups features and annotates the groups/cliques using CliqueMS algorithm. Feature processing Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; SurajV; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_cliquems/CliqueMSModule.java Correlated features \u00ce\u0094 m/z histogram This module plots all m/z deltas between correlated features in a histogram and offers a Gaussian fit. Visualization Visualization feature list Olena Mokshyna; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/scan_histogram/CorrelatedFeaturesMzHistogramModule.java Correlation coefficient histogram (grouped feature shapes) This module plots all correlations between feature shapes. Visualization Visualization feature list Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/histo_feature_correlation/FeatureCorrelationHistogramModule.java Crop filter This module performs cropping of raw data files. Spectral data Raw data filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_cropfilter/CropFilterModule.java Custom DB search Search spectrum against local csv database Feature processing Annotation Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/spectraidentification/customdatabase/CustomDBSpectraSearchModule.java Custom database search This method searches a custom database (CSV file) using m/z and retention time values. Feature processing Annotation Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/id_localcsvsearch/LocalCSVDatabaseSearchModule.java DIA pseudo MS2 builder (experimental) Builds pseudo MS2 scans based on feature shape correlation. Feature filtering Feature list filtering Steffen Heuckeroth; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/filter_diams2/DiaMs2CorrModule.java Data point processing Processes individual spectra with multiple steps like mass detection, deisotoping, annotation Raw data Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/datapointprocessing/DataPointProcessingModule.java Duplicate peak filter This method removes duplicate peaks (peaks with same retention times and m/z) from the feature list. Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_duplicatefilter/DuplicateFilterModule.java Export CSV (legacy MZmine 2) Legacy MZmine 2 method: This method exports the feature list contents into a CSV (comma-separated values) file. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_csv_legacy/LegacyCSVExportModule.java Export MS/MS spectra Export MS/MS spectra of detected features. Spectral data Export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/featurelisttable_modular/export/MSMSExportModule.java Export MSn trees This method exports the feature list contents into a CSV (comma-separated values) file. Spectral data Raw data export Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/export_msn_tree/MSnTreeExportModule.java Export feature networks to csv Export resutls from correlation/MS annotation as networks to csv Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; sanbit876 src/main/java/io//mzmine/modules/dataprocessing/group_metacorrelate/export/ExportCorrAnnotationModule.java Export for SIRIUS This method exports a MGF file that contains for each feature, (1) the deconvoluted MS1 isotopic pattern, and (2) the MS/MS spectrum (highest precursor ion intensity). This file can be open and processed with Sirius, https://bio.informatik.uni-jena.de/software/sirius/. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/export_features_sirius/SiriusExportModule.java Export images to csv Exports spatially resolved data of features to csv files. Feature IO Export Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_image_csv/ImageToCsvExportModule.java Export isotope pattern Export isotope pattern of detected features. Spectral data Export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/featurelisttable_modular/export/IsotopePatternExportModule.java Export library analysis csv Cosine similarity of library to csv Feature IO Feature list export Robin Schmid; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/export_library_analysis_csv/LibraryAnalysisCSVExportModule.java Export scans Export scans from raw data. Spectral data Export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_scans/ExportScansModule.java Export scans into one file Export scans or mass lists into one file Spectral data Raw data export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_scans/ExportScansFromRawFilesModule.java Export to CSV file (modular) This method exports the feature list contents into a CSV (comma-separated values) file. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_csv/CSVExportModularModule.java Export to GNPS-GC-MS (with ADAP) GNPS GC-EI-MS workflow. Export the mgf, quant table and Kovats reference file (optionally). Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_gnps/gc/GnpsGcExportAndSubmitModule.java Export to MGF file (ADAP) This method exports all ADAP clustered spectra in a feature lists to an MGF file. Used in the GNPS GC-MS workflow. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_mgf/AdapMgfExportModule.java Export to MSP file (ADAP) This method exports all ADAP clustered spectra in a feature lists to an MSP file. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_msp/AdapMspExportModule.java Export to MetaboAnalyst file This method exports the feature list contents into a CSV (comma-separated values) file that is formatted for easy processing by the MetaboAnalyst service (http://www.metaboanalyst.ca). Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_metaboanalyst/MetaboAnalystExportModule.java Export to SQL database This method exports the feature list contents into an SQL database using JDBC. Feature IO Feature list export Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/export_features_sql/SQLExportModule.java Export to mzTab file This method exports the feature list contents into a mzTab file. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_mztab/MzTabExportModule.java Export to mzTab-m file. This method exports the feature list contents into a mzTab-m file. Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_mztabm/MZTabmExportModule.java Export/Submit to GNPS-FBMN GNPS feature-based molecular networking export and submit module. Exports the MGF file for GNPS (only for MS/MS), the quant table (CSV export) and additional edges (ion identity networks and correlation) Feature IO Feature list export Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_gnps/fbmn/GnpsFbmnExportAndSubmitModule.java External CCS calibration Uses an externally calculated CCS calibration to calculate CCS values. Feature processing Annotation Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ccscalibration/external/ExternalCCSCalibrationModule.java Extract scans Extract a defined number of scans around a center time Spectral data Raw data export Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_extractscans/ExtractScansModule.java FTMS shoulder peaks filter This method filters mass lists and removes residual signals known as 'shoulder peaks' and commonly observed in FTMS data. Spectral data Raw data filtering Robin Schmid; Roman Bushuiev; Sonja-analytik; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_shoulderpeaksfilter/ShoulderPeaksFilterModule.java Feature intensity plot Feature intensity plot. Visualization Visualization feature list Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/intensityplot/IntensityPlotModule.java Feature list blank subtraction Subtracts features appearing in (procedural) blank measurements feature list from an aligned feature list. Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_blanksubtraction/FeatureListBlankSubtractionModule.java Feature list info visualizer Generates a batch from the list of applied methods to reproduce this feature list. Visualization Visualization Roman Bushuiev; Tomas Pluskal; m_wesn01 src/main/java/io//mzmine/modules/visualization/infovisualizer/InfoVisualizerModule.java Feature list rows filter This method removes certain rows from a feature list based on given restrictions. Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/filter_rowsfilter/RowsFilterModule.java Feature table MZmine 3 feature table. Visualization Visualization Annexhc; Kirill Ponomarov; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/featurelisttable_modular/FeatureTableFXModule.java Formula prediction This method gets the predicted formula for each unknown compound Feature processing Annotation Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_formulapredictionfeaturelist/FormulaPredictionFeatureListModule.java Formula prediction Predict molecular formulae for features. Feature processing Annotation Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Weiching Chen; knakul853 src/main/java/io//mzmine/modules/dataprocessing/id_formulaprediction/FormulaPredictionModule.java Formula prediction (on annotation networks) This method predicts formulae for each ion identity in all annotation networks (generated by MS annotations module or similar) Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/formula/prediction/FormulaPredictionIonNetworkModule.java Formula prediction on a single spectrum Predict formulae in a single spectrum. Raw data Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/spectraidentification/sumformula/SumFormulaSpectraSearchModule.java Frame visualizer Visualizes frames from ion mobility raw data files. Visualization Visualization Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/frames/FrameVisualizerModule.java Graphical manual picker Manually pick or reintegrate features in EICs by point and click operations. Feature processing Feature resolving Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_manual/XICManualPickerModule.java Graphics export Export charts to vector or pixel graphics Visualization Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/gui/chartbasics/graphicsexport/GraphicsExportModule.java GridMass - 2D feature detection This module detect peaks based on a 2D peak recognition procedure. Feature detection Chromatogram detection Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/featdet_gridmass/GridMassModule.java Group MS2 scans with features This method assings all MS2 scans within range to all features in this feature list Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/filter_groupms2/GroupMS2Module.java Hierachical aligner (GC) This method aligns detected peaks using a match score. This score is calculated based on the MZ profile and RT of each peak using preset tolerances. Feature detection Alignment Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/align_hierarchical/HierarAlignerGcModule.java Hierarchical Clustering This method combines peaks into analytes and constructs fragmentation spectrum for each analyte Feature filtering Spectral deconvolution Aleksandr Smirnov; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Varun Suresh; tnguy271 src/main/java/io//mzmine/modules/dataprocessing/adap_hierarchicalclustering/ADAPHierarchicalClusteringModule.java Histogram plot Histogram plot Visualization Visualization feature list Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/histogram/HistogramVisualizerModule.java ICP MS CSV file import This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_icpms_csv/IcpMsCVSImportModule.java IMS Raw data visualizer Multidimensional raw data inspection of IMS raw data. Visualization Visualization Annexhc; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; aiden; knakul853 src/main/java/io//mzmine/modules/visualization/ims/ImsVisualizerModule.java IMS mobility mz plot Heatmap view for detected features. Visualization Visualization Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/ims_mobilitymzplot/IMSMobilityMzPlotModule.java Image builder This module connects data points from mass lists and builds images. Feature detection Chromatogram detection Annexhc; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_imagebuilder/ImageBuilderModule.java Image visualizer Image visualizer Visualization Visualization Annexhc; Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/image/ImageVisualizerModule.java Import GNPS results Imports GNPS feature based molecular networking results into the selected feature list (library matches) Feature processing Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_gnpsresultsimport/GNPSResultsImportModule.java Import MS data This module combines the import of different MS data formats and provides advanced options Spectral data Raw data import Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; lms19880914; Robin Schmid src/main/java/io//mzmine/modules/io/import_rawdata_all/AllSpectralDataImportModule.java Import from csv file. This method imports the feature list contents from a csv file. Feature IO Feature list import Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_features_csv/CsvImportModule.java Import mzTab file This method imports a feature list from a mzTab file. Feature IO Feature list import Nils Hoffmann; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_features_mztab/MzTabImportModule.java Import mzTab-m file This method imports a feature list from a mzTab-m file. Feature IO Feature list import Nils Hoffmann; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_features_mztabm/MZTabmImportModule.java Import spectral library This method imports spectral libraries to speed up spectral library matching Spectral data Raw data import Olena Mokshyna; Robin Schmid; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/import_spectral_library/SpectralLibraryImportModule.java Ims expander Expands rt chromatograms in mobility dimension. Feature detection Chromatogram detection Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_imsexpander/ImsExpanderModule.java Injection time analysis Plots the minimum signal intensity against the injection time to see trends in trap based mass spectrometers Visualization Visualization Olena Mokshyna; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/injection_time/InjectTimeAnalysisModule.java Internal standard CCS calculation Calculates CCS values based on an reference compound list and it's detected features in a feature list. Feature processing Annotation Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ccscalibration/reference/ReferenceCCSCalibrationModule.java Ion Identity Molecular Networks Visualize the results of the MS annotation module Visualization Visualization feature list Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/networking/AnnotationNetworkModule.java Ion identity network refinement Refinement of ion identity networks Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/refinement/IonNetworkRefinementModule.java Ion identity networking This method searches for adducts, in-source fragments, and clusters Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/ionidnetworking/IonNetworkingModule.java Ion mobility raw data overview Visualizes ion mobility raw data files. Visualization Visualization Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/rawdataoverviewims/IMSRawDataOverviewModule.java Ion mobility trace builder Builds ion mobility traces for a raw data file Feature detection Chromatogram detection Annexhc; Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_ionmobilitytracebuilder/IonMobilityTraceBuilderModule.java Isotope pattern preview Calculate and view isotope patterns. Other Tools Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/tools/isotopepatternpreview/IsotopePatternPreviewModule.java Isotope peak scanner Searches for m/z and intensity distribution of a calculated isotope pattern within a feature list. Feature filtering Isotopes Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_isotopepeakscanner/IsotopePeakScannerModule.java Isotopic peaks finder Find isotope signals in the FWHM of all features in the list Feature filtering Isotopes Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; tarush.singh src/main/java/io//mzmine/modules/dataprocessing/filter_isotopefinder/IsotopeFinderModule.java Join aligner This method aligns detected peaks using a match score. This score is calculated based on the mass and retention time of each peak using preset tolerance. Feature detection Alignment Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/align_join/JoinAlignerModule.java Kendrick mass plot Kendrick mass plot. Visualization Visualization feature list Annexhc; Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; annexhc; knakul853 src/main/java/io//mzmine/modules/visualization/kendrickmassplot/KendrickMassPlotModule.java Kovats index extraction Extract Kovats indexes from a raw data file and save to csv. Other Tools Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/tools/kovats/KovatsIndexExtractionModule.java LC-Image Aligner Aligns LC and imaging measurements based on m/z and mobility. Images are aligned to all LC features that match, only the best match is retained. Feature detection Alignment Olena Mokshyna; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/align_lcimage/LcImageAlignerModule.java Learner module This module is for learners only Feature filtering Feature list filtering Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/example/LearnerModule.java Library search results window Visualize spectral database search results. Visualization Visualization Kevin-Murray; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; murra668; Robin Schmid src/main/java/io//mzmine/modules/visualization/spectra/spectralmatchresults/SpectraIdentificationResultsModule.java Library submit Submit MS2 spectra for spectral libraries. Spectral data Export Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/spectraldbsubmit/LibrarySubmitModule.java Linear normalizer Linear normalizer divides the height (or area) of each feature in the feature list by a normalization factor, determined according to the given normalization type. Feature processing Normalization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; tnguy271 src/main/java/io//mzmine/modules/dataprocessing/norm_linear/LinearNormalizerModule.java Lipid annotation This method searches and annotates for features which m/z value matches a predicted mass of selected lipids. Feature processing Annotation Annexhc; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; SurajV; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/id_lipididentification/LipidSearchModule.java Lipid annotation Lipid annotation on individual spectra Raw data Annotation Annexhc; Robin Schmid; Steffen Heuckeroth; SurajV; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/spectraidentification/lipidsearch/LipidSpectraSearchModule.java Local minimum resolver Resolves chromatograms to features. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/minimumsearch/MinimumSearchFeatureResolverModule.java MS/MS data visualizer Scatter plot for MS/MS data visualization, fouraxes types supported: retention time, precursor m/z, product m/z, neutral loss Visualization Visualization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Sandeep; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/msms/MsMsVisualizerModule.java MS/MS quality export Exports metrics for MS/MS spectra Other Tools Steffen Heuckeroth; SteffenHeu src/main/java/io//mzmine/modules/io/export_msmsquality/MsMsQualityExportModule.java MS/MS spectral networking (Molecular networking) Checks MS2 similarity of all rows within the groups or on all networks and between networks Feature processing Feature grouping Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/group_metacorrelate/msms/similarity/MS2SimilarityModule.java MS2 similarity search This method searches for similar MS2 fragmentation spectra between two feature lists Feature processing Annotation Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ms2search/Ms2SearchModule.java MSn Tree Visualizer Visualizes MSn spectra in a tree structure and all spectra of the same level in one spectra chart Visualization Visualization Olena Mokshyna; Robin Schmid; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/spectra/msn_tree/MSnTreeVisualizerModule.java MSn feature list builder This module looks through the whole raw data for MSn scans and makes a list of chromatographic features using the precursor mass. Feature detection Chromatogram detection Kevin-Murray; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_msn/MsnFeatureDetectionModule.java MSn tree feature list builder Builds all MSn trees and extracts chromatograms for the precursor m/z Feature detection Chromatogram detection Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/featdet_msn_tree/MsnTreeFeatureDetectionModule.java MZ range from formula calcuator Calculate mz range from formula and mz tolerance Other Tools Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/mzrangecalculator/MzRangeFormulaCalculatorModule.java MZ range from tolerance calculator Calculate mz range from mz tolerance and mass Other Tools Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/mzrangecalculator/MzRangeMassCalculatorModule.java Main resolver Resolves chromatograms to features. Provides additional parameters and orchestrates the algoriithms Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/FeatureResolverModule.java Manual picker Manually pick or reintegrate features in EICs. Feature processing Feature resolving Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_manual/ManualFeaturePickerModule.java Mass calibration This module estimates systematic error of measurement by analysing differences between actual mass peaks and masses of assigned compounds, it then shifts the mass peaks to account against that bias. Spectral data Raw data methods Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/featdet_masscalibration/MassCalibrationModule.java Mass detection This module detects individual ions in each scan and builds a mass list for each scan. Spectral data Raw data methods Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/featdet_massdetection/MassDetectionModule.java Massvoltammogram chart A chart that combines a specific instrumental setup (redox cell) with mass spectrometry. Different timepoints are converted into the potentials applied to the sample, this is plotted as 3D spectra against this potential. Visualization Visualization Tomas Pluskal; m_wesn01 src/main/java/io//mzmine/modules/visualization/massvoltammogram/MassvoltommogramModule.java Merge files Merge all scans of multiple files to one raw data file Spectral data Raw data methods Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/filter_merge/RawFileMergeModule.java Merge lists This method merges feature lists by appending all rows into a new list. Perform alignment before to align all features from comparable samples and use this method to merge feature lists that should not be aligned: e.g., positive and negative mode data. Feature detection Alignment Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/align_append_rows/MergeAlignerModule.java Mobility scan merging module Merges mobility scans at the same retention time to a summed frame spectrum. Spectral data Raw data methods Olena Mokshyna; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_mobilityscanmerger/MobilityScanMergerModule.java Mobilogram summing Bins intensities within given mobility ranges to correct for noise in mobilograms. Feature detection Chromatogram detection Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_mobilogram_summing/MobilogramBinningModule.java MsMs Spectra merge Merge multiple MS2 spectra to a single spectrum. Spectral data Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/msmsspectramerge/MsMsSpectraMergeModule.java Multivariate Curve Resolution This method combines peaks into analytes and constructs fragmentation spectrum for each analyte Feature filtering Spectral deconvolution Aleksandr Smirnov; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Varun Suresh; tnguy271 src/main/java/io//mzmine/modules/dataprocessing/adap_mcr/ADAPMultivariateCurveResolutionModule.java NIST MS Search This method searches spectra against the NIST library. Feature processing Annotation Kevin-Murray; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; murra668; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/id_nist/NistMsSearchModule.java Neutral loss filter Searches for neutral losses within a feature list. Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_neutralloss/NeutralLossFilterModule.java Noise amplitude resolver Resolves chromatograms to features. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/noiseamplitude/NoiseAmplitudeResolverModule.java Online DB search Online DB search on individual spectra Raw data Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/spectraidentification/onlinedatabase/OnlineDBSpectraSearchModule.java Online database search This module attempts to find those peaks in a feature list, which form an isotope pattern. Feature processing Annotation Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; SurajV; Tomas Pluskal; knakul853 src/main/java/io//mzmine/modules/dataprocessing/id_onlinecompounddb/OnlineDBSearchModule.java Open project This module opens an existing MZmine project. The current workspace will be discarded. Project Project I/O Annexhc; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; knakul853; Robin Schmid src/main/java/io//mzmine/modules/io/projectload/ProjectLoadModule.java Path aligner Description not yet available. Feature detection Alignment Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/align_path/PathAlignerModule.java Peak comparison rows filter This method removes certain rows from a feature list based on peak comparisons. Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_peakcomparisonrowfilter/PeakComparisonRowFilterModule.java Peak filter This method removes certain peak entries based on given restrictions. Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_featurefilter/FeatureFilterModule.java Peak finder Fill gaps in aligned feature lists of LC-MS measurements. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/gapfill_peakfinder/PeakFinderModule.java Peak finder (multithreaded) This method fills the missing peaks (gaps) in the feature list by searching for a peak in the raw data. Feature detection Gap filling Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/gapfill_peakfinder/multithreaded/MultiThreadPeakFinderModule.java Precursor search in spectral libraries This method searches all peaklist rows against a local spectral libraries to identify possible precursor ions Feature processing Annotation Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/id_precursordbsearch/PrecursorDBSearchModule.java Processing wizard Creates processing batches with a reduced set of parameters. Other Tools Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/tools/batchwizard/BatchWizardModule.java Project metadata import This module imports metadata into the project from .tsv-format files. Project Project metadata Kirill Ponomarov; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/projectmetadata/ProjectMetadataImportModule.java Quality parameters Calculates quality parameters such as FWHM, asymmetry factor, tailing factor, S/N ratio. Other Tools Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/qualityparameters/QualityParametersModule.java RANSAC aligner Feature list aligner based on the RANSAC algorithm. Feature detection Alignment Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/align_ransac/RansacAlignerModule.java Raw data export This module exports raw data files from your MZmine project into various formats Spectral data Raw data export Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_rawdata_mzml/MzMLExportModule.java Raw data export to netCDF This module exports raw data files from your MZmine project into various formats Spectral data Raw data export Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_rawdata_netcdf/NetCDFExportModule.java Raw data file rename Renames raw data files. Other Tools Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/rawfilerename/RawDataFileRenameModule.java Raw data overview Raw data overview Visualization Visualization Annexhc; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; knakul853; Robin Schmid src/main/java/io//mzmine/modules/visualization/rawdataoverview/RawDataOverviewModule.java Recursive IMS Builder Builds m/z traces for ion mobility spectrometry data Feature detection Chromatogram detection Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_recursiveimsbuilder/RecursiveIMSBuilderModule.java Relations between ion networks This method searches for relations between ion networks (e.g., chemical modifications, heterodimers, covalently bound multimers Feature processing Ion identity networking Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ion_identity_networking/relations/IonNetRelationsModule.java Retention time calibration The retention time calibration attempts to reduce the deviation of retention times between feature lists, by searching for common features in these lists and using them as calibration standards. Feature processing Normalization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/norm_rtcalibration/RTCalibrationModule.java Same RT and m/z range gap filler This method fills the missing peaks (gaps) in the feature list by looking at the whole m/z and retention time range of the feature list row and adding all raw data points in the same range. Feature detection Gap filling Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/gapfill_samerange/SameRangeGapFillerModule.java Save project This module saves the current MZmine project. Project Project I/O Annexhc; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; knakul853; Robin Schmid src/main/java/io//mzmine/modules/io/projectsave/ProjectSaveModule.java Save project as This module saves the current MZmine project. Project Project I/O Annexhc; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; knakul853; Robin Schmid src/main/java/io//mzmine/modules/io/projectsave/ProjectSaveAsModule.java Savitzky Golay resolver Resolves chromatograms to features. Feature processing Feature resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_chromatogramdeconvolution/savitzkygolay/SavitzkyGolayResolverModule.java Scan by scan filtering This module performs filtering algorithms on each scan individually. Spectral data Raw data filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; knakul853 src/main/java/io//mzmine/modules/dataprocessing/filter_scanfilters/ScanFiltersModule.java Scan smoothing (LC/MS or MS level 1) This module averages intensity values within a time-scan frame. Spectral data Raw data filtering Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_scansmoothing/ScanSmoothingModule.java Scatter plot Scatter plot. Visualization Visualization feature list Olena Mokshyna; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/scatterplot/ScatterPlotVisualizerModule.java Set CCS calibration Sets a CCS calibration to a raw data file. Feature processing Annotation Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_ccscalibration/setcalibration/SetCCSCalibrationModule.java Single Spectrum library search Search single spectrum in a spectral library. Raw data Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/spectraidentification/spectraldatabase/SingleSpectrumLibrarySearchModule.java Smoothing Smooths intensity along the retention time and/or mobility dimension. Feature detection Resolving Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_smoothing/SmoothingModule.java Sort feature lists Sort selected feature lists alphabetically Feature detection Feature list methods Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/sortfeaturelists/SortFeatureListsModule.java Sort formulas This module sorts all formula lists of rows in a feature list Feature processing Annotation Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_formula_sort/FormulaSortModule.java Sort raw data files Sort selected raw data files alphabetically Spectral data Raw data methods Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/tools/sortdatafiles/SortDataFilesModule.java Sort results of spectra library search This method sorts all results of spectral library search. Feature processing Annotation Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/id_spectral_match_sort/SortSpectralMatchesModule.java Spectra stack visualizer Visualize multiple spectra. Visualization Visualization Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/spectra/spectra_stack/SpectraStackVisualizerModule.java Spectra visualizer Spectra visualizer. Visualization Visualization Annexhc; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; SurajV; Tomas Pluskal; aiden; Robin Schmid; ?ukasz Fiszer src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/SpectraVisualizerModule.java Spectral library search This method searches all feature list rows (from all feature lists) against a local spectral libraries (needs to be loaded first). Feature processing Annotation Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/dataprocessing/id_spectral_library_match/SpectralLibrarySearchModule.java Spectral mirror (USI enabled) Compare spectra Other Tools Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/spectra/simplespectra/mirrorspectra/MirrorScanModule.java Standard compound normalizer This module normalizes the feature heights and areas according to selected internal standards. Feature processing Normalization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/norm_standardcompound/StandardCompoundNormalizerModule.java Submit GNPS MASST search Submit an MS2 spectrum to GNPS MASST search, searching against public data. Feature IO Feature list export Robin Schmid; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/export_features_gnps/masst/GnpsMasstSubmitModule.java TIC/XIC visualizer TIC/XIC visualizer. Visualization Visualization Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/chromatogram/ChromatogramVisualizerModule.java TSF import module Imports Bruker .d directories with tsf data files. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/import_rawdata_bruker_tsf/TSFImportModule.java Targeted feature detection Targeted feature detection Feature detection Chromatogram detection Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/featdet_targeted/TargetedFeatureDetectionModule.java Thermo RAW file import This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_thermo_raw/ThermoRawImportModule.java Van Krevelen Diagram Van Krevelen Diagram. Visualization Visualization feature list Annexhc; Olena Mokshyna; Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/visualization/vankrevelendiagram/VanKrevelenDiagramModule.java Venn export module Exports detected/undetected features in a feature list so they can be plotted as a venn diagramm. Feature IO Feature list export Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/export_features_venn/VennExportModule.java Waters RAW file import This module imports raw data into the project. Spectral data Raw data import Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_waters_raw/WatersRawImportModule.java ZIP/gZIP file import This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_zip/ZipImportModule.java iMZML file import This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_imzml/ImzMLImportModule.java m/z mobility region extraction Extracts regions of m/z-mobility regions Feature filtering Feature list filtering Olena Mokshyna; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/filter_mobilitymzregionextraction/MobilityMzRegionExtractionModule.java metaCorrelate This method correlates and groups feature list rows based on multiple criteria (feature shape, intensity across samples, ...) Feature processing Feature grouping Robin Schmid; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/dataprocessing/group_metacorrelate/corrgrouping/CorrelateGroupingModule.java module describe Feature filtering Feature list filtering Robin Schmid; Roman Bushuiev; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/example/EmptyFeatureListModule.java mzData file import This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_mzdata/MzDataImportModule.java mzML file import via MSDK This module imports raw data into the project. Spectral data Raw data import Kirill Ponomarov; Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/import_rawdata_mzml/MSDKmzMLImportModule.java mzML file import via jmzml This module imports raw data into the project. Spectral data Raw data import Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/deprecated_jmzml/MzMLImportModule.java mzXML file import This module imports raw data into the project. Spectral data Raw data import Robin Schmid; Steffen Heuckeroth; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/io/import_rawdata_mzxml/MzXMLImportModule.java netCDF file import This module imports raw data into the project. Spectral data Raw data import David Ma\u009aek; Steffen Heuckeroth; Tomas Pluskal src/main/java/io//mzmine/modules/io/import_rawdata_netcdf/NetCDFImportModule.java scan histogram This module plots all values of all selected scans into one histogram and offers a Gaussian fit. Visualization Visualization Olena Mokshyna; Tomas Pluskal; Robin Schmid src/main/java/io//mzmine/modules/visualization/scan_histogram/ScanHistogramModule.java"},{"location":"coding/upgrade_jdk_version.html","title":"Upgrading JDK version in development builds","text":""},{"location":"coding/upgrade_jdk_version.html#1-update-your-ide","title":"1. Update your IDE","text":"<p>IntelliJ and other IDEs need to be updated to handle new JDK versions.</p>"},{"location":"coding/upgrade_jdk_version.html#2-update-gradle-version-in-the-wrapper","title":"2. Update gradle version in the wrapper","text":"<p>Check the compatibility of gradle and JDKs. Sometimes gradle has to run on an earlier JDK but can compile with the latest JDK as target. </p> <p>Try upgrading the gradle wrapper: </p> <p>Or change the gradle version manually in the /gradle/wrapper/gradle-wrapper.properties file: <pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-bin.zip\n</code></pre></p>"},{"location":"coding/upgrade_jdk_version.html#3-change-target-jdk-in-buildgradle","title":"3. Change target JDK in build.gradle","text":"<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(20)\n        vendor = JvmVendorSpec.ADOPTIUM  // force use ADOPTIUM TEMURIN JDK\n    }\n    // not needed with toolchain command\n//    sourceCompatibility = \"20\"\n//    targetCompatibility = \"20\"\n}\n</code></pre>"},{"location":"coding/upgrade_jdk_version.html#4-update-gradle-project","title":"4. Update gradle project","text":"<p>Run update all gradle projects to update all dependencies.</p>"},{"location":"coding/upgrade_jdk_version.html#5-update-jdk-in-github-actions","title":"5. Update JDK in GitHub actions","text":"<pre><code>    steps:\n        - uses: actions/checkout@v3\n        - uses: actions/setup-java@v3\n        with:\n            distribution: 'temurin'\n            java-version: '20.0.1'\n            cache: 'gradle'\n</code></pre>"},{"location":"coding/upgrade_jdk_version.html#pr-might-look-like","title":"PR might look like:","text":""},{"location":"coding/upgrade_jdk_version.html#intellij-specifics","title":"IntelliJ specifics","text":"<ol> <li>Download a new JDK</li> <li>Set the language Level (preview?)</li> <li>Set the project jdk gradle should use and run tests on intellij (faster)</li> </ol>"},{"location":"module_docs/align_adap/align_adap_gc.html","title":"Align adap gc","text":"<p>Danger</p> <p>This module is currently under maintenance</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#adap-aligner-gc","title":"ADAP Aligner (GC)","text":""},{"location":"module_docs/align_adap/align_adap_gc.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 ADAP aligner (GC)</p> <p>This alignment algorithm has been developed as part of ADAP-GC v1.0, Automatic Data Analysis Pipeline for processing GC-MS metabolomics data.</p> <p>ADAP Aligner aligns features based on their mass spectra and retention time similarity. Unlike Join Aligner (which aligns peaks across all samples, using their m/z and retention time similarity), ADAP Aligner uses mass spectra and retention time to detect similar features in each sample and align them together. In fact, this algorithm is similar to Hierarchical Aligner (GC), but it uses a different clustering method.</p> <p>Similarity between two features \\(f1\\) and \\(f2\\) is calculated by the following score:</p> \\[S(f1, f2) = w*S_{time}(f1, f2) + (1 - w)*S_{spec}(f1, f2)\\] <p>where \\(S_{time}(f1, f2)\\) is the relative retention time difference between two features, \\(S_{spec}(f1, f2)\\) is the spectrum similarity between two features.</p> <p>For more details, see reference [1].</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#requirements","title":"Requirements","text":"<p>ADAP Aligner requires mass spectra to be constructed prior to the alignment (e.g. using Spectral Deconvolution).</p> <p>A typical workflow can be as following:</p> <ul> <li>\"Raw data methods \u2192 Raw data import\" to import raw data files</li> <li> <p>\"Raw data methods \u2192 Mass detection\" to detect masses in the raw data</p> </li> <li> <p>\"Feature detection \u2192 ADAP Chromatogram builder\" to build extracted-ion chromatograms</p> </li> <li>\"Feature detection \u2192 Chromatogram resolving \u2192 ADAP Resolver\" to detect peaks (features) in each chromatogram</li> <li>\"Feature list methods \u2192 Spectral deconvolution (GC) \u2192 Multivariate Curve Resolution\" to combine the detected peaks (features) into analytes and builds pure fragmentation mass spectra for each analyte</li> <li>\"Feature list methods \u2192 Alignment \u2192 ADAP Aligner (GC)\" to align the analytes produced by the previous step</li> <li>\"Feature list methods \u2192 Export feature list \u2192 MSP file (ADAP)\" to export fragmentation mass spectra into MSP format</li> </ul>"},{"location":"module_docs/align_adap/align_adap_gc.html#references","title":"References","text":"<ol> <li>Jiang, W.; Qiu, Y.; Ni, Y.; Su, M.; Jia, W.; Du, X.: An automated data analysis pipeline for GC-TOF-MS metabonomics studies. Journal of proteome research 2010, 9 (11), 5974-81. DOI: 10.1021/pr1007703</li> </ol>"},{"location":"module_docs/align_adap/align_adap_gc.html#parameters","title":"Parameters","text":""},{"location":"module_docs/align_adap/align_adap_gc.html#min-confidence-between-0-and-1","title":"Min confidence (between 0 and 1)","text":"<p>A fraction of the total number of samples. An aligned feature must be detected at least in several samples. This parameter determines the minimum number of samples where a feature must be detected. The default value is 0.7, so an aligned feature must be observed at least in 70% of all samples.</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>The maximum allowed retention time difference between aligned features from different samples.</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#mz-tolerance","title":"m/z tolerance","text":"<p>The maximum m/z difference, when two peaks from different mass spectra are considered equal.</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#score-threshold-between-0-and-1","title":"Score threshold (between 0 and 1)","text":"<p>The minimum value of the similarity function \\(S(f1, f2)\\) required for features to be aligned together. The default value is 0.75.</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#score-weight-between-0-and-1","title":"Score weight (between 0 and 1)","text":"<p>The weight \\(w\\) that is used in the similarity function \\(S(f1, f2)\\). The default value is 0.1.</p>"},{"location":"module_docs/align_adap/align_adap_gc.html#retention-time-similarity","title":"Retention time similarity","text":"<p>A method used for calculating the retention time similarity. The retention time difference (fast) is preferred method.</p> <p>Ansgar Korf, omokshyna</p>"},{"location":"module_docs/align_gcei/align_gc_ei.html","title":"GC-EI Feature Alignment","text":""},{"location":"module_docs/align_gcei/align_gc_ei.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 GC aligner</p> <p>This module aligns GC/EI-MS feature lists by grouping deconvoluted features based on their retention times and spectral similarities to ensure accurate alignment of features across different samples.</p> <p>Warning</p> <p>Before using this module run GC-EI spectral deconvolution </p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#parameters","title":"Parameters","text":""},{"location":"module_docs/align_gcei/align_gc_ei.html#feature-lists","title":"Feature Lists","text":"<p>Select the feature lists to be aligned.</p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#mz-tolerance","title":"m/z Tolerance","text":"<p>Tolerance for m/z values used for spectral similarity matching. </p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#retention-time-tolerance-min","title":"Retention Time Tolerance (min)","text":"<p>Maximum allowed difference between two retention time values for them to be considered for alignment.</p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#weight-for-rt","title":"Weight for RT","text":"<p>Score for perfectly matching RT values. The RT delta is divided by the RT tolerance and scaled 0-1. The weight then multiplies this score so that higher RT delta gives a penalty. The RT weight shifts the focus on RT or spectral similarity.</p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#similarity-function","title":"Similarity Function","text":"<p>Algorithm to calculate spectral similarity between samples. Pseudo spectra from GC-EI spectral deconvolution will be compared. </p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#feature-list-name","title":"Feature List Name","text":"<p>Name for the aligned feature list.</p>"},{"location":"module_docs/align_gcei/align_gc_ei.html#handle-original-feature-list","title":"Handle Original Feature List","text":"<p>If checked, the original feature list will be removed.</p> <p>Tip</p> <p>The alignment is performed independtly of the representative feature. Only spectral similarity and retention time are taken into account. The final representative feature will be determined as during the alignment. </p> <p>Ansgar Korf</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html","title":"Hierachical aligner GC (or Hierarchical Clustering aligner)","text":""},{"location":"module_docs/align_hierarch/align_hierarch.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 Hierachical aligner (GC)</p> <p>This method aligns detected features in different samples through a match score. This score is calculated based on the mass spectrum and retention time of each peak and ranges of tolerance stipulated in the parameters setup dialog.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#general-algorithm","title":"General Algorithm","text":"<p>This module uses the principles of agglomerative / hierarchical clustering approaches. The general principle behind those algorithms is described below.</p> <p>Given a set of N items to be clustered, and an NN distance (or similarity) matrix, the basic process of hierarchical clustering* (defined by S.C. Johnson in 1967 - https://home.deib.polimi.it/matteucc/Clustering/tutorial_html/hierarchical.html#johnson) is this:</p> <ol> <li>Start by assigning each item to a cluster, so that if you have N items, you now have N clusters, each containing just one item. Let the distances (similarities) between the clusters the same as the distances (similarities) between the items they contain. </li> <li>Find the closest (most similar) pair of clusters and merge them into a single cluster, so that now you have one cluster less. </li> <li>Compute distances (similarities) between the new cluster and each of the old clusters. </li> <li>Repeat steps 2 and 3 until all items are clustered into a single cluster of size N. (*)</li> </ol> <p>Step 3 can be done in different ways based on linkage criteria:</p> <ul> <li> <p>In single-linkage clustering (also called the connectedness or minimum method), we consider the distance between one cluster and another cluster to be equal to the shortest distance from any member of one cluster to any member of the other cluster. If the data consist of similarities, we consider the similarity between one cluster and another cluster to be equal to the greatest similarity from any member of one cluster to any member of the other cluster.</p> </li> <li> <p>In complete-linkage clustering (also called the diameter or maximum method), we consider the distance between one cluster and another cluster to be equal to the greatest distance from any member of one cluster to any member of the other cluster.</p> </li> <li> <p>In average-linkage clustering, we consider the distance between one cluster and another cluster to be equal to the average distance from any member of one cluster to any member of the other cluster.</p> <p>A variation on average-link clustering is the UCLUS method of R. D'Andrade (1978) - https://home.deib.polimi.it/matteucc/Clustering/tutorial_html/hierarchical.html#dandrade - which uses the median distance, which is much more outlier-proof than the average distance.</p> </li> </ul> <p>All implemented types of hierarchical clustering are called agglomerative because they merge clusters iteratively. There is also a divisive hierarchical clustering, which does the reverse by starting with all objects in one cluster and subdividing them into smaller pieces. Divisive methods are not generally available, and have rarely been applied.</p> <p> Of course there is no point in having all the N items grouped in a single cluster. But, once you have got the complete hierarchical tree, if you want to change number of clusters to \\(k\\), you can just cut the \\(k-1\\) longest links.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#available-linkage-criteria","title":"Available linkage criteria","text":"<p>Several linkage criteria are available:</p> <ul> <li>Single</li> <li>Complete</li> <li>Average</li> </ul> <p>A linkage criteria determines the distance between sets of observations as a function of the pairwise distances between observations.</p> <p>Some commonly used linkage criteria between two sets of observations \\(A\\) and \\(B\\) are:</p> Name Description Maximum or complete-linkage clustering \\(max  \\{ d(a,b):a \\in A, b \\in B \\}\\) Minimum or single-linkage clustering \\(min \\{ d(a,b):a \\in A, b \\in B \\}\\) Mean or average-linkage clustering, or UPGMA \\(\\frac{1}{\\lvert {A} \\rvert \\lvert {B} \\rvert} \\sum_{a \\in A} \\sum_{b \\in B} d(a,b)\\) <p>where \\(d\\) is the chosen metric.</p> <p></p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#mzmine-gc-specific-considerations","title":"MZmine GC: Specific considerations","text":"<p>To obtain a distance matrix between all pairs of observations:</p> <ol> <li>A similarity score based on chemical likelihood only (chemSimScore) is computed.</li> <li></li> </ol> <pre><code>Calculation of the dot product is based on work by [Stein and Scott (1994)](https://link.springer.com/article/10.1016/1044-0305(94)87009-8), which is the most popular approach for spectrum similarity measure.\n</code></pre> <pre><code>Between two mass spectra $I_{t_j}$ and $I_{r_i}$ of two peaks $t_j$ and $r_i$ similarity is calculated as follows:\n\n$$S(t_j,r_i)=dot(I_{t_j},I_{r_i})=&lt;I_{t_j},I_{r_i}&gt;/ (\\lvert I_{t_j} \\rvert \\lvert I_{r_i} \\rvert)$$\n</code></pre> <ol> <li> <p>Then a similarity score based on RT likelihood only (rtScore) is computed. </p> <p>Retention time score is normalized relatively to the RT window tolerance provided by the user</p> \\[rtScore=\\frac{1.0 d-rtDiff}{rtMaxDiff}\\] </li> <li> <p>A combined weighted (or mixture) score is determined based on a mixture of the above two scores </p> <p>The final mixture score</p> \\[score = (chemSimScore * mzWeight) + (rtScore * rtWeight))\\] </li> </ol> <p>A final square matrix is generated by comparing all the scores, for all the pairs of peaks.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#getting-clusters-from-rooted-binary-tree","title":"Getting clusters from rooted binary tree","text":"<p>The algorithm methods described above all lead to a unique binary tree where all items are clustered into a single cluster of size N (number of leafs).</p> <p>One more step is required to get the very final clusters list. A \"cutoff\" based on two criterion allows to split the single cluster into appropriate subgroups:</p> <ul> <li>A cluster cannot contain more than one leaf per sample</li> <li>A cluster cannot contain two leafs for which the distance (or mixture similarity score) is too low</li> </ul>"},{"location":"module_docs/align_hierarch/align_hierarch.html#method-parameters","title":"Method parameters","text":""},{"location":"module_docs/align_hierarch/align_hierarch.html#clustering-strategy","title":"Clustering strategy","text":"<p>What strategy will be used for the clustering algorithm decision-making.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#feature-list-name","title":"Feature list name","text":"<p>Name of the new aligned peak list.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#mz-tolerance","title":"m/z tolerance","text":"<p>This value sets the range, in terms of m/z, for possible peaks to be aligned. Maximum allowed m/z difference.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#weight-for-mz","title":"Weight for m/z","text":"<p>The assigned weight for m/z difference at the moment of match score calculation between feature rows. In case of perfectly matching m/z values the score receives the complete weight.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed difference between two RT values.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#weight-for-rt","title":"Weight for RT","text":"<p>The assigned weight for RT difference at the moment of match score calculation between peak rows. In case of perfectly matching RT values the score receives the complete weight.</p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#export-dendrogram-as-txtcdt","title":"Export dendrogram as TXT/CDT","text":"<p>If checked, exports the resulting dendrogram to the given *txt file. </p>"},{"location":"module_docs/align_hierarch/align_hierarch.html#dendrogram-output-text-filename","title":"Dendrogram output text filename","text":"<p>Name of the resulting TXT file to write the clustering resulting dendrogram to. If the file already exists, it will be overwritten.</p> <p>Ansgar Korf, Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/align_join_aligner/join_aligner.html","title":"Join aligner","text":""},{"location":"module_docs/align_join_aligner/join_aligner.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 Join aligner</p> <p>This method aligns detected peaks in different samples through a match score. This score is calculated based on the mass and retention time of each peak and ranges of tolerance specified in the parameter setup dialog.</p> <p> Fig. The alignment columns in feature tables (MZmine 3.3.0). a, After alignment, new columns provide results on the alignment, including the alignment rate (aligned/total samples) and mean differences between all samples to the mean m/z, RT, and mobility. The weighted distance score reflects the alignment score, calculated for the final aligned feature. The summed extra features counts all additional features that were found within the m/z, RT, and mobility tolerances. b, Show the LC-MS EICs of 13 samples extracted with the alignment m/z tolerance around feature ID2. With a wide RT tolerance, 17 additional LC-MS features were found that indicate closely eluting isomers or other ions that might interfere with the alignment.</p> <p></p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#algorithm","title":"Algorithm","text":""},{"location":"module_docs/align_join_aligner/join_aligner.html#input","title":"Input","text":"<p>The peak alignment algorithm uses:</p> <ol> <li> <p>A master list of peaks (L) against which every new sample (Sj) will be matched.</p> <p>When aligning peaks from multiple samples, the master list is initially set to the first sample. Subsequently, it becomes a combination of samples aligned this far.</p> <p>Master list contains the samples as the columns and the matching peaks as the rows.</p> </li> <li> <p>For every row i in L, a two-dimensional window (a window size is selected by the user), called Alignment window (AW), defines the ranges of m/z and RT. </p> <p>The window is  centered around the average of m/z and RT of all the individual peaks in the row.</p> </li> <li> <p>A score function is used to compute the similarity of peaks between L and the new sample Sj inside the alignment window. </p> <p>The score function computes the similarity based on the similarities in m/z, retention time, and (optionally) on identification, and isotope patterns between the peaks to be matched. </p> <p>The score is calculated as follows:</p> \\[score = \\frac{1 - MZ_{difference}}{MZ_{tolerance}} \u00d7 MZ_{weight} + \\frac{1 - RT_{difference}}{RT_    {tolerance}} \u00d7 RT_{weight}\\] </li> </ol>"},{"location":"module_docs/align_join_aligner/join_aligner.html#steps","title":"Steps","text":"<p>The algorithm works as follows:</p> <ul> <li>It iterates through the rows of L.</li> <li>For each row, it looks for peaks within the alignment window in Sj that has to be aligned with L. </li> <li>A score is calculated for each possible match </li> <li>The pair getting the best score will be aligned.</li> </ul>"},{"location":"module_docs/align_join_aligner/join_aligner.html#parameters","title":"Parameters","text":""},{"location":"module_docs/align_join_aligner/join_aligner.html#feature-list-name","title":"Feature list name","text":"<p>Name of the new aligned peak list.</p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed difference between two m/z values in order for them to be considered the same and thus the peaks aligned. </p> <p>The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). </p> <p>The tolerance range is calculated using maximum of the absolute and relative tolerances for possible peaks to be aligned. </p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#weight-for-mz","title":"Weight for m/z","text":"<p>This is the assigned weight for m/z difference at the moment of match score calculation between peak rows, as can be seen in the aforementioned formula. Only in cases where there is a perfect match of m/z values, the score receives the complete m/z weight.  Generally, higher weight is given to m/z values than to RT values. </p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed difference between two retention times in order for them to be considered the same and thus peaks aligned. Maximum RT difference can be defined either using absolute or relative value. </p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#weight-for-rt","title":"Weight for RT","text":"<p>This is the assigned weight for RT difference at the moment of match score calculation between peak rows.  Only in cases where there is a perfect match of RT values, the score receives the complete RT weight. </p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#mobility-tolerance","title":"Mobility tolerance","text":"<p>In case of IM data,the user can determine the mobility tolerance. If checked, this parameter specifies the tolerance range for matching the mobility values. </p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#mobility-weight","title":"Mobility weight","text":"<p>Score for perfectly matching mobility values. Only taken into account if \"Mobility tolerance\" is activated. Furthermore, score calculation that is mentioned in the Algorithm is then modified to account for the mobility as well. Mobility tolerance and weight are accounted for in the same manner as m/z and RT parameters.</p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#require-same-charge-state","title":"Require same charge state","text":"<p>Optional parameter</p> <p>If checked, only rows having same charge can be aligned. </p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#require-same-id","title":"Require same ID","text":"<p>Optional parameter</p> <p>If checked, only rows having same compound identities (or no identities) can be aligned.</p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#compare-isotope-pattern","title":"Compare isotope pattern","text":"<p>Optional parameter</p> <p>If both peaks represent an isotope pattern, checking this box will add isotope pattern score to the match score calculation. Additionally, the user can set up isotope m/z tolerance which defines what isotopes would be considered same when comparing two isotopic patterns, minimum absolute intensity below which isotopes will be ignored and minimum score % between isotope patterns that has to be satisfied in order for the match to not be discarded.</p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#compare-spectra-similarity","title":"Compare spectra similarity","text":"<p>Optional parameter</p> <p>Compare MS1 or MS2 scans similarity. Select the m/z tolerance, MS level and spectra similarity algorithm.  Only features meeting this criteria will be aligned.  See compare spectra similarity for additional information.</p>"},{"location":"module_docs/align_join_aligner/join_aligner.html#original-feature-list","title":"Original feature list","text":"<p>The user can choose to either KEEP the original feature list and generate a new processed one, or REMOVE the original feature list with the processed one. Generally, you would keep the original feature list, but opting for REMOVE will save memory.</p> <p>Robin Schmid, lalalana5, lalalana5, omokshyna</p>"},{"location":"module_docs/align_join_aligner/spectra_similarity.html","title":"Spectra similarity","text":""},{"location":"module_docs/align_join_aligner/spectra_similarity.html#spectral-mz-tolerance","title":"Spectral m/z tolerance","text":"<p>Spectral m/z tolerance is used to match all signals between spectra of two compared raw files.</p>"},{"location":"module_docs/align_join_aligner/spectra_similarity.html#ms-level","title":"MS level","text":"<p>MS level of scans that should be compared. It can be 1 for MS1 or 2 for MS2 level.</p>"},{"location":"module_docs/align_join_aligner/spectra_similarity.html#compare-spectra-similarity","title":"Compare spectra similarity","text":"<ol> <li> <p>Weighted dot-product cosine - used to determine the similarity between two spectra (usually library and query spectra).This option is used for MS2 level.</p> </li> <li> <p>Composite dot-product identity - used to determine the similarity between two spectra (usually library and query spectra). Especially useful for very reproducible generation of spectra (GC-EI-MS). Takes into account the relative intensities of neighbouring signals in the two spectra. This option is used for MS1 level.</p> </li> </ol> <p>Additional setup of spectra similarity comparison enables modification of the following parameters:</p>"},{"location":"module_docs/align_join_aligner/spectra_similarity.html#weights","title":"Weights","text":"<p>Weights for the m/z and intensity values. Usually, MassBank is used, in which higher m/z values contribute more to the cosine similarity calculation.</p>"},{"location":"module_docs/align_join_aligner/spectra_similarity.html#minimum-cos-similarity","title":"Minimum cos similarity","text":"<p>Minimum cosine similarity for a match between compared spectra.</p>"},{"location":"module_docs/align_join_aligner/spectra_similarity.html#handle-unmatched-signals","title":"Handle unmatched signals","text":"<p>Usually, keep all and match to zero is used, which will take all signals into account, and the unmatched ones will decrease the cosine similarity. </p> <p>omokshyna</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html","title":"LC-Image Aligner","text":""},{"location":"module_docs/align_lc-image/align_lc-image.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 LC-Image-Aligner</p> <p>Aligns LC and imaging measurements based on m/z and mobility.Images are aligned to all LC features that match, only the best match is retained.</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html#parameters","title":"Parameters","text":""},{"location":"module_docs/align_lc-image/align_lc-image.html#feature-lists","title":"Feature lists","text":"<p>Select at least two feature lists. The image feature list(s) are aligned to a single (pre-aligned) LC feature list.</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html#mz-tolerance","title":"m/z tolerance","text":"<p>The file-to-file tolerance for two features.</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html#mz-weight","title":"m/z weight","text":"<p>Maximum score for a perfectly matching m/z. Default value is 1.</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html#mobility-tolerance","title":"Mobility tolerance","text":"<p>Optional parameter </p> <p>The file-to-file mobility tolerance. If the files don't contain mobility information, this parameter will be ignored. Default value is 0.01.</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html#mobility-weight","title":"Mobility weight","text":"<p>Maximum score for a perfectly matching mobility. Default value is 1.</p>"},{"location":"module_docs/align_lc-image/align_lc-image.html#feature-list-name","title":"Feature list name","text":"<p>The name of the new feature list. Use {lc} to use the name of the input (LC/DI) feature list.</p> <p>omokshyna</p>"},{"location":"module_docs/align_merge_lists/align_merge_lists.html","title":"Merge lists","text":""},{"location":"module_docs/align_merge_lists/align_merge_lists.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 Merge lists</p> <p>This method merges feature lists by appending all rows into a new list. </p> <p> Perform alignment before to align all features from comparable samples and use this method to merge feature lists that should not be aligned: e.g., positive and negative mode data.</p>"},{"location":"module_docs/align_merge_lists/align_merge_lists.html#parameters","title":"Parameters","text":""},{"location":"module_docs/align_merge_lists/align_merge_lists.html#feature-lists","title":"Feature lists","text":"<p>Feature lists this module will take as an input</p>"},{"location":"module_docs/align_merge_lists/align_merge_lists.html#feature-list-name","title":"Feature list name","text":"<p>Resulting feature list name</p> <p>omokshyna</p>"},{"location":"module_docs/align_ransac/align_ransac.html","title":"RANSAC peak list aligner","text":""},{"location":"module_docs/align_ransac/align_ransac.html#description","title":"Description","text":"<p> Feature list methods \u2192 Alignment \u2192 RANSAC aligner</p> <p>This method is an extension of the Join aligner method.</p> <p>The alignment of each sample is done against a master peak list, which is taken from the first sample in the first round and from the average of all aligned peak lists in every round. </p> <p>It corrects any linear or non-linear deviation in the retention time of the chromatograms by creating a model of this deviation.</p> <p>This picture shows an example of two samples with a non-linear deviation in the retention time:</p> <p></p> <p>The \"deviation\" model for the retention time is created by taking some corresponding points from the peak list of two samples using the RANSAC algorithm (http://en.wikipedia.org/wiki/RANSAC) and using a non-linear regression method to fit the model.</p> <p>This picture shows a preview of the model with the red dots representing the aligned peaks taken using RANSAC algorithm, and the blue line represents the fitted model using a non-linear regression.</p> <p></p> <p>Using this model, the algorithm can predict the shift in the retention time along all the peak list and use the match score function, used also in Join Align algorithm, to match the peaks. </p> <p>This score is calculated based on the mass and retention time of each peak and ranges of tolerance stipulated in the parameter setup dialog.</p>"},{"location":"module_docs/align_ransac/align_ransac.html#parameters","title":"Parameters","text":""},{"location":"module_docs/align_ransac/align_ransac.html#feature-list-name","title":"Feature list name","text":"<p>The name of the new aligned feature list.</p>"},{"location":"module_docs/align_ransac/align_ransac.html#mz-tolerance","title":"m/z tolerance","text":"<p>This value sets the range, in terms of m/z, to verify for possible peak rows to be aligned. Maximum allowed m/z difference.</p>"},{"location":"module_docs/align_ransac/align_ransac.html#rt-tolerance","title":"RT tolerance","text":"<p>This value sets the range, in terms of retention time, to create the model using RANSAC and non-linear regression algorithm. Maximum allowed retention time difference.</p>"},{"location":"module_docs/align_ransac/align_ransac.html#rt-tolerance-after-correction","title":"RT tolerance after correction","text":"<p>This value sets the range, in terms of retention time, to verify for possible peak rows to be aligned. Maximum allowed retention time difference.</p>"},{"location":"module_docs/align_ransac/align_ransac.html#ransac-iterations","title":"RANSAC Iterations","text":"<p>Maximum number of iterations allowed in the algorithm to find the right model consistent in all the pairs of aligned peaks. </p> <p> When the value is 0, the number of iterations (k) will be estimate automatically.</p>"},{"location":"module_docs/align_ransac/align_ransac.html#minimum-number-of-points","title":"Minimum Number of Points","text":"<p>% of points required to consider the model valid (d).</p>"},{"location":"module_docs/align_ransac/align_ransac.html#threshold-value","title":"Threshold value","text":"<p>Threshold value (minutes) for determining when a data point fits a model (t).</p> <p>Linear model</p> <p>This option should be selected only if the model has to be linear.</p> <p> Please, remember that when the shift in the retention time between the peaks in the samples is not constant the model shape is nonlinear, and this parameter should not be selected. </p>"},{"location":"module_docs/align_ransac/align_ransac.html#recommendations-for-setting-optimal-parameters","title":"Recommendations for setting optimal parameters","text":"<p>The three first parameters (m/z tolerance, RT tolerance after the correction and RT tolerance) define 2 bi-dimensional windows with the same \"altitude\" (m/z tolerance) and different \"longitude\" (RT tolerances). </p> <p>The first window (m/z tolerance - RT tolerance after the correction) sets the space where the matching peak should be present, and the second window (m/z tolerance - RT tolerance) sets the total space where RANSAC algorithm will be applied. </p> <ul> <li>So, \"RT tolerance\" should be as big as the maximum deviation in the retention time along all the chromatogram, and \"RT tolerance after the correction\" can be more flexible and depends on the complexity of the data. </li> </ul> <p>If the data contains few peaks and the separation is good, the window can be bigger than \"RT tolerance\" window. It will improve the recall without including mistakes. This parameter should not change too much the final results.</p> <ul> <li> <p>RANSAC is a non-deterministic algorithm, and the probability to find a good result increases with the number of iterations. If the user sets \"0 iterations\" into the parameter \"RANSAC iterations\" the algorithm will automatically set the optimum number of iterations depending on the number of data points. </p> <p> In the case that there is a big number of data points it is better to limit this parameter even though the result could be non-optimal. The preview module can help in setting this parameter.</p> </li> <li> <p>The parameter \"Minimum number of points\" should be an estimation of the proportion of the data points inside the model. It is important not to get models composed by few data points which do not correspond to the real model. All the models which contain less proportion of data points won't be taken into account by RANSAC algorithm.</p> </li> <li> <p>Threshold value represents the width of the model and depends on the nature of the data. If this parameter is too big, it can lead to deviation of the model. </p> <p>The preview module can help to set the optimal value.</p> </li> <li> <p>The choice of model depends on whether the deviation in the retention time can be considered linear or not in the data. </p> </li> </ul> <p>If the deviation in the retention time is linear, a simple linear regression will be used to fit the model.</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html","title":"Merge raw data files","text":""},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#description","title":"Description","text":"<p> Raw data methods \u2192 File merging \u2192 Raw data file merging</p> <p>This module merges all raw data files into a new. For example to combine positive and negative scans with MS2, all from different raw data files.</p>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#method-parameters","title":"Method parameters","text":""},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#raw-data-files","title":"Raw data files","text":"<p>Raw data files the module will take as an input.</p>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#mode","title":"Mode","text":"<ul> <li> <p>MERGE PATTERN: </p> <p>Merge files based on a grouping identifier which can be a name suffix or prefix. (e.g., Sample_A_1, Sample_B_1: Use AFTER LAST _ to combine these files)</p> </li> <li> <p>MERGE SELECTED: </p> <p>Merge all selected files to a new</p> </li> </ul>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#grouping-identifier-position","title":"Grouping identifier position","text":"<p>Search for the specific group identifier before the first or after the last marker.</p>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#position-marker","title":"Position marker","text":"<p>The marker that splits the specific group identifier from the rest of the file names.</p>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#ms2-marker","title":"MS2 marker","text":"<p>If a raw data file has this marker in its name, it will only be used as a source of MS2 (MSn) scans. All MS1 scans of this file will be discarded. </p>"},{"location":"module_docs/featdet_file_merging/raw-files-merging.html#suffix","title":"Suffix","text":"<p>Suffix to be added to the new file name.</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html","title":"Featdet hierarch clustering","text":"<p>Danger</p> <p>This module is currently under maintenance / deprecated / etc.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#spectral-deconvolution-hierarchical-clustering","title":"Spectral deconvolution: Hierarchical Clustering","text":"<p> This module is being updated, which might affect its functionality</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#description","title":"Description","text":"<p> Feature list methods \u2192 Spectral deconvolution (GC) \u2192 Hierarchical clustering</p> <p>This ADAP-based method finds analytes by combining similar features into clusters and using their intensities to construct fragmentation mass spectra. </p> <p>The following steps are performed:</p> <ul> <li>All EIC peaks are clustered based on proximity of their retention times. The user can specify minimum distance between clusters, minimum number of peaks forming a cluster, and minimum cluster intensity. If preview is selected, the top right plot displays the result of the clustering with dots corresponding to EIC peaks and colors corresponding to different clusters. </li> <li>In each cluster, EIC peaks are filtered based on their sharpness and on their elution profiles. All EIC peaks with sharpness below minimum sharpness are filtered out. </li> <li>If \"Find shared peaks\" is selected, then shared peaks are filtered out as well. A user can specify minimum edge-to-height ratio and minimum delta-to-height ratio that are used in determining shared peaks. </li> <li>EIC peaks that have passed the filtering step, are clustered based on their elution profiles. The user can specify shape-similarity tolerance: small tolerance corresponds to large number of clusters, while large tolerance corresponds to a small number of clusters. If a preview is selected, the result of the clustering is shown on the bottom-right plot. </li> <li>Each cluster corresponds to one analyte. Among all EIC peaks in the cluster, a model peak is chosen to represent the elution profile of the analyte. <ul> <li>If Choise of Model Peak based on Sharpness is selected, then the EIC peak with the highest sharpness in the cluster is selected to be a model peak. </li> <li>If Choice of Model Peak based on Intensity is selected, then the EIC peak of the highest intensity is selected to be a model peak. </li> <li>If Choice of Model Peak based on M/z value is selected, then the EIC peak with the highest m/z value in the cluster is selected to be a model peak.</li> </ul> </li> <li>In order to build fragmentation spectra for analytes, each EIC peak is decomposed into a linear combination of the model peaks with the weighting coefficients obtained by solving an optimization problem. </li> <li>These coefficients and m/z value of the EIC peak contribute to the fragmentation spectra of the corresponding analytes.</li> </ul>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#method-definitions","title":"Method definitions","text":"<p>Sharpness</p> <p>In order to find sharpness, the medians of the slopes of the lines connecting the peak apex to its other data points are calculated on each side of the peak apex. The sharpness is defined as the average of the two medians.</p> <p>Shared peak</p> <p>EIC peak is considered to be shared (i.e. produced by two co-eluting analytes) if at least one of the following conditions is satisfied:</p> <ul> <li>its elution profile has several local maxima</li> <li>its left boundary intensity divided by the apex intensity exceeds minimum edge-to-height ratio</li> <li>its right boundary intensity divided by the apex intensity exceeds minimum edge-to-height ratio</li> <li>the absolute difference between its boundary intensities divided by the apex intensity exceeds by minimum delta-to-height ratio</li> </ul>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#references","title":"References","text":"<ol> <li>Pluskal, T., Castillo, S., Villar-Briones, A. &amp; Oresic, M. MZmine 2: Modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data. BMC Bioinformatics (2010). DOI: 10.1186/1471-2105-11-395</li> <li>Smirnov A, Jia W, Walker D, Jones D, Du X: ADAP-GC 3.2: Graphical Software Tool for Efficient Spectral Deconvolution of Gas Cromatography\u2014High-Resolution Mass Spectrometry Metabolomics Data. J. Proteome Res 2017, DOI: 10.1021/acs.jproteome.7b00633</li> </ol>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#min-cluster-distance-min","title":"Min cluster distance (min)","text":"<p>Minimum distance between any two retention-time clusters.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#min-cluster-size","title":"Min cluster size","text":"<p>Minimum number of peaks in a cluster.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#min-cluster-intensity","title":"Min cluster intensity","text":"<p>Minimum intensity of the highest peak in a cluster.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#find-shared-peaks","title":"Find shared peaks","text":"<p>If selected, shared peaks are determined and do not participate in the second clustering.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#min-edge-to-height-ratio","title":"Min edge-to-height ratio","text":"<p>Minimum value of a boundary intensity divided by the apex intensity of EIC peak that is considered to be shared.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#min-delta-to-height-ratio","title":"Min delta-to-height ratio","text":"<p>Minimum value of the absolute difference of the boundary intensities divided by the apex intensity of EIC peak that is considered to be shared.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#min-sharpness","title":"Min sharpness","text":"<p>Minimum sharpness of EIC peak that can participate in the second clustering.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#shape-similarity-tolerance-090","title":"Shape-similarity tolerance (0..90)","text":"<p>Tolerance is used in the second clustering based on the similarity of peaks' elution profiles: small tolerance corresponds to large number of clusters; large tolerance corresponds to a small number of clusters.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#choice-of-model-peak-based-on","title":"Choice of Model Peak based on","text":"<p>In each cluster, a model peak is chosen. </p> <ul> <li>If Sharpness is used, then EIC peak with the highest sharpness in the cluster is chosen to be a model peak. </li> <li>If Intensity is used, then EIC peak of the highest intensity in the cluster is chosen to be a model peak. </li> <li>If M/z value is used, then EIC peak with the highest m/z value in the cluster is chosen to be a model peak.</li> </ul>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#exclude-mz-values","title":"Exclude m/z-values","text":"<p>Optional parameter </p> <p>Optionally, the user can specify a list of deprecated m/z values such that EIC peaks with those m/z value could not be chosen as model peaks. It is possible to specify single m/z values as well as ranges of m/z values.  For example: 1-50, 73, 100.</p>"},{"location":"module_docs/featdet_hierarch_clustering/featdet_hierarch_clustering.html#suffix","title":"Suffix","text":"<p>String to add to feature list name as a suffix.</p> <p>Remove original feature list</p> <p>If checked, original feature list will be removed.</p> <p>Ansgar Korf, omokshyna</p>"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html","title":"FTMS shoulder peak filter","text":""},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#description","title":"Description","text":"<p> This module should be used after mass detection step is performed.</p> <p> Raw data methods \u2192 Mass detection \u2192 FTMS shoulder peak filter</p> <p>Raw data obtained from FTMS (Fourier Transform Mass Spectrometer) instruments often contains false signals around high-intensity m/z peaks, called \"shoulder peaks\". These signals are residues of the Fourier Transform function and their intensity is usually below 5% of the main (true) m/z peak. </p> <p>The FTMS shoulder peaks filter attempts to remove these false signals. Ions in the mass lists (generated previously by the Mass detector module) are processed in the order of decreasing intensity. A peak model (shape) is built around each ion peak using given function and resolution, and those m/z peaks which fall below the model are considered to be shoulder peaks and therefore are removed. </p> <p>The method offers three theoretical peak models.</p> <p>Example of running the shoulder peaks filter on LTQ Orbitrap data: </p>"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#mass-resolution-of-the-data","title":"Mass resolution of the data","text":"<p>Defines the width of the model, which should be equal to the estimated resolution of the peaks in the raw data. Mass resolution is the dimensionless ratio of the mass of the peak divided by its width. Peak width is taken as the full width at half maximum intensity (FWHM).</p> <p> </p>"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#peak-model-function","title":"Peak model function","text":"<p>Defines the shape of the model function, as described below. Peaks under the curve of this peak model will be removed.</p>"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#available-peak-models","title":"Available peak models","text":""},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#gaussian-peak-model","title":"Gaussian peak model","text":"<p>The Gaussian peak model is a characteristic symmetric \"bell shape curve\" that quickly falls off towards plus/minus infinity, described by the following formula.</p> \\[f(x)=ae^-\\frac{(x-b)^2}{2c^2}\\] <p>The parameter \"a\" is the height of the curve's peak, \"b\" is the position of the center of the peak, and \"c\" controls the width of the \"bell\".</p> <p> </p>"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#lorentzian-peak-model","title":"Lorentzian peak model","text":"<p>The Lorentzian function (Cauchy-Lorentz distribution) is used for this model. The Lorentzian peak model is described by the following formula:</p> <p>\\(f(x;x_0,\\gamma,I)=\\frac{I}{\\biggl[1+\\frac{x-x_0}{\\gamma}^2\\biggr]} =I\\biggl[\\frac{\\gamma^2}{(x-x_0)^2+\\gamma^2}\\biggr]\\)</p> <p>Where \"x0\" is the location parameter, specifying the location of the peak of the distribution, and \"y\" is the scale parameter which specifies the width of the peak.</p> <p> </p>"},{"location":"module_docs/featdet_mass_detection/FTMS-shoulder-peak-filter.html#lorentzian-extended-peak-model","title":"Lorentzian extended peak model","text":"<p>This model uses the same mathematical formula as the Lorentzian peak model, but the lower part of the model (below 5% of the intensity) is extended. The width of the peak below 5% intensity is calculated from another Lorentzian peak with 5% of the resolution of the main peak.</p> <p> </p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html","title":"Mass calibration","text":""},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#description","title":"Description","text":"<p> This module should be used after mass detection step is performed.</p> <p> Raw data methods \u2192 Mass detection \u2192 Mass calibration</p> <p>Mass calibration module estimates the measurement error of each detected mass and calibrates them using reference libraries of ions through three main processes:</p> <ol> <li>Peak matching with library of reference and extraction of errors,</li> <li>Estimation of overall mass bias, and </li> <li>Mass calibration of detected masses.</li> </ol>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#raw-data-files","title":"Raw data files","text":"<p>The raw datafiles to calibrate. Each selected datafile is calibrated independently in a separate task.</p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#mass-list-name","title":"Mass list name","text":"<p>Name of the mass lists to be calibrated. The mass lists must be previously generated for each scan by the Mass detector module.</p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#intensity-threshold","title":"Intensity threshold","text":"<p>Determines the intensity of the peaks used for matching against the library of ions and subsequent mass calibration. Only mass peaks with intensity above this threshold will be considered for calibration. This is useful to avoid certain noise peaks that could have been picked in the Mass Detection module. To consider all peaks, the Intensity Threshold needs to be set with a value equal or lower than the previously used in the Mass Detection module.</p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#duplicate-error-filter","title":"Duplicate Error Filter","text":"<p>Removes duplicate ions with the same m/z value independently of their retention time. If enabled, for a specific detected exact mass present in different scans (not necessarily consecutive), only a single ion with that exact mass value will be considered for calibration. This filter performs for the full list of masses and does not consider RT difference between ions.</p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#reference-library-of-ions","title":"Reference Library of ions","text":"<p>Selects the library used for ion matching and determination of mass errors. SCL and UCL libraries are available.</p> <ul> <li> <p>SCL-only parameters</p> <p>Standard Calibrant Library file</p> <p>File with a list of ion formulas and retention times (xls, xlsx and csv files are supported). This list should contain ions that are expected to be detected in the samples. Files need to contain a first column with the retention time in minutes and a second column with the ion formula strings. Additional columns are optional. Sample standards list file:</p> <p>Retention time tolerance (only for SCL)</p> <p>Maximum difference in retention time between an actual measured ion and a calibrant to consider a match.</p> </li> <li> <p>UCL-only parameters</p> <p>Ionization mode</p> <p>Ionization mode for which an appropriate universal calibrants list is used.</p> </li> </ul>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed difference in m/z between an actual measured ion and a calibrant to consider a match.</p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#overall-mass-bias-estimation","title":"Overall Mass Bias Estimation","text":"<p>Measurement mass errors are calculated based on the matching of detected ions against the library, a distribution of errors is built, and measurement bias is estimated. Because not all ion matches can be considered as correct, the calibration model will automatically identify the high-density mass error range (mass error range with larger number of matches) from the generated distribution of matching errors.</p> <p> If both parameters (Primary High-Density Range of Errors size and Error range tolerance) are set to zero, all errors obtained after matching against the reference library of ions are used for calibration of peaks.</p> <ul> <li> <p>High-Density Range of Errors</p> <p>Primary High-Density Range of Errors size</p> <p>Determine the range (in PPM) containing most mass errors after matching the detected ions with the ion calibration library. Use zero to skip this step, in such case the distribution is split into subranges containing all the errors within the error tolerance and the largest subrange is used.</p> <p>Error Range Tolerance</p> <p>Maximum distance (in PPM error) between the maximum and minimum thresholds of the Primary High-Density Range of Errors and the consecutive error to allow the extension of the error range. Determines how far the distribution range of errors will be extended to extract the errors used for mass calibration. The module will include any consecutive matched error from the most populated error range found within the established error range tolerance (i.e., 0.1PPM).</p> <p>This process continues until the algorithm does not find any consecutive error within the Error Range Tolerance value. Use zero to skip this step and no extension will be computed.</p> </li> <li> <p>Percentile Range of Errors</p> <p>Percentile range</p> <p>The module calculates the Interquartile Range (IQR) from the overall distribution of errors to extract those errors to be used for mass calibration of peaks. IQR can be modified (by default determined at 25th and 75th percentiles). In such case, errors distributed below 25th or above 75th percentile will not be considered for mass calibration of peaks.</p> </li> </ul>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#mass-calibration-method","title":"Mass Calibration method","text":"<p>Method used for mass calibration. Described in more details below.</p> <ul> <li>Arithmetic mean</li> <li> <p>KNN regression</p> <ul> <li> <p>Nearest neighbors\u2019 percentage</p> <p>Percentage of nearest neighbors used for error prediction.</p> </li> </ul> </li> <li> <p>OLS regression</p> <ul> <li> <p>Polynomial degree</p> <p>The degree of polynomial trend used, the summand powers of the polynomial will be the OLS regression features. Use 0 for constant component, 1 for linear, 2 for quadratic and so on.</p> </li> <li> <p>Exponential feature</p> <p>When selected, an exponential feature \\(exp(x/10)\\) is included.</p> </li> <li> <p>Logarithmic feature</p> <p>When selected, logarithmic feature \\(ln(x)\\) is included.</p> </li> </ul> </li> </ul>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#reference-library-of-ions_1","title":"Reference library of ions","text":"<p>First, mass lists (MS1) from raw data files are matched against a reference library and mass measurement errors are calculated.</p> <p>This module can support two different matching strategies:</p> <ul> <li> <p>Standard Calibrant Library (SCL) (recommended method): file needs to be provided by the user in xls, xlsx or csv format). The file needs to include retention time (RT) information and the ion formula of a collection of ions that are expected to appear in the samples analyzed with a known chromatographic method. Ion formulas format of the SCL will depend on the ionization method used to analyze the samples. See below in the \u201cParameters\u201d section a detailed description for the library format.</p> <p>Using a SCL, the matching of measured peaks the matching of measured peaks against the library is performed using both RT and exact m/z. RT and m/z error tolerances are needed to be defined.</p> <p> Note: To ignore RT parameter when using SCL for mass calibration, the parameter can be set with an equal or larger value of the chromatography length (i.e., 30 min).</p> </li> <li> <p>Universal Calibrant Library (UCL) include a collection of ions often found in mass spectrometry experiments. The module has two different lists in positive (+ve) and negative (-ve) ionization modes to be chosen by the user.</p> <p>Universal calibrant lists are based on Keller et al. 2008 Analytica Chimica Acta 627:71-81 and Hawkes et al. 2020 Limnology and Oceanography Methods 18:235-258. MZmine includes both those libraries.</p> <p>Matching of detected ions against the UCL library is performed using m/z values alone independently where the ions are appearing along the chromatography and only m/z error tolerance will be needed.</p> </li> </ul>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#more-details-on-mass-calibration-method","title":"More details on mass calibration method","text":"<p> To estimate mass measurement bias more accurately, we can model the trend exhibited by the error size vs m/z value relation obtained by matching the mass peaks. With the estimation model we can shift/calibrate the mass peaks at different particular m/z values more accurately.</p> <p>The module supports two main modes for mass calibration:</p> <ul> <li> <p>Arithmetic mean:</p> <p>This method uses the arithmetic mean of the extracted errors of the overall bias estimation.</p> <p>Calibration of peaks will be performed globally based on a single overall bias value. This method is especially recommended for datasets with low number of extracted errors (i.e., blank samples).</p> </li> <li> <p>Regression mode:</p> <p>This mode models a trend from the direct relationship of error size (in PPM) vs. measured m/z of detected peaks. Mass lists will be calibrated according to the estimated model. The mass calibration module supports two different methods of regression: OLS and KNN.</p> <ul> <li> <p>OLS (ordinary least squares) regression minimizes the mean squared error between the predicted trend and the datapoints in the dataset. Available features include power features (polynomial trend), logarithmic feature and exponential feature. By default, linear trend is fitted. This mode is suitable for datasets with enough data and exhibit a clear and strong trend (Error vs. m/z).</p> </li> <li> <p>KNN (K-Nearest Neighbors) regression finds the average value of the K nearest neighbors. In this module, the number of neighbors is defined by a percentage set by the user of all the errors present in the dataset. The K closest neighbors are thus found by the absolute difference of the m/z values within such percentage. Then the arithmetic mean of the neighbors' errors is calculated for each individual error and will serve as an error estimate for a specific m/z. This method is suitable for datasets with enough data and a trend between mass error vs. m/z is not clear. Therefore, KNN regression allows the trend to match the dataset closely without introducing additional assumptions on how the variables are related.</p> </li> </ul> </li> </ul> <p> Overfitting problems at large m/z values (&gt;800) can occur when modeling the errors with regression as those regions commonly have less matches against the reference libraries of ions. If regression is modelled mainly by matches with small m/z ions (&lt;400), it is recommended to use the arithmetic mean for mass calibration. This also applies to blank samples were the number of matched ions is commonly low and regression can produce overfitting problems.</p>"},{"location":"module_docs/featdet_mass_detection/mass-calibration.html#examples","title":"Examples","text":"<p><code>This module was intially created during a GSoC 2020 project with MZmine by \u0141ukasz Fiszer and MZmine team.</code></p> <p>omokshyna</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html","title":"Mass detection algorithms","text":"<p>Mass detection can be done with the following six algorithms:</p> <ul> <li>Factor of lowest signal</li> <li>Centroid </li> <li>Exact mass</li> <li>Local maxima</li> <li>Recursive threshold</li> <li>Wavelet transform</li> <li>Auto</li> </ul>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#factor-of-lowest-signal","title":"Factor of lowest signal","text":"<p> This mass detector is suitable for centroid or profile data.</p> <p>Choose the Factor of lowest signal for both centroided or profile data where each spectrum contains noise signals, often represented by many signals at the same low intensity (spectral grass). This may correspond to static noise or single counts. This algorithm removes all data points below a spectrum's lowest intensity multiplied by a factor. If the spectra are free of noise, for example because they were already filtered, use an absolute intensity threshold.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#centroid","title":"Centroid","text":"<p> This mass detector is suitable for already centroided data.</p> <p>Centroid algorithm assumes that each signal above a given noise level is a detected ion. Here, the noise level is set as an absolute fixed value for each MSn level.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#exact-mass","title":"Exact mass","text":"<p> The exact mass algorithm is highly recommended for profile MS data.</p> <p>This mass detector first searches for all local maxima within the spectrum, which then form candidate ions. </p> <p>This method calculates the exact mass of a peak using the FWHM (full width at half maximum) concept and linear equation (\\(y = mx + b\\)). FWHM is the difference between the two values of the independent variable at which the dependent variable equals half of its maximum value. </p> <p>First, the method locates the data points located nearest to the peak center at half of the maximum intensity (P1, P2, P3, P4). With these four points it calculates two points (cP1, cP2) that define the width of the peak. The exact mass is then obtained as the center of the width.</p> <p></p> <p>This method is suitable for high-resolution MS data, such as provided by FTMS instruments.</p> <p> If the continous data is too noisy, one can use recursive threshold algorithm.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#local-maxima","title":"Local maxima","text":"<p>This very simple mass detector detects all local maxima within the spectrum, except the signals below the given noise level. The practical usability of this method on real MS data is limited, but it is useful to demonstrate and understand the functionality of mass detection using the preview plot.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#recursive-threshold","title":"Recursive threshold","text":"<p>The algorithm finds all m/z ranges within the given limit in a recursive way. </p> <p>Initially, it looks at the whole range of data points. If the m/z width of this range is not within given limits, a minimum data point is found and used to split the range in two parts. The same algorithm is then applied recursively on each part. Recursion continues until all m/z ranges fitting into the given width limits are found. </p> <p>Final m/z values are determined as local maxima of the identified m/z ranges.</p> <p>This mass detector is suitable for continuous data, which has too much noise for the Exact mass detector to be used, but which shows a consistent width of m/z peaks.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#additional-parameters","title":"Additional parameters","text":"<p>Min m/z peak width: Minimum acceptable peak width in m/z.</p> <p>Max m/z peak width: Maximum acceptable peak width in m/z.</p> <p> Recursive threshold method can be used with the noisy continuous data that shows a consistent width of m/z peaks.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#wavelet-transform","title":"Wavelet transform","text":"<p>The method uses the Mexican Hat wavelet model of the continuous wavelet transform (CWT) algorithm. </p> <p>The search of mass spectrum peaks is executed in three steps. First, the data point intesity is converted into wavelet domain. Second, all the local maxima of the calculated wavelet are found. Finally, m/z peaks (ions) are declared in those points, where the wavelet has a local maximum. The m/z peak is formed with the selected data point (mass and intensity) using the wavelet and all surrounding data points. The final m/z value of the ion is calculated as an average of m/z values of surrounding data points weighted by their intensity.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#mathematical-model","title":"Mathematical model","text":"<p>In numerical analysis, the Mexican hat wavelet is the normalized second derivative of a Gaussian function.</p> <p> </p> \\[\\psi(t)=\\frac{1}{\\sqrt{2\\pi}\\sigma^3} \\left( 1-\\frac{t^2}{\\sigma^2} \\right)e^{-\\frac{t^2}{2\\sigma^2}}\\] <p>The parameter \\(t\\) is the intensity of each data point in the curve, and \\(\\sigma\\) corresponds to the standard deviation. </p> <p>To simplify the process of wavelet calculation, the original function is transformed into two parts, where \\(W_{c}\\) is the wavelet coefficient and \\(y\\) is the intensity of the wavelet at certain point. In the following formula, \\(t\\) corresponds to the Wavelet window size (%) parameter.</p> <p> </p> \\[W_{c}=\\left[\\frac{2}{\\sqrt{3}\\pi^\\frac{1}{4}}\\left(1-t^2\\right)e^-\\frac{t^2}{2}\\right]\\] \\[ y=\\lim_{LL \\to UL}(W_{c}x)\\] <p>The lower (LL) and upper (UL) limits, where the Mexican Hat wavelet is evaluated, are from -5 until 5. The incremental step used in this range is the result of limits range division by 60,000.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#additional-parameters_1","title":"Additional parameters","text":"<p>Scale level</p> <p>Number of wavelet coefficients to use in m/z feature detection. Serves as the scale factor that either dilates or compresses the wavelet signal. </p> <p>When the scale factor is relatively low, the signal is more contracted, which results in a more detailed resulting graph and more noisy peaks are detected. On the other hand, when the scale factor is high, the signal is stretched out, which means that the resulting graph will be less detailed with a smoothed signal.</p> <p>Wavelet window size (%) The size of the window used to calculated the wavelet signal. When the size of the window is small, more noisy peaks can be detected. The proper value of this parameter may help to avoid the undesired noise peaks.</p> <p> The Wavelet transform mass detector is particularly suitable for low-resolution and noisy data.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection-algorithms.html#auto","title":"Auto","text":"<p>Auto mass detector recognizes if the spectrum is of profile or centroided data type and applies centroid or exact mass algorithms correspondingly.</p> <p>corinnabrungs, omokshyna, tdamiani</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html","title":"Mass detection","text":""},{"location":"module_docs/featdet_mass_detection/mass-detection.html#description","title":"Description","text":"<p> Raw data methods \u2192 Mass detection \u2192 Mass detection</p> <p>The mass detection module generates a mass list (i.e. list of m/z values and corresponding signal intensities) for each scan, in each raw data file. During the mass detection, noise filtering is performed based on a user-defined threshold (see Setting the noise level). Additionally, profile raw data are centroided.</p> <p>The available algorithms are described here.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_mass_detection/mass-detection.html#raw-data-files","title":"Raw data files","text":"<p>Select the input raw data files for the mass detection. All the imported data files can be processed in bulk (i.e. All raw data files), or a subset can be selected directly from the MS data files panel (i.e. As selected in the main window) or based on the filename (i.e. File name pattern) As an alternative, the files' directory can be also specified (i.e. Specific raw data files). Finally, if the Those created by previous batch step option is selected, MZmine takes the output of the last processing step as input. This option is only available for batch processing.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#scans","title":"Scans","text":"<p>Select (or filter out) the MS scans to be processed. Several filters are available (Select filters button). A scan number, RT and mobility range can be set (i.e Scan number, Retention time and Mobility options); only the scans belonging to the defined range(s) will be processed. The Base Filtering Integer option allows to prcesses one every-N scans. The Scan definition field can be used to filter scans based on the scan's description normally included in the raw file's metadata (e.g. FTMS). Scans can also be filtered by MS level (i.e. 1, 2, ..., N), polarity and spectrum type (i.e. Centroided, Profile and Thresholded).</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#scan-types-ims","title":"Scan types (IMS)","text":"<p>This parameter applies only to IM data and determines if mobility scans, frame scans or both (i.e. All scan types) are processed. For more details about mobility and frame scans, see here. Tip. Since frame scans are obtained by merging multiple mobility scans, the noise thresholds will likely be different. However, only one noise level can be set per processing step. Therefore, if one wants to run the mass detection for mobility and frame scans using different noise cutoffs, two module calls are required. As an alternative, mass detection can be performed only on the mobility scans by selecteing the appropriate noise level. Mobility scans can then be merged into frame scans with a dedicated module. </p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#mass-detector","title":"Mass detector","text":"<p>Select the algorithm to be used for the mass detection. Several mass detection algorithms are available and can be selected in the drop-down menu. The choice depends on the raw data characteristics (profile/centroided, mass resolution, etc.). The Centroid algorithm must be used for already-centroided data. A step-by-step guide to convert profile into centroided data is provided in the GNPS documentation Other algorithms are available for profile raw data and are described in more details here. The Exact mass algorithm is highly recommended for profile HRMS data. When Auto is selected, the Centroid and Exact mass algorithms are used by default for centroided and profile data, respectively.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#setting-the-noise-level","title":"Setting the noise level","text":"<p>All the mass detection algorithms allow to set a threshold for the noise filtering (i.e. Noise level) by hitting the Setup button next to the Mass detector field. A dialog box like the following will open up:  The noise threshold can be entered either in standard or scientific notation. By checking the Show preview box, an interactive visualization panel will open to help the user to adjust the noise level (see also How do I determine the noise level in my data?). The red dots denotes the mass signals retained in the mass list according to the set threshold. Different data files and scan numbers can be visualized using the corresponding drop-down menus.</p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#denormalize-fragment-scans-traps","title":"Denormalize fragment scans (traps)","text":"<p>This option denormalizes scans with MS level &gt; 1, acquired with trap instruments, including Orbitrap or trapped ion mobility spectrometry (TIMS). When enabled, each scan is multiplied with the injection time resulting in \"raw\" intensities. If the injection time is missing in the data file,  the scans remain unprocessed. This option is encouraged before spectral merging to reduce the intensity differences between scans acquired with different injection times. </p>"},{"location":"module_docs/featdet_mass_detection/mass-detection.html#how-do-i-determine-the-noise-level-in-my-data","title":"How do I determine the noise level in my data?","text":"<p>The background noise level largely depends on the mass spectrometer and detector type. For example, Orbitrap instruments normally provides higher signal intensities than TOF devices. To provide some numbers, while 1.0E2 - 1.0E3 could be an appropriate noise level for TOF analyzers, the same would be overly low for Orbitrap instruments (which normally require 1.0E4 - 1.0E5).</p> <p>The best way to determine the instrumental noise level is undoubtedly by looking at the raw data. The background noise (often referred to as \"grass\" in technical jargon) is characterized by several signals having the same intensity and no clear pattern among them (see Figure). </p> <p></p> <p>Since these signals are produced by electrical and/or mechanical noise, rather than actual ions, they should be excluded from the mass detection and downstream data processing. The red dashed line in the figure corresponds to a hypothetical noise level (1.0E4 in this case) that would filter out most of the \"grass\"-type noise from the mass detection.</p> <p>Another way, more relevant for the feature detection, to determine the noise level consists of picking a mid-intensity LC peak and extract the EICs of its 13C isotopes. When the chromatographic peak shape starts to deteriorate, it means we are approaching the instrument detection limit (see Figure).</p> <p></p> <p>Such approach can also be useful to determine other parameters in the feature detection such as the Group intensity threshold and Min highest intensity parameters in the ADAP chromatogram builder module.</p> <p>Roman Bushuiev, Steffen Heuckeroth, corinnabrungs, omokshyna, tdamiani</p>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html","title":"Mobility scan merging","text":""},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#description","title":"Description","text":"<p> Raw data methods \u2192 File merging \u2192 Mobility scan merging </p> <p>This module merges mobility scans in each single ion mobility data file at the same retention time to a summed frame spectrum.</p> <p>The merged frame spectrum is used if a *.mzML file is imported. The merged frame spectrum is required to gain access to MZmine's LC-MS functionality. </p> <p> This step uses the centroided and thresholded data produced by the mass detection step.</p> <p> This step is not required when importing native Bruker .tdf or .tsf data from .d folders. When importing native Bruker data, a merged spectrum for the frame is created automatically by the vendor library.</p>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#raw-data-files","title":"Raw data files","text":"<p>Raw data files the module will take as an input.</p>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#noise-level","title":"Noise level","text":"<p>Data points beyond the defined noise level threshold will be ignored.</p>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#merging-type","title":"Merging type","text":"<p>The way to calculate intensities. Intensities can be either averaged, summed, or the maximum value can be chosen.</p>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#mz-weighing","title":"m/z weighing","text":"<p>Chosen function is used to weigh m/z values by their intensities. The available options are:</p> <ul> <li>None,</li> <li>Linear,</li> <li>log10,</li> <li>log2,</li> <li>square root,</li> <li>or cube root.</li> </ul>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#scans","title":"Scans","text":"<p>Selects the scans that should be included.</p>"},{"location":"module_docs/featdet_mobility_scan_merging/mobility-scan-merging.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed difference between two m/z values in order for them to be considered the same.</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html","title":"Assign MALDI MS2s to features","text":""},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#description","title":"Description","text":"<p> Feature list methods \u2192 Processing \u2192 Assign MALDI MS2s to features</p> <p>This module allows to pair MS2 scans with features. It uses the spot information stored in the MS1 feature list and the MS2 spectra, the precursor m/z, and the ion mobility windows to pair the MS2s. Be careful when processing multiple imaging datasets with different geometries (multiple flexImaging run files). Among different geometries, multiple spots can have the same coordinate, as they are just stored as a location. This can lead to wrong assignments for abundant species. Make sure to only select the correct MS2 files, e.g., with a more specific name pattern.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#feature-lists","title":"Feature lists","text":"<p>Select the feature lists to pair the MS2s to</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#raw-data-files","title":"Raw data files","text":"<p>The raw data files containing the MS2 spectra. By default, \"File name pattern\" with the pattern \"*_MSMS*\" is selected, due to the naming of the MS2 files. More specific patterns, such as \" *RUN1*_MSMS*\" can be used.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#ms1-to-ms2-precursor-tolerance-mz","title":"MS1 to MS2 precursor tolerance (m/z)","text":"<p>Describes the tolerance between the precursor ion in a MS1 scan and the precursor m/z assigned to the MS2 scan.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#combine-msms-spectra-tims","title":"Combine MS/MS spectra (TIMS)","text":"<p>If checked, all MS/MS spectra assigned to a feature will be merged into a single spectrum. Individual spectra are retained. Usually this is not required, because MS2s can be merged during library matching.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#lock-to-feature-mobility-range","title":"Lock to feature mobility range","text":"<p>If checked, only mobility scans from the mobility range of the feature will be merged.</p> <p> This is usually not needed. However, if isomers/isobars elute at the same retention time and are close in mobility, the MS/MS window might be larger than the peak in mobility dimension and thus cause chimeric MS/MS spectra.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_maldi_scan_pairing.html#minimum-merged-intensity","title":"Minimum merged intensity","text":"<p>If an ion mobility spectrometry (IMS) feature is processed, this parameter can be used to filter low abundant peaks in the MS2 spectrum, since multiple MS/MS mobility scans need to be merged together.</p> <p>Steffen Heuckeroth</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html","title":"MS2 Scan Pairing","text":""},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#description","title":"Description","text":"<p> Feature list methods \u2192 Processing \u2192 Assign MS2 to feature</p> <p>This module allows to pair MS2 scans with features. It assigns all MS2 scans within range to all features in chosen feature list. </p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>The maximum offset between the highest point of the chromatographic peak and the time the MS2 was acquired.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#ms1-to-ms2-precursor-tolerance-mz","title":"MS1 to MS2 precursor tolerance (m/z)","text":"<p>Describes the tolerance between the precursor ion in a MS1 scan and the precursor m/z assigned to the MS2 scan.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#limit-by-rt-edges","title":"Limit by RT edges","text":"<p>Use the feature's edges (retention time) as a filter.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#combine-msms-spectra-tims","title":"Combine MS/MS spectra (TIMS)","text":"<p>If checked, all MS/MS spectra assigned to a feature will be merged into a single spectrum.</p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#lock-to-feature-mobility-range","title":"Lock to feature mobility range","text":"<p>If checked, only mobility scans from the mobility range of the feature will be merged.</p> <p> This is usually not needed. However, if isomers/isobars elute at the same retention time and are close in mobility, the MS/MS window might be larger than the peak in mobility dimension and thus cause chimeric MS/MS spectra. </p>"},{"location":"module_docs/featdet_ms2_scan_pairing/ms2_scan_pairing.html#minimum-merged-intensity","title":"Minimum merged intensity","text":"<p>If an ion mobility spectrometry (IMS) feature is processed, this parameter can be used to filter low abundant peaks in the MS/MS spectrum, since multiple MS/MS mobility scans need to be merged together.</p> <p>omokshyna, tdamiani</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html","title":"Featdet multivar curve res","text":"<p>Danger</p> <p>This module is currently under maintenance / deprecated / etc.</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#spectral-deconvolution-multivariate-curve-resolution","title":"Spectral deconvolution: Multivariate Curve Resolution","text":"<p>Danger</p> <p>This module is not supported on macOS</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#description","title":"Description","text":"<p> Feature list methods \u2192 Spectral deconvolution (GC) \u2192 Multivariate Curve Resolution</p> <p>This ADAP-based method performs Spectral Deconvolution of detected features. It finds components (compounds, analytes, etc.) and determines their model feature and pseudo fragmentation mass spectra.</p> <p>The spectral deconvolution uses both constructed chromatograms and detected features. The feature list of constructed chromatograms is specified by selecting specific feature lists for parameter chromatograms and choosing one or more lists with chromatograms in the popup window. The list of detected peaks is specified by selecting Specific peak lists for parameter Peaks, clicking on the ellipsis button, and choosing one or more lists with detected peaks in the popup window.</p> <p>The Spectral Deconvolution consists of two steps:</p> <ol> <li> <p>Entire retention time interval is split into deconvolution windows so that</p> </li> <li> <p>Features produced by the same component or by coeluting components belong to the same deconvolution window,</p> </li> <li>Number of features in deconvolution window is significantly smaller than the total number of features.</li> </ol> <p>The deconvolution windows are displayed in the top plot of the preview, where small dash lines denote features in the (retention time, m/z)-plane, and features belonging to one deconvolution window have the same color. The vertical sequences of features usually mark the presence of one or several compounds, so it is important that those features are assigned to the same deconvolution window, i.e. they have the same color on the plot. The deconvolution windows are controlled by the Deconvolution window width parameter.</p> <p> If deconvolution windows contain too many features, it will significantly slow down the spectral deconvolution computations, so the deconvolution windows should be as short (in the retention time domain) as possible. 2. The algorithm infers the number of components in each deconvolution window and construct their model feature and pseudo fragmentation spectra. The inferred number of components is controlled by three parameters: Retention time tolerance (min), Minimum Number of Peaks, and Adjust Apex Ret Times.</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#references","title":"References","text":"<p>Info</p> <ol> <li> <p>Robin Schmid, Steffen Heuckeroth, Ansgar Korf et al. Integrative analysis of multimodal mass spectrometry data in MZmine 3. Nature Biotechnology (2023), doi:10.1038/s41587-023-01690-2 </p> </li> <li> <p>Smirnov A, Jia W, Walker D, Jones D, Du X: ADAP-GC 3.2: Graphical Software Tool for Efficient Spectral Deconvolution of Gas Cromatography\u2014High-Resolution Mass Spectrometry Metabolomics Data. J. Proteome Res 2017, DOI: 10.1021/acs.jproteome.7b00633</p> </li> <li> <p>Aleksandr Smirnov, Yunping Qiu, Wei Jia, Douglas I. Walker, Dean P. Jones, Xiuxia Du. ADAP-GC 4.0: Application of Clustering-Assisted Multivariate Curve Resolution to Spectral Deconvolution of Gas Chromatography\u2013Mass Spectrometry Metabolomics Data. Analytical Chemistry 2019, 91 (14) , 9069-9077. 10.1021/acs.analchem.9b01424</p> </li> </ol>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#deconvolution-window-width-min","title":"Deconvolution window width (min)","text":"<p>The algorithm will produce deconvolution windows so that their width (in retention time domain) does not exceed the value of this parameter.</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#retention-time-tolerance-min","title":"Retention time tolerance (min)","text":"<p>The smallest time-gap between any two components.</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#minimum-number-of-features","title":"Minimum number of features","text":"<p>The smallest number of detected features to form a component.</p>"},{"location":"module_docs/featdet_multivariate_curve_res/featdet_multivar_curve_res.html#adjust-apex-ret-times","title":"Adjust Apex Ret Times","text":"<p>If false, then the retention time of each detected peak is determined by the retention time of its highest data point.  If true, then the retention time of each detected peak is determined by fitting a parabola into the top half of that peak.</p> <p>Ansgar Korf, kyrasolaris01, omokshyna</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html","title":"ADAP resolver","text":"<p>Danger</p> <p>This module is currently under maintenance</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#adap-resolver","title":"ADAP resolver","text":""},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#description","title":"Description","text":"<p> Feature detection \u2192 Chromatogram resolving \u2192 ADAP resolver</p> <p>ADAP detects EIC peaks by using the continuous wavelet transform (CWT) algorithm. Wavelet coefficients are first calculated as the inner product between the EIC and wavelets at different scales and locations. </p> <p>Subsequently, peak location and boundaries are determined through a ridgeline detection and simple local minima search. </p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#references","title":"References","text":"<ol> <li> <p>Du, P., Kibbe W. A., and Lin S. M., Bioinformatics 2006, 22:2059-65.</p> </li> <li> <p>Wee A., Grayden D. B., Zhu Y., Petkovic-Duran K., and Smith D., Electrophoresis 2008, 29:4215-25.</p> </li> </ol>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#ridgeline-detection","title":"Ridgeline detection","text":"<p>A real peak in an EIC should create a local maxima in the wavelet coefficients at multiple scales. The best scale would create the largest coefficient. In case of the wavelet, it is the scale, for which the wavelet most closely matches the shape of the peak. Scales close to the best scale should also have reasonably similar shapes to the peak and therefore create adjacent maxima between those scales. </p> <p>Ridgelines are the series of connected local maxima across scales, which are indicative of a real peak. </p> <p>The applied procedure for detecting the ridgelines is similar to that described by Du et al. [1] and Wee et al. [2] and is as follows:</p> <ol> <li>Begin with the coefficients corresponding to the largest wavelet scale.</li> <li>Find the largest coefficient at this scale and initialize a ridgeline.</li> <li>Remove all coefficients that are within half the estimated compact support of the Ricker wavelet (2.5 times the current scale).</li> <li>Find the next largest coefficient discounting all removed coefficients and initialize another ridgeline.</li> <li>Repeat steps (3)-(4) until there are no more coefficients remaining for this wavelet scale.</li> <li> <p>Move to the next scale (decrease by one) and repeat (1)-(6). Add new coefficients to an existing ridgeline if they are close in RT. </p> <p>We define \"close\" to be a difference in their indices that is less than or equal to the current scale being investigated. 7. After all scales have been processed, ridgelines must have a length, i.e., the total number of scales represented in the ridgeline, greater than or equal to 7.</p> </li> </ol>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#signal-to-noise-threshold-estimation","title":"Signal-to-Noise threshold estimation","text":""},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#intensity-based","title":"Intensity-based","text":"<p>To calculate it, S is chosen to be the maximum intensity between the boundaries of the feature under investigation. Noise, N, is estimated using two different steps. The final estimate of N is the smaller value, which is then used to calculate S/N. Each estimation of the noise attempts to avoid overestimate from the accidental inclusion of other real features that may be close in RT.</p> <p>Step 1:</p> <ol> <li>Set two windows, one on each side of the peak in the EIC. The windows begin at the left and right peak boundaries and end at the peak boundaries plus or minus 2 times peak width (PW), respectively. PW is defined to be the number of scans between the two boundaries of a peak.</li> <li>Calculate the standard deviation of the intensities in the two combined windows and store it as one possible value of the noise.</li> <li>Expand both windows out from the peak by a single scan. The boundaries closest to the peak remain the same. After the first expansion, each window has a length of 2 times PW+1.</li> <li>Calculate and store the standard deviation of the intensities in the combined windows.</li> <li>Repeat steps (3)-(4) until each window has a length of 8 times PW.</li> <li>Incrementally shrink each window by one scan, calculating and storing the standard deviations of the combined windows. The windows are shrunk by moving the boundary closest to the peak toward the boundary furthest from it.</li> <li>Repeat step (6) until the window size is 2 times PW. The final noise estimate is taken to be the smallest stored standard deviation.</li> </ol> <p>Step 2:</p> <ol> <li>Same as (1) in step 1.</li> <li>Same as (2) in step 1.</li> <li>Shift each entire window away from the feature by one scan; the window lengths do not change.</li> <li>Repeat steps (2)-(3) until each window's boundary furthest from the feature is 8 times PW from the closest boundary of that feature.</li> <li>The final noise is taken to be the smallest stored standard deviation.</li> </ol>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#wavelet-coefficients-based","title":"Wavelet coefficients-based","text":"<p>The magnitude of the wavelet coefficient alone is not sufficient for determining if a feature is real due to its strong dependence on the intensities of the data points used in calculations. </p> <p>To ensure that low-intensity features can be reliably detected and that poorly shaped peaks can be reliably filtered out, the largest coefficient, \\(Cmax\\), for a given feature is taken and divide it by the area, \\(A\\), under the curve between the two boundaries of the peak. </p> <p>Then the area is calculated using a trapezoidal method so that \\(A\\) is exactly the area under the curve created by connecting adjacent data points with straight lines. </p> <p>The result is a measure for which large values correspond to the features similar in shape to the wavelet. </p> <p>One important property of \\(Cmax/A\\), is that intermittent dips in the intensity can increase the value due to the reduced area. This is beneficial for finding messy low-intensity features but can also be problematic if the area is so small it results in the detection of a feature with a very bad shape.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#suffix","title":"Suffix","text":"<p>This string is added to feature list name as suffix</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#original-feature-list","title":"Original feature list","text":"<p>Defines the processing.</p> <p>Standard is to KEEP the original feature list and create a new processed list.</p> <p>REMOVE saves memory.</p> <p>PROCESS IN PLACE is an advanced option to process directly in the feature list and reduce memory consumption more - this might come with side effects, apply with caution.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#msms-scan-pairing","title":"MS/MS scan pairing","text":"<p>Set MS/MS scan pairing parameters. For more details see MS2 scan pairing</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#dimension","title":"Dimension","text":"<p>Select the dimension to be resolve - either retention time, or mobility.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#sn-threshold","title":"S/N threshold","text":"<p>The signal (S) to noise (N) ratio, S/N.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#sn-estimator","title":"S/N estimator","text":"<p>There two options for S/N estimator:</p> <ul> <li> <p>Wavelet coefficient</p> <p>If this parameter is chosen the calculations follow the algorithm described here</p> <p></p> <p>This uses two parameters:</p> <ul> <li>Peak width mult. determines window size</li> <li>abs(wavelet coeffs.) determines if the absolute values of coefficient are used</li> </ul> </li> <li> <p>Intensity window SN</p> </li> </ul> <p>If this parameter is chosen the calculations follow the algorithm described here.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#min-feature-height","title":"Min feature height","text":"<p>The smallest intensity a peak can have and be considered a real feature.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#coefficientarea-threshold","title":"Coefficient/area threshold","text":"<p>The best coefficient (the largest inner product of wavelet with peak in ridgeline) divided by the area under the curve of the feature</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#peak-duration-range","title":"Peak duration range","text":"<p>The acceptable range of peak widths. Features with widths outside this range will be rejected.</p>"},{"location":"module_docs/featdet_resolver_adap/adap-resolver.html#rt-wavelet-range","title":"RT wavelet range","text":"<p>The range of wavelet scales used to build matrix of coefficients. Scales are expressed as RT values (minutes) and correspond to the range of wavelet scales that will be applied to the chromatogram. Choose a range that is similar to the range of feature widths expected to be found from the data.</p> <p>Ansgar Korf, omokshyna</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html","title":"Baseline resolver","text":""},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#description","title":"Description","text":"<p> Feature detection \u2192 Chromatogram resolving \u2192 Baseline resolver</p> <p>A very simple method that can be used to demonstrate the functionality of chromatogram resolving. </p> <ul> <li>First, the algorithm removes the lowest part of the chromatogram below a Baseline level specified by the user. </li> <li>Remaining peaks above the baseline level are recognized if they fulfill the height and duration requirements.</li> </ul>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#suffix","title":"Suffix","text":"<p>This string is added to feature list name as suffix</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#original-feature-list","title":"Original feature list","text":"<p>Defines the processing.</p> <p>Standard is to KEEP the original feature list and create a new processed list.</p> <p>REMOVE saves memory.</p> <p>PROCESS IN PLACE is an advanced option to process directly in the feature list and reduce memory consumption more - this might come with side effects, apply with caution.</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#msms-scan-pairing","title":"MS/MS scan pairing","text":"<p>Set MS/MS scan pairing parameters. For more details see MS2 scan pairing</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#min-peak-height","title":"Min peak height","text":"<p>Minimum acceptable feature height (absolute intensity)</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#peak-duration-range","title":"Peak duration range","text":"<p>Range of acceptable feature durations</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#baseline-level","title":"Baseline level","text":"<p>Level below which all data points of the chromatogram are removed (absolute intensity)</p>"},{"location":"module_docs/featdet_resolver_baseline/baseline-resolver.html#min-of-data-points","title":"Min # of data points","text":"<p>Minimum number of data points on a feature</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html","title":"CentWave Resolver","text":""},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#description","title":"Description","text":"<p> Feature detection \u2192 Chromatogram resolving \u2192 CentWave resolver</p> <p>This method uses wavelets (from xcms library) to detect features within a chromatogram. A series of wavelets of different scales is convolved within the chromatogram. Local maxima in the convolution results determine the locations of possible peaks. </p> <p>When these candidate feature locations co-occur at multiple scales then the scale with the strongest response indicates peak width. Given the candidate feature locations and scales, features can then be reconstructed from the original chromatogram. </p> <p>Full details of the algorithm are published in Tautenhahn et al. [1].</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#requirements","title":"Requirements","text":"<p>The Wavelets detector employs Bioconductor's XCMS package for R [2]. Therefore, you must have R v2.15 or later installed. To install the XCMS package, run R and issue the following commands:</p> <pre><code>source(\"http://bioconductor.org/biocLite.R\")\nbiocLite(\"xcms\")\n</code></pre> <p>To run R from MZmine the Rserve package [3] must be installed in R, so also run the following R command:</p> <pre><code>install.packages(\"Rserve\")\n</code></pre>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#references","title":"References","text":"<ol> <li> <p>Ralf Tautenhahn, Christoph B\u00f6ttcher, and Steffen Neumann \"Highly sensitive feature detection for high resolution LC/MS\" BMC Bioinformatics 2008, 9:504</p> </li> <li> <p>Bioconductor XCMS \"LC/MS and GC/MS Data Analysis\" http://www.bioconductor.org/packages/release/bioc/html/xcms.html.</p> </li> <li> <p>Rserve \"A TCP/IP server which allows other programs to use facilities of R\" https://rforge.net/Rserve/.</p> </li> </ol>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#suffix","title":"Suffix","text":"<p>This string is added to feature list name as suffix</p> <p>Original feature list</p> <p>Defines the processing.</p> <p>Standard is to KEEP the original feature list and create a new processed list.</p> <p>REMOVE saves memory.</p> <p>PROCESS IN PLACE is an advanced option to process directly in the feature list and reduce memory consumption more - this might come with side effects, apply with caution.</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#msms-scan-pairing","title":"MS/MS scan pairing","text":"<p>Set MS/MS scan pairing parameters. For more details see MS2 scan pairing</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#sn-threshold","title":"S/N Threshold","text":"<p>Features with a signal-to-noise ratio less than the threshold will be rejected.</p> <p>The S:N ratio is defined as</p> \\[(max - baseline) / sd\\] <p>where max is the maximum feature intensity, baseline is the estimated baseline value, and sd is the standard deviation of local chromatographic noise.</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#peak-duration-range","title":"Peak duration range","text":"<p>The acceptable range of feature widths. Features with widths outside this range will be rejected.</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#peak-integration-method","title":"Peak integration method","text":"<p>Type of data used during feature reconstruction.</p> <p>When reconstructing a feature from the chromatogram, gradient descent is used. This can be performed on the raw peak data or a smoothed version of it. Smoothed data is obtained through mexican hat filtering.</p> <p>Using the unfiltered data is more accurate but can be susceptible to noise. The smooth data provide less exact results but are more robust in the presence of noise.</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#r-engine","title":"R engine","text":"<p>The R engine to be used for communicating with R. RServe might provide you with better performance.</p>"},{"location":"module_docs/featdet_resolver_centwave/centwave-resolver.html#min-of-data-points","title":"Min # of data points","text":"<p>Minimum number of data points on a feature.</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html","title":"Local Minimum Resolver","text":""},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#description","title":"Description","text":"<p> Feature detection \u2192 Chromatogram resolving \u2192 Local minimum resolver</p> <p>During the EICs building, overlapping and partially co-eluting features are retained as single features in the feature list (see, for example, ADAP chromatogram builder). As a local minimum in the EIC trace might correspond to the valley between two adjacent, partially-resolved peaks, the Local minimum resolver (LMR) utilizes such minima to split \"shoulder\" LC peaks into individual features (i.e. chromatographic resolving).</p> <p>The algorithm examines all the data points in the EIC trace starting from the earliest RT. A scan window is set (see Minimum search range RT/Mobility parameter) and centered around the examined data point. </p> <p>A data point is considered a local minimum if it is the lowest intense point within the scan window. When a local minumum is found, a set of user-defined intensity and feature duration requirements is checked. If they are fulfilled, the original overlapping peaks are split into new, distinct features. </p> <p> The LMR is particularly suitable for LC-MS data with little noise and nice peak shapes.</p> <p> With the implementation of ion mobility (IM) support in MZmine 3, this module was expanded and can now be applied over both the RT and IM dimensions (see Resolving the ion mobility dimension).</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#resolving-the-ion-mobility-dimension","title":"Resolving the ion mobility dimension","text":"<p>This same module can be used to resolve features co-eluting in the RT dimension, based on their ion mobility. The same concepts apply as in the resolution of the RT dimension.</p> <p>However, mobilograms are examined instead of EIC traces and the same settings used for the RT dimension might not be optimal when resolving IM data. In particular, the following aspects should be born in mind:</p> <ol> <li>While frame scans are examined over the RT dimension, mobility scans are considered over the IM dimension.</li> </ol> <p>As explained here, frame scans are essentially obtained by merging the mobility scans acquired over an IM accumulation. Therefore, it might be necessary to adjust parameters like Minimum absolute height or Min ratio of peak top/edge to account for the lower signal intensity of mobility scans.</p> <ol> <li>Mobilograms are recalculated from  raw data, even though a smoothing step was previously applied. Non-smoothed mobiligrams tend to be more jagged than regular EIC traces (see Figure). Therefore, some parameters (e.g. Min search range and Min ratio of peak top/edge) should be adjusted accordingly.</li> </ol> <p></p> <ol> <li>Mobilograms contain fewer scans (e.g. \u2248400-1000 per frame, depending on instrument type and acquisition settings), compared to regular EICs (e.g. \u22484500 scans for 15 minutes LC run and scan rate of 0.2 seconds). Therefore, a lower chromatographic threshold (e.g. 80%) is recommended to avoid relevant data points in the mobilogram being discarded.</li> </ol> <p>On the other hand, a single feature in the IM dimension is normally made up of more data points than regular LC peaks, due to the different timescale the IM separation is performed on (see here for more details).</p> <p>Therefore, a higher Min # of data points can be set when resolving the ion mobility dimension to filter out noisy features.</p> <ol> <li>Different vendors use different units of mobility. For instance, TIMS express ions' mobility as Vs/cm<sup>2</sup>, whereas time dispersive IM devices (DTIMS and TWIMS) use the ions' drift time (expressed in milliseconds). TIMS values are numerically smaller than DTIMS or TWIMS; therefore, the minimum search range parameter should be adjusted accordingly.</li> </ol>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#suffix","title":"Suffix","text":"<p>String added as suffix to when creating the new feature list(s).</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#original-feature-list","title":"Original feature list","text":"<p>Defines the processing.</p> <p>Standard is to KEEP the original feature list and create a new processed list.</p> <p>REMOVE saves memory.</p> <p>PROCESS IN PLACE is an advanced option to process directly in the feature list and reduce memory consumption more - this might come with side effects, apply with caution.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#msms-scan-pairing","title":"MS/MS scan pairing","text":"<p>Pair MS/MS fragmentation spectra collected in DDA mode to the resolved features. This is optional at this stage as the same can be done later in the pipeline using a separate module. See MS2 scan pairing documentation for more details.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#dimension","title":"Dimension","text":"<p>Dimension to be resolved. Select Retention time or Mobility to run the module over the RT or IM dimension, respectively.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#chromatographic-threshold","title":"Chromatographic threshold","text":"<p>Percentage of data points in the EIC removed before local minima search. This represents an important filter for noisy chromatogram and significantly reduces the processing time. The algorithm finds the intensity value (threshold) that leaves the specified percentage of data points in the EIC trace below the given value. All such data points are removed.</p> <p>For example, a Chromatographic threshold = 50% will discard the lowest-intense 50% data points in the EIC trace.</p> <p> It must be noted that the algorithm examines the EICs throughout the entire RT range (i.e. also the zero data points are considered). Therefore, we recommend to set this value rather high (e.g. 90-95%) and lower it only if needed.</p> <p> When resolving the ion mobility dimension, we recommend to lower this settings to no more than 80% since mobilograms contains less data points than regular LC traces.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-search-range-rtmobility-absolute","title":"Minimum search range RT/Mobility (absolute)","text":"<p>Size of the RT, or mobility, window examined for local minimum search. An overly narrow search range can cause peak edges to be cut off, whereas a too wide search ranges might lead to an incomplete resolution of narrowly eluting peaks (see example below).</p> <p></p> <p> A shorter Minimum search range is generally needed when resolving the ion mobility dimension.</p> <p></p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-relative-height","title":"Minimum relative height","text":"<p>Minimum relative intensity (with respect to the highest data point in the EIC) a peak needs to reach to be retained as a feature. This parameter can be used in combination with the Minimum absolute height setting as to filter the resolved features to be retained.</p> <p>Many users prefer to rely only on the Minimum absolute height as it is more straightforward to set. To do so, set the Minimum relative height = 0 and the parameter will be ignored.</p> <p> Modern mass spectrometers provide linear dynamic ranges up to 5 orders of magnitude. If we take an Orbitrap device with a detector saturation around 1.0E10 intensity, a Minimum relative height = 0.001 would correspond to a 1.0E5 minimum intensity.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#minimum-absolute-height","title":"Minimum absolute height","text":"<p>Minimum absolute intensity a peak needs to reach to be retained as a feature. This parameter is very similar to the Min highest intensity settings in the ADAP chromatogram builder module and the same concepts apply.</p> <p> When resolving the RT dimension, the same value used as Min highest intensity in the EICs building can normally be used here.</p> <p> While frame scans are examined over the RT dimension, mobility scans are examined over the IM dimension. Therefore, this parameter might need to be adjested accordingly when resolving the ion mobility dimension.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#min-ratio-of-peak-topedge","title":"Min ratio of peak top/edge","text":"<p>Minimum ratio between the intensity of the highest (apex) and side (left and right 'edges') points of a peak, to retain it as a feature. The peak edges have to be X times less intense than the peak apex for the feature to be retained.</p> <p>The purpose of this parameter is to reduce the detection of false local minima when the examined trace (EIC or mobilogram) is not smooth. In general, this mainly affects low intensity and not-baseline-resolved signals</p> <p> This parameter can best be optimized using the Show preview option. We recommend values between 1.7 (not baseline separated) and 2 to start the optimisation.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#peak-duration-range-minmobility","title":"Peak duration range (min/mobility)","text":"<p>Range of acceptable peak length expressed in minutes (RT dimension) or absolute units (mobility dimension). This parameter can be used to filter out noisy features based on their overly short (or long) duration.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#min-of-data-points","title":"Min # of data points","text":"<p>Minimum number of data points a resolved peak needs to have to be considered valid and retained as a feature. This parameter can be used along with the Peak duration range setting as  peak duration constraint to filter out noisy features.</p> <p> This parameter is very similar to the Min group size in # of scans settings in the ADAP chromatogram builder module and the same value can normally be used here (usually, no less than 4-5).</p> <p> A feature in the IM dimension is normally made up of more data points than regular LC peaks. Therefore, a higher Min # of data points can be set when resolving the ion mobility dimension to filter out noisy features.</p>"},{"location":"module_docs/featdet_resolver_local_minimum/local-minimum-resolver.html#show-preview","title":"Show preview","text":"<p>By checking this box, an interactive visualization panel will open to help the user to adjust the algorithm parameters. Two EIC traces can be displayed simultaneously in two sub-panels to assess the impact of chosen settings on both \"good\" and \"noisy\" EIC traces. The feature list and EIC traces to display can be selected from the corresponding drop-down menus. A noisy EIC can generally be found by sorting the feature table by decreasing area, or by looking at the height/area ratio provided for each feature in the top sub-panel (noisy EIC tend to have low height/area ratios). We recommend optimising the parameters on good EICs and checking the results of these parameters with a noisy EIC.</p> <p>Adriano Rutz, Steffen Heuckeroth, corinnabrungs, omokshyna, tdamiani</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html","title":"Noise amplitude resolver","text":""},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#description","title":"Description","text":"<p> Feature detection \u2192 Chromatogram resolving \u2192 Noise amplitude resolver</p> <p>This method is suitable for chromatograms with significant background noise of varying intensities. It works in a similar way to the Baseline cut-off method, but sets the baseline level individually for each chromatogram, depending on the amplitude of signal noise.</p> <p>The baseline level is calculated as follows:</p> <ul> <li>The intensity range of the chromatogram is divided into bins of the user-specified size (the Noise amplitude parameter)</li> <li>The bin with the highest number of data points is found. This bin represents the intensity level of the noise signal. </li> <li>The baseline level is set to the intensity of the bin with the most data points</li> </ul>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#parameters","title":"Parameters","text":"<p>Suffix</p> <p>This string is added to feature list name as suffix</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#original-feature-list","title":"Original feature list","text":"<p>Defines the processing.</p> <p>Standard is to KEEP the original feature list and create a new processed list.</p> <p>REMOVE saves memory.</p> <p>PROCESS IN PLACE is an advanced option to process directly in the feature list and reduce memory consumption more - this might come with side effects, apply with caution.</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#msms-scan-pairing","title":"MS/MS scan pairing","text":"<p>Set MS/MS scan pairing parameters. For more details see MS2 scan pairing</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#min-peak-height","title":"Min peak height","text":"<p>Minimum acceptable height (intensity) for a feature</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#peak-duration-range","title":"Peak duration range","text":"<p>Range of acceptable feature durations</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#amplitude-of-noise","title":"Amplitude of noise","text":"<p>This value is the intensity amplitude of the signal in the noise region</p>"},{"location":"module_docs/featdet_resolver_noise_ampl/noise-ampl-resolver.html#min-of-data-points","title":"Min # of data points","text":"<p>Minimum number of data points on a feature.</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_resolver_savitzky-golay/savitzky-golay-resolver.html","title":"Savitzky-Golay resolver","text":""},{"location":"module_docs/featdet_resolver_savitzky-golay/savitzky-golay-resolver.html#description","title":"Description","text":"<p> Feature detection \u2192 Chromatogram resolving \u2192 Savitzky Golay resolver</p> <p>This method uses the Savitzky-Golay polynomial [1] to calculate the smoothed second-derivative of the chromatogram's intensities. </p> <p>The following figure (left) presents the shape of a) a Gaussian peak, b) the first derivative, and c) the second derivative. </p> <p>The figure on the right side shows how the signal (blue line) may be divided into individual chromatographic peaks by observing the second derivative.</p> <p></p>"},{"location":"module_docs/featdet_resolver_savitzky-golay/savitzky-golay-resolver.html#references","title":"References","text":"<ol> <li>A. Savitzky and M. J. E. Golay, Anal. Chem., 36, 1627 (1964). DOI: 10.1021/ac60214a047</li> </ol>"},{"location":"module_docs/featdet_resolver_savitzky-golay/savitzky-golay-resolver.html#parameters","title":"Parameters","text":"<p>Suffix</p> <p>This string is added to feature list name as suffix</p> <p>Original feature list</p> <p>Defines the processing.  Standard is to KEEP the original feature list and create a new processed list. </p> <p>REMOVE saves memory. </p> <p>PROCESS IN PLACE is an advanced option to process directly in the feature list and reduce memory consumption more - this might come with side effects, apply with caution.</p> <p>MS/MS scan pairing</p> <p>Set MS/MS scan pairing parameters. For more details see MS2 scan pairing</p> <p>Min peak height</p> <p>Minimum acceptable feature height (absolute intensity)</p> <p>Peak duration range</p> <p>Range of acceptable feature durations</p> <p>Derivative threshold level</p> <p>Minimum acceptable intensity in the second derivative for feature recognition</p> <p>Min # of data points</p> <p>Minimum number of data points on a feature.</p> <p>omokshyna</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html","title":"Smoothing","text":""},{"location":"module_docs/featdet_smoothing/smoothing.html#description","title":"Description","text":"<p> This module should be used after feature detection step is performed.</p> <p> Feature detection \u2192 Smoothing</p> <p>Smoothing is an optional feature that is used depending on the noisiness of the data. Smoothing allows to approximate a peak shape to the \"ideal\" shape defined by the target function of the used algorithm.</p> <p>In MZmine 3, two algorithms can be used for smoothing:</p> <ul> <li>Savitzky-Golay,</li> <li>and Loess smoothing.</li> </ul>"},{"location":"module_docs/featdet_smoothing/smoothing.html#savitzky-golay-smoothing","title":"Savitzky-Golay smoothing","text":"<p>This smoothing method is also implemented in Raw data methods \u2192 Raw data filtering \u2192 Scan by scan filtering. Its brief description is available in that section. For more details see [1].</p> <p> The benefit of Savitzky\u2013Golay is its efficiency. Due to a fixed user-defined window size and equal spacing, the weights are also fixed. As a result, the local fit need be solved only once.</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#loess-smoothing","title":"Loess smoothing","text":"<p>LOESS (locally weighted smoothing) or LOWESS (Locally Weighted Scatterplot Smoothing) is a non-parametric method that relies only on a smoothing parameter value and the degree of polynomial without a predefined function. Each polynomial is fitted locally depending on the defined bandwidth. </p> <p>More details on LOESS smoothing can be found in [2].</p> <p> Can be slightly slower than the Savitzky-Golay algorithm (due to the repeated local fitting) but also a bit more precise.</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#references","title":"References","text":"<ol> <li> <p>A. Savitzky and M. J. E. Golay, Anal. Chem., 36, 1627 (1964). DOI: 10.1021/ac60214a047</p> </li> <li> <p>William S. Cleveland &amp; Susan J. Devlin (1988) Locally Weighted Regression: An Approach to Regression Analysis by Local Fitting, Journal of the American Statistical Association, 83:403, 596-610, DOI: 10.1080/01621459.1988.10478639</p> </li> </ol>"},{"location":"module_docs/featdet_smoothing/smoothing.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_smoothing/smoothing.html#feature-lists","title":"Feature lists","text":"<p>Feature lists that the module will take as an input.</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#smoothing-algorithm","title":"Smoothing algorithm","text":"<p>Choose if Savitzky-Golay or LOESS smoothing will be used.</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#savitzky-golay-additional-parameters","title":"Savitzky-Golay additional parameters","text":"<p>Retention time smoothing</p> <p>Number of data point to smooth in retention time dimension. Defines window size and coefficients used in smoothing.</p> <p>Mobility smoothing</p> <p>Number of data point to smooth in mobility dimension.</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#loess-additional-parameters","title":"LOESS additional parameters","text":"<p>Retention time width (scans)</p> <p>Number of scans to smooth in retention time dimension.  Used to calculate a fraction of source points, which is subsequently used to calculate LOESS \"bandwidth\". \"Bandwidth or \"smoothing parameter\" determines how much of the data is used to fit each local polynomial.</p> <p> Higher values of smoothing parameter lead to the smoother output but simultaneously to a larger loss of information.</p> <p>Mobility width (scans)</p> <p>Number of data point to smooth in mobility dimension. The points about previous parameter apply here as well.</p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#optimizing-smoothing-parameters-using-the-preview","title":"Optimizing smoothing parameters using the preview","text":""},{"location":"module_docs/featdet_smoothing/smoothing.html#retention-time-dimension","title":"Retention time dimension","text":"<p>Smoothing chromatograms is optional. The necessity of smoothing in RT dimension is determined by the noisiness of chromatographic peaks. These can be influenced by the overall spray stability, instrument accumulation times, transfer efficiency and many more.</p> <p>The number of data points to be smoothed in rt dimension can be set at [1] (see image below). Note that the correct preview dimension is selected at [2] (see image below).</p> <p>For large batch modes, the Remove original feature list parameter should be selected. While parameters are being optimised, this is not recommended, because removing a feature list cannot be undone.</p> <p></p>"},{"location":"module_docs/featdet_smoothing/smoothing.html#mobility-dimension","title":"Mobility dimension","text":"<p>After resolving a feature in RT dimension, the mobilograms will be recalculated from the raw data (the resolved ion mobility trace). Therefore, a smoothing step is necessary if the data requires it. The smoothing dialog is opened via Feature detection \u2192 Smoothing</p> <p>Select to smooth the mobility dimension [1] and select it as preview dimension [2]. The filter with depends on the number of spectra acquired in the observed mobility range. Usually, a value between 5 and 15 should be appropriate.</p> <p></p> <p>Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html","title":"GC-EI spectral deconvolution","text":""},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#description","title":"Description","text":"<p> Feature list methods \u2192 Spectral deconvolution (GC) \u2192 GC-EI spectral deconvolution</p> <p>This ADAP inspired method groups resolved features into pseudo spectra, representing deconvoluted GC-EI spectra. It clusters features based on retention time and other parameters to construct fragmentation spectra for analytes.</p> <p>The following steps are performed depending on the selected Deconvolution algorithm:</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#deconvolution-algorithm-rt-grouping-and-shape-correlation","title":"Deconvolution algorithm: rt grouping and shape correlation","text":"<p>All features are clustered based on their retention times. The user can specify the maximum retention time tolerance and the minimum number of signals in a pseudo spectrum. Features are initially sorted by intensity. Each feature is then assigned to potential clusters within the specified retention time tolerance. If a feature falls within the RT range of multiple clusters, shape correlation is performed to determine the most suitable cluster. Clusters that do not meet the minimum number of signals are removed.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#deconvolution-algorithm-hierarchical-clustering","title":"Deconvolution algorithm: hierarchical clustering","text":"<p>All features are clustered based on their retention times. The user can specify the maximum retention time tolerance and the minimum number of signals in a pseudo spectrum. Features are initially sorted by intensity. Each feature is placed in an initial cluster. Clusters are then paired based on their RT distance, and a priority queue is used to manage these pairs. If all features in a cluster pair fall within the specified RT tolerance, the clusters are merged. This process continues until no more clusters can be merged. Clusters that do not meet the minimum number of signals are removed.</p> <p>Also read: References</p> <p> </p> <p>Smirnov A, Jia W, Walker D, Jones D, Du X: ADAP-GC 3.2: Graphical Software Tool for Efficient Spectral Deconvolution of Gas Chromatography\u2014High-Resolution Mass Spectrometry Metabolomics Data. J. Proteome Res 2017, DOI: 10.1021/acs.jproteome.7b00633</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#parameters","title":"Parameters","text":""},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#deconvolution-algorithm","title":"Deconvolution algorithm","text":""},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#rt-grouping-and-shape-correlation","title":"rt grouping and shape correlation","text":""},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#retention-time-tolerance-min","title":"Retention Time Tolerance (min)","text":"<p>Maximum allowed difference between two retention time values for them to be clustered together.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#minimum-number-of-signals","title":"Minimum Number of Signals","text":"<p>Minimum number of deconvoluted signals in a pseudo spectrum.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#minimum-shape-similarity","title":"Minimum shape similarity","text":"<p>Minimum shape similarity of a feature to be added to a pseudo spectrum. Features not meeting the shape similarity (Pearson correlation) are not considered in the pseudo spectrum.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#hierarchical-clustering","title":"hierarchical clustering","text":""},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#retention-time-tolerance-min_1","title":"Retention Time Tolerance (min)","text":"<p>Maximum allowed difference between two retention time values for them to be clustered together.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#minimum-number-of-signals_1","title":"Minimum Number of Signals","text":"<p>Minimum number of deconvoluted signals in a pseudo spectrum.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#exclude-mz-values","title":"Exclude m/z-values","text":"<p>Optional parameter Optionally, the user can specify a list of deprecated m/z values such that EIC peaks with those m/z values could not be chosen as model peaks. It is possible to specify single m/z values as well as ranges of m/z values. For example: 1-50, 73, 100.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#suffix","title":"Suffix","text":"<p>String to add to feature list name as a suffix.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#remove-original-feature-list","title":"Remove original feature list","text":"<p>If checked, the original feature list will be removed.</p>"},{"location":"module_docs/featdet_spectraldeconvolutiongc/spectraldeconvolutiongc.html#preview","title":"Preview","text":"<p>The preview dialog displays the deconvolution results for the selected feature list. Click on \"Update preview\" to create the plots. The upper plot displays grouped features by color as compounds. The grey area around a selected group represents the RT range of the most abundant feature. The orange area indicates the RT tolerance set in the parameters. The plots at the bottom show pseudo spectra based on the grouped features and an overlay of the grouped features for quality control. At the bottom, the user can select a grouped compound based on the representative feature. Next to the combo box is a short summary of the selected feature and the total number of groups.  Ansgar Korf</p>"},{"location":"module_docs/feature_filter/feature_filter.html","title":"Feature filter","text":""},{"location":"module_docs/feature_filter/feature_filter.html#description","title":"Description","text":"<p> Feature list methods \u2192 Feature list filtering \u2192 Feature filter</p> <p>This module deletes features in a selected feature list that do not meet the requirements defined by the user. The filter is performed separately on each raw data file in the peak list.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/feature_filter/feature_filter.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to feature list name.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#duration","title":"Duration","text":"<p>Peaks with a duration outside the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#area","title":"Area","text":"<p>Peaks with an area outside the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#height","title":"Height","text":"<p>Peaks with a height outside the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#data-points","title":"# data points","text":"<p>Peaks with fewer data points than the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#fwhm","title":"FWHM","text":"<p>Peaks with a FWHM outside the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#tailing-factor","title":"Tailing factor","text":"<p>Peaks with a tailing factor outside the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#asymmetry-factor","title":"Asymmetry factor","text":"<p>Peaks with an asymmetry factor outside the entered range will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#keep-only-features-with-msms-scans","title":"Keep only features with MS/MS scans","text":"<p>Peaks without any MS/MS scans will be removed.</p>"},{"location":"module_docs/feature_filter/feature_filter.html#remove-source-feature-list-after-filtering","title":"Remove source feature list after filtering","text":"<p>If the checkbox is selected, the source feature list will be removed, and the filtered version will remain.</p> <p>omokshyna</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html","title":"Feature list rows filter","text":""},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#description","title":"Description","text":"<p> Feature list methods \u2192 Feature list filtering \u2192 Feature list rows filter </p> <p>This filter deletes all rows in a selected peak list that do not meet requirements defined by the user.</p> <p>A range of different requirements can be set, such as the minimum number of features in the row, the minimum number of features in an isotope pattern, peak duration etc. </p> <p>When an aligned peak list, i.e. multiple peaks per row, is filtered then the average of each row's peak duration, m/z and retention time values are used to filter the row.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to feature list name.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#minimum-features-in-a-row-abs-or-percent","title":"Minimum features in a row (abs or percent)","text":"<p>Minimum number of features detected in a row required to not remove it. Values &lt; 1 will be interpreted as %.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#minimum-features-in-an-isotope-pattern","title":"Minimum features in an isotope pattern","text":"<p>Minimum number of features in a row's isotope pattern required to not remove it.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#validate-13c-isotope-pattern","title":"Validate 13C isotope pattern","text":"<p>If ticked, searches for a +1 13C signal (considering possible charge states) within estimated range of carbon atoms. Uses 13C isotope filter.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#mz","title":"m/z","text":"<p>Range of acceptable (average) m/z values in a row required to not remove it.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#retention-time","title":"Retention time","text":"<p>Range of acceptable (average) retention times in minutes.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#features-duration-range","title":"Features duration range","text":"<p>Range of acceptable (average) feature durations in a row required not to remove it.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#chromatographic-fwhm","title":"Chromatographic FWHM","text":"<p>Range of permissible FWHM in a row required not to remove it.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#charge","title":"Charge","text":"<p>Range of Charge in a row required not to remove it.</p> <p> Please, run isotopic peaks grouper prior to using this.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#kendrick-mass-defect","title":"Kendrick mass defect","text":"<p>Filter features in a Kendrick mass defect (KMD) range. For more details see Kendrick mass defect.</p> <p>If KMD is used, following parameters can be changed in the setup.</p> <ul> <li>Kendrick mass defect   Permissible range of a Kendrick mass defect per row</li> <li>Kendrick mass base   Enter a sum formula for a Kendrick mass base, e.g. \"CH2\"</li> <li>Shift   Enter a shift for shift dependent KMD filtering</li> <li>Charge   Enter a charge for charge dependent KMD filtering</li> <li>Divisor   Enter a divisor for fractional base unit dependent KMD filtering</li> <li>Use Remainder of Kendrick mass   Use Remainder of Kendrick mass (RKM) instead of Kendrick mass defect (KMD)</li> </ul>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#parameter","title":"Parameter","text":"<p>Paremeter defining the group of each sample.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#only-identified","title":"Only identified?","text":"<p>If the checkbox is selected, only identified compounds will be retained.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#text-in-identity","title":"Text in identity","text":"<p>Only rows that contain this text in their peak identity field will be retained.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#text-in-comment","title":"Text in comment","text":"<p>Only rows that contain this text in their comment field will be retained.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#keep-or-remove-rows","title":"Keep or remove rows","text":"<p>User can select to either keep or remove the rows that match the defined criteria.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#feature-with-ms2-scan","title":"Feature with MS2 scan","text":"<p>If checked, only features that have MS2 scan will be kept.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#never-remove-feature-with-ms2","title":"Never remove feature with MS2","text":"<p>If checked, all rows with MS2 are retained without applying any further filters on them.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#reset-the-feature-number-id","title":"Reset the feature number ID","text":"<p>If checked, row IDs will be reset.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#mass-defect","title":"Mass defect","text":"<p>Mass defect as a feature filter can be used for selective detection of compounds of interest, and the values accepted are 0.314-0.5 or 0.90-0.15.</p>"},{"location":"module_docs/feature_list_row_filter/feature_list_rows_filter.html#original-feature-list","title":"Original feature list","text":"<p>It can be either processed in place, kept or removed.</p> <p>Ansgar Korf, Steffen Heuckeroth, lalalana5, omokshyna</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html","title":"Kendrick mass defect","text":"<p>Difference between the exact Kendrick mass and the nominal Kendrick mass is called Kendrick mass defect.</p> <p>More information on Kendrick mass can be found here.</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#parameters","title":"Parameters","text":""},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#kendrick-mass-defect_1","title":"Kendrick mass defect","text":"<p>Set permissible range of Kendrick mass defect per row.</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#kendrick-mass-base","title":"Kendrick mass base","text":"<p>Enter molecular formula of the repeating unit used as Kendrick mass base (e.g. CH2)</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#shift","title":"Shift","text":"<p>Set shift value</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#charge","title":"Charge","text":"<p>Set charge value</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#divisor","title":"Divisor","text":"<p>Set divisor value</p>"},{"location":"module_docs/feature_list_row_filter/kendrick_mass_defect.html#use-remainder-of-kendrick-mass","title":"Use remainder of Kendrick mass","text":"<p>Select check box to use RKM instead of KMD</p> <p>lalalana5, omokshyna</p>"},{"location":"module_docs/filter_blanksubtraction/filter_blanksubtraction.html","title":"Feature list blank subtraction","text":""},{"location":"module_docs/filter_blanksubtraction/filter_blanksubtraction.html#description","title":"Description","text":"<p> This module needs aligned feature lists as an input. This aligned feature list should contain features from blank/control.</p> <p> Feature list methods \u2192 Feature list filtering \u2192 Feature list blank subtraction</p> <p>Subtracts the features appearing in (procedural) blank measurements feature list from an aligned feature list.</p>"},{"location":"module_docs/filter_blanksubtraction/filter_blanksubtraction.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_blanksubtraction/filter_blanksubtraction.html#minimum-of-detection-in-blanks","title":"Minimum # of detection in blanks","text":"<p>Specifies in how many of the blank files a peak has to be detected.</p>"},{"location":"module_docs/filter_blanksubtraction/filter_blanksubtraction.html#fold-change-increase","title":"Fold change increase","text":"<p>Specifies a percentage of increase of the intensity of a feature. If the intensity in the list to be filtered increases more than the given percentage to the blank, it will not be deleted from the feature list.</p>"},{"location":"module_docs/filter_blanksubtraction/filter_blanksubtraction.html#suffix","title":"Suffix","text":"<p>The suffix for the new feature list.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html","title":"Duplicate feature filter","text":""},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#description","title":"Description","text":"<p> Feature list method \u2192 Feature list filtering \u2192 Duplicate feature filter.</p> <p>This filter can help eliminate misaligned feature list rows after the gap-filling process. </p> <p>It has three different modes:</p> <ul> <li> <p>Old average (the old filter):</p> <p>Keeps only the feature list row with the maximum average area. Compares rows with the average m/z and RT.</p> </li> <li> <p>New average: </p> <p>Compares rows with the average m/z and RT and creates a consensus row.Two peaks are considered duplicates when their average m/z and retention time differences are lower than the tolerances set by the user. </p> <p>When two (or more) duplicates are found, a consensus row is created with the lowest row ID of all duplicates. For this consensus row, all DETECTED features are favored over ESTIMATED (gap-filled) and ESTIMATED are favored over UNKNOWN. Furthermore, if there are only ESTIMATED features in a raw data file, the highest is chosen.</p> </li> <li> <p>Single feature: </p> <p>Compares rows on a raw data file basis. Marks rows as duplicates if they share one feature within the RT and m/z tolerance in the same raw data file. Creates a consensus row.</p> </li> </ul>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#name-suffix","title":"Name suffix","text":"<p>This is the suffix to identify the new aligned peak list.</p>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#filter-mode","title":"Filter mode","text":"<p>User can choose one of three modes: old average, new average, and single feature.</p>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum m/z difference between duplicate peaks.</p>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#rt-tolerance","title":"RT tolerance","text":"<p>Maximum retention time difference between duplicate peaks.</p>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#require-same-identification","title":"Require same identification","text":"<p>If the checkbox is selected duplicate peaks must have the same identification.</p>"},{"location":"module_docs/filter_duplicate_features/duplicate_feature_filter.html#original-feature-list","title":"Original feature list","text":"<p>Can be either processed in place of, kept or replaced. </p> <p>lalalana5, omokshyna</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html","title":"<sup>13</sup>C isotope filter","text":""},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#description","title":"Description","text":"<p> Feature list methods \u2192 Isotopes \u2192 13C isotope filter (formerly: isotope grouper)</p> <p>MZmine carries out the feature detection steps of chromatogram building and subsequent resolving considering all the signals stored in the mass lists. As a consequence, signals generated by isotopologues of the same chemical entity (see isotopic pattern) are detected as distinct features and included in the feature lists, representing redundant information for the downstream data analysis. This issue ordinarily occurs for C-containing molecules, where the <sup>13</sup>C isotope signals can be easily detected (<sup>13</sup>C/<sup>12</sup>C \u2248 1.1%).</p> <p>The 13C isotope filter module (formerly called Isotope grouper) aims at filtering out the features corresponding to the <sup>13</sup>C isotopes of the same analyte. The algorithm consider each feature individually and checks for the presence of potential <sup>13</sup>C-related peak(s) in the feature lists. When an isotope pattern meeting the user-defined tolerances (e.g. m/z, RT) and requirements (e.g. monotonic shape) is found, the information is saved, and only the feature corresponding to the e.g. most intense isotope is retained in the feature list. It must be noted that <sup>13</sup>C peaks are searched within the feature list, and not in the raw data.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#name-suffix","title":"Name suffix","text":"<p>String added as suffix when creating the new feature list(s).</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed difference between the measured and the predicted m/z of the (potential) <sup>13</sup>C isotope to be grouped as isotopologues. The tolerance can be specified as absolute tolerance (in m/z), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances.</p> <p> We recommend to set a failry strict m/z tolerance to reduce the risk of discarding false <sup>13</sup>C isotopes.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed RT difference between the feature and its (potential) <sup>13</sup>C isotope to be grouped as isotopologues.</p> <p> Isotopologues should exhibit identical chromatographic behaviour and thus produce overlapping LC peak shapes. Therefore, a strict RT tolerance can be used to reduce the risk of discarding false <sup>13</sup>C isotopes.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#mobility-tolerance","title":"Mobility tolerance","text":"<p>If enabled and the mobility dimension was recorded, potential <sup>13</sup>C isotopes will be grouped as isotopologues only if their mobility difference is within the defined tolerance.</p> <p> The same principle seen for the RT tolerance apply to the IM dimension. Isotopologues should exhibit identical IM separation; therefore, a strict mobility tolerance can be used to reduce the risk of discarding false <sup>13</sup>C isotopes.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#monotonic-shape","title":"Monotonic shape","text":"<p>If true, a monotonically decreasing trend of the isotope pattern (typical of the <sup>13</sup>C isotope pattern of small molecules) is required for the filtering.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#maximum-charge","title":"Maximum charge","text":"<p>Maximum charge state considered to predict the <sup>13</sup>C isotopes' m/z. If a value &gt; 1 is set, all the cahrge states are evaluated and the one providing the most isotope features detected is used for the filtering.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#never-remove-feature-with-ms2","title":"Never remove feature with MS2","text":"<p>If checked, potential <sup>13</sup>C-related features will not be discarded if associated to a MS2 spectrum.</p>"},{"location":"module_docs/filter_isotope_filter/isotope_filter.html#original-feature-lists","title":"Original feature lists","text":"<p>Keep or remove the input feature list(s). The PROCESS IN PLACE option directly filter the input feature list and performs better in terms of memory usage; therefore, it is recommended over REMOVE, when available.</p> <p>lalalana5, omokshyna, tdamiani</p>"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html","title":"Isotope pattern finder","text":""},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#description","title":"Description","text":"<p> Feature list methods \u2192 Isotopes \u2192 Isotope pattern finder.</p> <p>The module searches isotope patterns for each feature in selected feature lists by going back to the mass spectra.  Starting from the feature m/z the algorithm will first backtrack any possible preceding isotope signals using a list of delta masses created from elements, their stable isotopes, and an m/z tolerance. For example, a -2 signal might  be detected when searching for Br isotopes. In a second step, all picked potential isotope m/z values are used to  search next isotope (with higher m/z). This is done for each charge state.</p> <p></p>"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#chemical-elements","title":"Chemical elements","text":"<p>All stable isotopes of the chosen elements are used to create a list of mass differences to search. Signals with this mass difference (m/z difference with different charge states) are then considered as potential isotope signals.</p>"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed difference between two features' m/z values in order for them to be considered the same. The value is specified both as absolute tolerance (in m/z) and relative tolerance (in ppm). The tolerance range is calculated using maximum of the absolute and relative tolerances.</p>"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#maximum-charge-of-isotope-mz","title":"Maximum charge of isotope m/z","text":"<p>Maximum possible charge of isotope m/z distributions.  All present m/z values obtained by dividing isotope masses with 1,2 ...,maxCharge values will be considered. The default value is 1, but insert an integer greater than 1 if you want to consider ions of higher charge states.</p>"},{"location":"module_docs/filter_isotope_finder/isotope_finder.html#search-in-scans","title":"Search in scans","text":"<p>Currently, the supported option is \"Single most intense\", which means the search for isotopes will happen in the single most intense MS scan of each feature.</p> <p>NotReallyContributing, Robin Schmid, lalalana5, omokshyna</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html","title":"Isotope peak scanner","text":""},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#description","title":"Description","text":"<p> Feature list methods \u2192 Isotopes \u2192 Isotope peak scanner</p> <p>This module can scan acquired MS-Data for an isotope pattern of a specified element combination. The element combination is given as a string parameter (e.g. \"Cl3\"). </p> <p>The isotope pattern of this element combination will be calculated and compared to your MS-Data. The result is a new feature list containing just the isotope features. The features will have an isotope rating, comparing the found features to the calculated isotope pattern giving the user the option to manually evaluate the results. </p> <p>Additionally, the features will also be assigned to an isotope combination. Furthermore, the isotope features will be registered as an isotope pattern in MZmine so modules like Sum formula prediction can use the results to compare them to the calculated isotope pattern of predicted sum formulas.</p> <p>In the resulting feature table, the monoisotopic mass (lowest) will be referred to as \"Parent\".</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#isotope-rating","title":"Isotope rating","text":"<p>Rating is calculated using the following formulas:</p> \\[R_m/z,k=\\frac{m/z_{child}}{m/z_{parent}+\\Delta{M_k}}\\] \\[\\frac{I_{parent}}{A_{parent}}=\\frac{I_k}{A_k}\\] \\[I_{exp.,l}=\\frac{I_{parent}}{A_{parent}}\\cdot{A_K}\\] \\[R_{I,k}=\\frac{I_{exp.,k}}{I_k}=\\frac{I_{parent}}{A_{parent}}\\cdot\\frac{A_k}{I_k}\\] <p>where R is the rating, k - the number of an isotope peak, exp. - the calculated intensities, parent - the isotope peak with the lowest mass, child describes all other isotope peaks. </p> <p> If any rating is bigger than 1, for example if m/z_(parent) + \u0394M is smaller than m/z_(child), then it will be adjusted by 1/R to be comparable. </p> <p> If intensity shall be checked as well, m/z and intensity rating will be multiplied resulting in the final rating.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#parameters","title":"Parameters","text":"<p>Feature lists</p> <p>The feature list(s) that shall be analyzed.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#mz-tolerance","title":"m/z tolerance","text":"<p>m/z window around the expected isotope features to scan for isotope peaks.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#check-rt","title":"Check RT","text":"<p>If chosen, compares RT of feature to that of a parent. Based on the following parameter of Retention time tolerance feature is either filtered out or preserved.</p> <p> Invoking this parameter might not make sense for imaging or direct infusion, but is critical for chromatographic data.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed difference between two retention time values</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#chemical-formula","title":"Chemical formula","text":"<p>Element (combination) whose isotope pattern to be searched for. Please enter the two letter Symbol of the elements. (e.g. \\\"Gd\\\", \\\"Cl2Br\\\")</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#auto-carbon","title":"Auto carbon","text":"<p>If activated, Isotope peak scanner will calculate isotope patterns with variable numbers of carbon specified in Setup. The pattern with the best fitting number of carbon atoms will be chosen for every detected pattern.</p> <p> This will greatly increase computation time but helps with unknown-compound-identification.</p> <p> Please note that 13C isotope peaks might overlap with hetero atom isotope peaks depending on the resolution of your MS. This influences intensity ratios and will yield wrong results, since this prediction is based on intensity ratios of isotope peaks.</p> <p> This option yeilds no exact results, but might give a good hint about data.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#charge","title":"Charge","text":"<p>Amount and polarity(e.g.: [M]+=+1 / [M]-=-1).</p> <p> This is important for multiply charged molecules because the m/z offset between isotope peaks will halve for molecules with a charge of two.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#min-pattern-intensity","title":"Min. pattern intensity","text":"<p>The minimum normalized intensity of a peak in the final calculated isotope pattern. Depends on the sensitivity of your MS. This differs from minimum abundance. Min = 0.0, Max = 0.99999.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#merge-widthmz","title":"Merge width(m/z)","text":"<p>This will be used to merge peaks in the calculated isotope pattern if they overlap in the spectrum. Specify in m/z, this depends on the resolution of your mass spectrometer.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#minimum-height","title":"Minimum height","text":"<p>Minimum peak height to be considered as an isotope peak.</p> <p> Setting this parameter is crucial if you use the Calculate accurate average parameter. (see below)</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#check-intensity-ratios","title":"Check intensity ratios","text":"<p>Compare intensity of peaks to the calculated abundance of the isotope pattern.</p> <p> It's recommended to check this parameter for more accurate results.</p> <p> However, when processing fragment data, and it's unknown how much of an isotope pattern remains charged it might be reasonable to uncheck this. (e.g.: Fragmenting a Cl8-isotope-pattern-molecule -&gt; If \"Element pattern\" = Cl4 this module will recognize everything with Cl4 or more Cl. However, this will lead to a messy result feature list)</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#minimum-rating","title":"Minimum rating","text":"<p>Minimum rating to be considered as an isotope peak. min = 0.0, max = 1.0</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#rating-type","title":"Rating type","text":"<p>Method to calculate the rating with.</p> <ul> <li>Highest Intensity is the standard method and faster.</li> <li>Temporary average is slower method but could be more accurate for more intense peaks.</li> </ul>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#calculate-accurate-average","title":"Calculate accurate average","text":"<p>This method will use averaged intensities over all mass lists in which ALL relevant masses were detected in. This will only be done for features that match the defined rating-calculation with the given rating.</p> <p>This will scan all mass lists for the peak closest to the identified isotope peak in the feature list and average the intensity.</p> <p>If there are no scans that match all criteria avg rating will be -1.0.</p> <p> Make sure the mass list is contained in the feature list.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to feature list name. If \"auto\" then the module will itself create a suffix.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#results","title":"Results","text":"<p>This figure shows an example of the result peak list produced by Isotope peak scanner.  It features the detected isotope peaks, a detected m/z ppm-offset, expected (@monoisotopic mass) and detected intensity ratios, the isotope composition, the rating, and (if specified) the average rating.</p>"},{"location":"module_docs/filter_isotope_peak_scanner/isotope_peak_scanner.html#troubleshooting","title":"Troubleshooting","text":"<p>Error: I'm using \"Calculate accurate average\" but the average rating is always -1.0!</p> <p>Solution: All isotope features have been detected in the peak list. But they are not in the same mass lists at the same time which makes them incomparable since isotope features should be detected simultaneously, or they might me less intense than the specified \"Minimum height\".</p> <p>Error: I'm not getting any results, although I'm sure a specific element is in the scan!</p> <p>Solution 1: Are you sure every isotope has been detected? How sensitive is you MS? Try to increase values for minimum abundance or minimum pattern intensity. You might need low minimum abundance but high minimum intensity, because a peak of a specific isotope composition might not been detected due to low relative intensity in the pattern. Check our preview function!</p> <p>Solution 2: Another solution might be changing the merge width. Check how good the resolution of your MS data is and adjust the merge width to that. If (several) isotope compositions overlap, the intensities have to be merged. You can see a preview in the preview window!</p> <p>omokshyna</p>"},{"location":"module_docs/filter_mobilitymzregionextraction/filter_mobilitymzregionextraction.html","title":"m/z mobility region extraction","text":""},{"location":"module_docs/filter_mobilitymzregionextraction/filter_mobilitymzregionextraction.html#description","title":"Description","text":"<p> Feature list methods \u2192 Feature list filtering \u2192 mobility-m/z region filtering</p> <p>Extracts subregions of interest from m/z-mobility regions.</p>"},{"location":"module_docs/filter_mobilitymzregionextraction/filter_mobilitymzregionextraction.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_mobilitymzregionextraction/filter_mobilitymzregionextraction.html#region","title":"Region","text":"<p>Regions to extract.</p>"},{"location":"module_docs/filter_mobilitymzregionextraction/filter_mobilitymzregionextraction.html#mobilityccs","title":"Mobility/CCS","text":"<p>Defines if mobility or mz shall be used for extraction.</p>"},{"location":"module_docs/filter_mobilitymzregionextraction/filter_mobilitymzregionextraction.html#suffix","title":"Suffix","text":"<p>The suffix of newly created feature lists.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html","title":"Neutral loss filter","text":""},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#description","title":"Description","text":"<p> Feature list methods \u2192 Feature list filtering \u2192 Neutral loss filter</p> <p>This module can scan acquired MS data for neutral losses. </p> <p>The result is a new feature list containing only features and their neutral-loss equivalents. </p> <p>The results will be displayed in the following manner:</p> <ul> <li>The feature with higher mass without the neutral loss will be named \"Parent\". The description will contain the ID of the corresponding feature with the neutral loss. </li> <li>The feature with lower mass will be named \"Child\". The description of the child feature will contain the ID of the parent feature and a ppm-shift relative to the calculated mass.</li> </ul>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#mz-tolerance","title":"m/z tolerance","text":"<p>m/z window size around the expected features.</p>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#check-rt","title":"Check RT","text":"<p>Specify whether the algorithm should compare RT to those of a parent in found peaks or not.</p> <p> We recommend to not use it for direct infusion.</p> <p> If evaluating chromatographic data we recommend to use this parameter.</p>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Tolerance range of the retention time.</p>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#minimum-height","title":"Minimum height","text":"<p>Minimium height of a feature to be considered a parent or child.</p>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#neutral-loss-mz","title":"Neutral loss (m/z)","text":"<p>m/z ratio of the neutral loss to be detected. If the text box of \"Molecule\" is not left blank, this parameter will be ignored.</p>"},{"location":"module_docs/filter_neutral_loss/filter_neutral_loss.html#molecule","title":"Molecule","text":"<p>Element combination/Molecule of the neutral loss (e.g. HI) This module will calculate the mass of the given molecule and ignore the input in the \"Neutral loss\" text box.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html","title":"Peak comparison rows filter","text":""},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#description","title":"Description","text":"<p> Feature list methods \u2192 Feature list filtering \u2192 Peak comparison rows filter</p> <p>This method removes certain rows from an aligned feature list based on peak comparisons in two columns.</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to feature list name.</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#1st-peak-column-to-compare-zero-indexed","title":"1st peak column to compare (zero indexed)","text":"<p>Index of second column for comparison, e.g. \"0\".</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#2nd-peak-column-to-compare-zero-indexed","title":"2nd peak column to compare (zero indexed)","text":"<p>Index of second column for comparison,e.g. \"1\".</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#fold-change-range-log2peak1peak2","title":"Fold change range : log2(peak1/peak2)","text":"<p>Return peaks with a fold change within this range.</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#mz-difference-range-peak1-to-peak2-ppm","title":"m/z difference range : peak1 to peak2 (ppm)","text":"<p>Return peaks with a m/z difference within this range.</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#rt-difference-range-peak1-to-peak2-min","title":"RT difference range : peak1 to peak2 (min)","text":"<p>Return peaks with an RT difference within this range.</p>"},{"location":"module_docs/filter_peakcomparison_row_filter/filter_peakcomparison_row_filter.html#remove-source-feature-list-after-filtering","title":"Remove source feature list after filtering","text":"<p>If checked, the original feature list will be removed leaving only the filtered version.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_raw_data/align-scans.html","title":"Align scans (MS1)","text":""},{"location":"module_docs/filter_raw_data/align-scans.html#description","title":"Description","text":"<p> Raw data methods \u2192 Raw data filtering \u2192 Align scans (MS1)</p> <p>This module aligns scans for small fluctuations correlating consecutive scans. </p>"},{"location":"module_docs/filter_raw_data/align-scans.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/align-scans.html#suffix","title":"Suffix","text":"<p>This string is added to filename as suffix.</p>"},{"location":"module_docs/filter_raw_data/align-scans.html#horizontal-scans","title":"Horizontal scans","text":"<p>Number of scans to be considered in the correlation (to the left and to the right of the scan being aligned).</p>"},{"location":"module_docs/filter_raw_data/align-scans.html#max-vertical-alignment","title":"Max Vertical Alignment","text":"<p>Maximum number of shifts to be compared. This depends on equipment, normally this should be 1.</p>"},{"location":"module_docs/filter_raw_data/align-scans.html#minimum-height","title":"Minimum height","text":"<p>Minimum intensity to be considered for align correlation.</p> <p>If chromatogram height is below this level, it is not used in the correlation calculation.</p>"},{"location":"module_docs/filter_raw_data/align-scans.html#correlation-in-log","title":"Correlation in log","text":"<p>Transform intensities to log scale before comparing correlation.</p>"},{"location":"module_docs/filter_raw_data/align-scans.html#remove-previous-files","title":"Remove previous files","text":"<p>Remove processed files to save memory.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html","title":"Baseline correction","text":""},{"location":"module_docs/filter_raw_data/baseline-corrections.html#description","title":"Description","text":"<p> Raw data methods \u2192 Raw data filtering \u2192 Baseline correction</p> <p>This module performs baseline correction on raw data files. It is designed to compensate for gradual shifts in the chromatographic baseline by detecting the baseline and then subtracting it from the raw data intensity values. </p> <p>The module proceeds as follows for each raw data file passed to it:</p> <ul> <li>The full range of m/z values present in the raw data is divided into a series of bins of a specified width (see m/z bin width).</li> <li>For each bin a chromatogram is constructed from the raw data points whose m/z values fall within the bin. This chromatogram may be either the base peak chromatogram or total ion count (TIC) chromatogram. </li> <li> <p>The raw intensity values of each data point in a bin are corrected by subtracting the bin's baseline. Subtraction of baseline intensity values proceeds according to the type of chromatogram used to determine the baseline.</p> <p>If the base peak chromatogram was used then the corrected intensity values are calculated as follows:</p> \\[I_{corr}=max(0,I_{orig}-I_{base})\\] <p>If the TIC chromatogram was used then the corrected intensity values are calculated as follows:</p> \\[I_{corr}=max(0,I_{orig}*(1-I_{base}/I_{max}))\\] <p>where \\(I_{orig}\\), \\(I_{base}\\), \\(I_{max}\\), and \\(I_{corr}\\) are the original, baseline, maximum and corrected intensity values, respectively, for a given scan and m/z bin. </p> <p>If \\(I_{base}\\) is less or equal to zero then no correction is performed, i.e. \\(I_{corr}=I_{orig}\\).</p> </li> <li> <p>A new raw data file is generated from the corrected intensity values.</p> </li> </ul>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/baseline-corrections.html#filename-suffix","title":"Filename suffix","text":"<p>The text to append to the name of the baseline corrected raw data file.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#chromatogram-type","title":"Chromatogram type","text":"<p>TIC: total ion count, i.e. summed intensities per scan, or</p> <p>Base peak intensity: maximum intensity per scan.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#ms-level","title":"MS-level","text":"<p>MS level to which to apply correction. Select \"0\" for all levels.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#use-mz-bins","title":"Use m/z bins","text":"<p>Baselines can be calculated and data points corrected per m/z bin or to the entire raw data file. If no binning is performed then a single chromatogram is calculated for the entire raw data file and its baseline used to correct the full data file. No binning is very quick but much less accurate and so is only suitable for fine-tuning the smoothing and asymmetry parameters.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#mz-bin-width","title":"m/z bin width","text":"<p>The width of the m/z bins if binning is performed (see use m/z bins). Smaller bin widths result in longer processing times and greater memory requirements. Avoid values below 0.01.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#correction-method","title":"Correction method","text":"<p>The width of the m/z bins if binning is performed (see use m/z bins). Smaller bin widths result in longer processing times and greater memory requirements. Avoid values below 0.01.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#r-engine","title":"R engine","text":"<p>This option allows you to choose between two Java libraries to communicate with R - RServe or RCaller.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#remove-source-file-after-baseline-correction","title":"Remove source file after baseline correction","text":"<p>Whether to remove the original raw data file once baseline correction is complete.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#correction-methods","title":"Correction methods","text":"<p>More information on correction methods is available in CRAN decription of baseline package </p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#asymmetric-baseline-corrector","title":"Asymmetric Baseline Corrector","text":"<p>This corrector estimates a baseline using asymmetric least squares and subtracts it from the data.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#additional-parameters","title":"Additional parameters","text":"<p>Smoothing</p> <p>The smoothing factor (&gt;=0), generally ranges from 1E5 to 1E8. The larger this factor is, the smoother the baseline.</p> <p>Asymmetry</p> <p>Default value is 1E-3. The weight (0 &lt;= p &lt;= 1) for points above the trend line, whereas 1-p is the weight for points below it. Naturally, p should be small for estimating baselines.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#rolling-ball-corrector","title":"Rolling Ball Corrector","text":"<p>The corrector estimates a trend based on the Rolling Ball algorithm, and subtracts it from the raw data intensity values. (Ideas from Rolling Ball algorithm for X-ray spectra by M.A.Kneen and H.J. Annegarn. Variable window width has been left out).</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#additional-parameters_1","title":"Additional parameters","text":"<p>wm (number of scans)</p> <p>Width of local window for minimization/maximization (in number of scans).</p> <p>ws (number of scans) Width of local window for smoothing (in number of scans).</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#peak-detection-baseline-corrector","title":"Peak Detection Baseline Corrector","text":"<p>The corrector estimates a trend based on the Peak Detection algorithm, and subtracts it from the raw data intensity values. Peak detection is done in several steps sorting out real peaks through different criteria. Peaks are removed from spectra and minimums and medians are used to smooth the remaining parts of the spectra. (A translation from Kevin R. Coombes et al.'s MATLAB code for detecting peaks and removing baselines).</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#additional-parameters_2","title":"Additional parameters","text":"<p>left (number of scans)</p> <p>Smallest window size for peak widths (in number of scans).</p> <p>right (number of scans)</p> <p>Largest window size for peak widths (in number of scans).</p> <p>lwin (number of scans)</p> <p>Smallest window size for minimums and medians in peak removed spectra (in number of scans).</p> <p>rwin (number of scans)</p> <p>Largest window size for minimums and medians in peak removed spectra (in number of scans).</p> <p>snminimum</p> <p>Minimum signal to noise ratio for accepting peaks.</p> <p>mono</p> <p>Monotonically decreasing baseline if \u2018mono\u2019 &gt; 0.</p> <p>multiplier</p> <p>Internal window size multiplier.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#rubber-band-corrector","title":"Rubber Band Corrector","text":"<p>The corrector estimates a trend based on the Rubber Band algorithm (which determines a convex envelope for the spectra - underneath side), and subtracts it from the raw data intensity values.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#additional-parameters_3","title":"Additional parameters","text":"<p>noise</p> <p>Ignored if \"auto noise\" is checked. Noise level to be taken into account.</p> <p>auto noise</p> <p>Determine noise level automatically (from lower intensity scan).</p> <p>df Degree of freedom.</p> <p>spline</p> <p>Logical indicating whether the baseline should be an interpolating spline through the support points or piecewise linear.</p> <p>bend factor</p> <p>Does nothing if equals to zero. Helps fitting better with low \"df\". </p> <p> Try starting with value around 5E4.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#local-minima-loess-corrector","title":"Local Minima + LOESS Corrector","text":"<p>The corrector estimates a trend based on Local Minima + LOESS (smoothed low-percentile intensity), and subtracts it from the raw data intensity values.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#additional-parameters_4","title":"Additional parameters","text":"<p>method</p> <p>\"loess\" (smoothed low-percentile intensity) or \"approx\" (linear interpolation).</p> <p>bw</p> <p>The bandwidth to be passed to loess.</p> <p>breaks</p> <p>Number of breaks set to m/z values for finding the local minima or points below a certain quantile of intensities; breaks -1 equally spaced intervals on the log(m/z) scale.</p> <p>break width (number of scans)</p> <p>Width of a single break. Usually the maximum width (in number of scans) of the largest peak.</p> <p> Overrides \"breaks\" value. </p> <p>qntl</p> <p>If 0, find local minima; if &gt;0 find intensities &lt; qntl*100th quantile locally.</p>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#requirements","title":"Requirements","text":"<p> This module relies on the local installation of R statistical computing software and several R packages.</p> <p>Quick install </p> <p>The whole thing can be setup as follows by running the following code in R:</p> <pre><code>install.packages(c(\"Rserve\", \"ptw\", \"baseline\", \"hyperSpec\"))\nsource(\"http://bioconductor.org/biocLite.R\")\nbiocLite(\"PROcess\")\n</code></pre> <p>Details</p> <ul> <li> <p>Rserve (All correctors): provides an interface between MZmine and R. To install Rserve from CRAN packages run R and enter:</p> <p>install.packages(\"Rserve\")</p> </li> <li> <p>ptw (Asymmetric corrector): parametric time-warping provides the asymmetric least-squares implementation. To install ptw run R and enter:</p> <p>install.packages(\"ptw\")</p> </li> <li> <p>baseline (RollingBall and PeakDetection correctors): provides a trend based on \"Rolling Ball\" and \"Peak Detection\" algorithms implementation. To install baseline run R and enter:</p> <p>install.packages(\"baseline\")</p> </li> <li> <p>hyperSpec (RubberBand corrector): provides a trend based on \"Rubber Band\" algorithm (which determines a convex envelope for the spectra) implementation. To install hyperSpec run R and enter:</p> <p>install.packages(\"hyperSpec\")</p> </li> <li> <p>PROcess (Local Minima + LOESS corrector): provides the local minima search + LOESS (smoothed low-percentile intensity) implementation. To install PROcess run R and enter:</p> <p>source(\"http://bioconductor.org/biocLite.R\")   biocLite(\"PROcess\")</p> </li> </ul>"},{"location":"module_docs/filter_raw_data/baseline-corrections.html#references","title":"References","text":"<p>[1] Boelens, H.F.M., Eilers, P.H.C., Hankemeier, T. (2005) \"Sign constraints improve the detection of differences between complex spectral data sets: LC-IR as an example\", Analytical Chemistry, 77, 7998 \u2013 8007.  </p> <p>[2] Rserve \"A TCP/IP server which allows other programs to use facilities of R\"</p> <p>https://rforge.net/Rserve.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_raw_data/crop-filter.html","title":"Crop filter","text":""},{"location":"module_docs/filter_raw_data/crop-filter.html#description","title":"Description","text":"<p> Raw data methods \u2192 Raw data filtering \u2192 Crop filter</p> <p>This module performs cropping of raw data files based on the user-defined parameter range defined by user. This allows user to obtain a new raw data file that contains only the information from the range of interest.</p>"},{"location":"module_docs/filter_raw_data/crop-filter.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/crop-filter.html#scans","title":"Scans","text":"<p>Define scan filtering parameters, which include:</p> <ul> <li>Scan number,</li> <li>Base filtering number,</li> <li>Retention time,</li> <li>Mobility,</li> <li>MS level,</li> <li>Scan definition (matching some pattern),</li> <li>Polarity,</li> <li>and Spectrum type.</li> </ul>"},{"location":"module_docs/filter_raw_data/crop-filter.html#mz","title":"m/z","text":"<p>m/z boundary of the cropped region</p>"},{"location":"module_docs/filter_raw_data/crop-filter.html#suffix","title":"Suffix","text":"<p>This string is added to filename as suffix</p>"},{"location":"module_docs/filter_raw_data/crop-filter.html#remove-source-file-after-filtering","title":"Remove source file after filtering","text":"<p>If checked, only filtered file version is stored.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html","title":"Scan by scan filtering","text":""},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#description","title":"Description","text":"<p> Raw data methods \u2192 Raw data filtering \u2192 Scan by scan filtering</p> <p>This module can be used to preprocess data in each scan using various filters.</p> <p>The preview shows the superposed spectra of the scan before and after the Savitzky-Golay filter is applied.</p> <p></p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#filters","title":"Filters","text":""},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#mean-filter","title":"Mean filter","text":"<p>For each data point, the filter assigns to it the intensity average of all the datapoints inside the user defined window. The window is centered in the mass value of this data point.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#window-length","title":"Window length","text":"<p>One-sided length of the m/z smoothing window.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#savitzky-golay-filter","title":"Savitzky Golay filter","text":"<p>The Savitzky\u2013Golay smoothing filter was first described in 1964 by Abraham Savitzky and Marcel J. E. Golay.</p> <p>The Savitzky\u2013Golay method essentially performs a local polynomial regression (of degree k) on a series of values (of at least k+1 points which are treated as being equally spaced in the series) to determine the smoothed value for each point. </p> <p>http://en.wikipedia.org/wiki/Savitzky-Golay_smoothing_filter</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters_1","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#number-of-datapoints","title":"Number of datapoints","text":"<p>This number can be 5, 7, 9, 11, 13 or 15.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#resampling-filter","title":"Resampling filter","text":"<p>Each scan is divide in m/z bins whose length is defined by the user in the parameters. The mass of the new data point will be in the middle of each m/z bin's space. Its intensity is the average of the intensity of all the data points inside the bin.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters_2","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#mz-bin-length","title":"m/z bin length","text":"<p>The length of m/z bin.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#round-resampling-filter","title":"Round resampling filter","text":"<p>All data points in each scan is shifted to the nearest rounded integer (ion number). The mass of the new data point will be on the rounded value. </p> <p>If several data points are competing for the same rounded value / mass, the new data point's intensity is the average of all the competing data points. </p> <p>Unless \"Sum duplicate intensities\" is checked, leading to a single new data point with intensity equal to the sum of the intensities of all the competing data points. </p> <p> If the scan is not centroided, its spectrum is first turned into centroid using a default \"local maxima\" algorithm, then the same algorithm as described above is applied.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#parameters_3","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#sum-duplicate-intensities","title":"Sum duplicate intensities","text":"<p>Sums ions count (intensity) of m/z peaks competing for being rounded at same m/z unit. If unchecked, the intensities are averaged rather than summed.</p>"},{"location":"module_docs/filter_raw_data/filter-scan-by-scan.html#remove-zero-intensity-mz-peaks","title":"Remove zero intensity m/z peaks","text":"<p>Clear all scans spectra from m/z peaks with intensity equal to zero.</p> <p>omokshyna</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html","title":"Scan smoothing (MS1)","text":""},{"location":"module_docs/filter_raw_data/scan_smoothing.html#description","title":"Description","text":"<p> Raw data methods \u2192 Raw data filtering \u2192 Scan smoothing (MS1)</p> <p>This module averages intensity values within a time-scan frame.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#parameters","title":"Parameters","text":""},{"location":"module_docs/filter_raw_data/scan_smoothing.html#suffix","title":"Suffix","text":"<p>This string is added to filename as suffix.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#time-min","title":"Time (min)","text":"<p>Time span over which intensities will be averaged in the same m/z over scans.</p> <p> The max between this and Scan Span will be used.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#scan-span","title":"Scan span","text":"<p>Number of scan in which intensities will be averaged in the same m/z.</p> <p> The max between this and Time Span will be used.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#mz-tolerance","title":"m/z tolerance","text":"<p>m/z range in which intensities will be averaged.</p> <p> The max between this and m/z points will be used. If both equal 0 no m/z smoothing will be performed.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#mz-min-points","title":"m/z min points","text":"<p>Number of m/z points used to smooth.</p> <p> The max between this and m/z tol will be used. If both equal 0 no m/z smoothing will be performed.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#min-height","title":"Min height","text":"<p>Minimum intensity of the highest data point in the chromatogram.</p> <p>If chromatogram height is below this level, it is not used in the average calculation.</p>"},{"location":"module_docs/filter_raw_data/scan_smoothing.html#remove-previous-files","title":"Remove previous files","text":"<p>Remove processed files to save memory.</p> <p>omokshyna</p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html","title":"Peak finder","text":""},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#description","title":"Description","text":"<p> It is a recommended gap-filling algorithm.</p> <p> Feature list methods \u2192 Gap filling \u2192 Peak finder.</p> <p>[//] # (TODO ADD FIGURE ALIGNED TABLE)</p> <p>When a feature cannot be identified/quantified in certain sample will be assigned a zero-intensity value during the feature alingment (see here for more details).This produces gaps in the aligned feature table, commonly referred to as missing values.</p> <p>There is a number of occasions where, due to suboptimal feature detection, a missing value is assigned even tough the peak is actually present. Some chromatographic features in an aligned feature list may not be detected in every sample for several reasons, such as:</p> <ol> <li>Peak intensity below the minimum abundance threshold. The peak will be not detected even though there is a peak, and it can be gap-filled for the alignment process if the peak having the same RT and m/z is detected in other samples. [//] # (TODO Explain minimum abundance threshold)</li> <li>Peak discarded in a previous processing step. Peaks filtered out due to low peak intensity</li> <li>Misalignment due to shifts in m/z, retention time, or ion mobility within feature lists from different samples (or batches). Might originate from inaccurate mass calibration, etc.</li> <li>Inaccurate peak detection and deconvolution of co-eluting compounds. Co-eluting features that are not baseline separated might be resolved in one sample but kept unsplit in another </li> <li>Feature shape constraints in the resolver or later feature filters</li> </ol> <p>All of these reasons can result in undesirable gaps (missing values) in the aligned feature table. Those gaps are not limited to smaller signals but can also affect abundant features. </p> <p>To account for this problem, the user can use the Peak finder module as a secondary, informed feature finding step. The gap-filling module (i.e. 'Peak finder' algorithm) aims at reducing false missing values and 'fill the gaps' by going back to the original raw data and re-integrating the peak area where the peak is expected. This approch is sometimes reffered to as 'back-filling'.</p> <p>The algorithm searches for signals within the original centroided mass spectra. It fills the gaps in the feature list according to the user parameters, with the most crucial being m/z tolerance and RT tolerance. These two tolerances define the window where the algorithm should find the new feature. </p> <p>Each feature in the aligned table is examined individually within the RT window associated to the examined features. Algorithm searches for appropriate features in that window. If the user-defined requirements are met, the peak is integrated, and the retrieved peak area is used to reconstruct omitted features and fill the gap.</p> <p>[//] # (TODO ORIGINAL of TEXT above: If requirements are met (e.g. REQUIREMENTS) the peak integrated and the retrieved peak area used to XXX, this filling the gap. and reconstructs omitted chromatographic peaks in \u201cempty\u201d samples by scanning the m/z and retention time region of LC\u2013MS spectra corresponding to the detected peaks in other samples.)</p> <p>In the feature table, gap-filled features are marked with a grey color as the feature state (see feature table description). There may still be some gaps in which no evidence for the peak was found, marked by orange.</p> <p></p> <p> DANGER OF DUPLICATED FEATURES. Some features in the dataset can show duplicates, which appear during feature recognition and alignment of samples. The duplicates falsify the exploratory analysis of data and are removed in MZmine.</p> <p>The gap-filled feature table can be further used in downstream data analysis</p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#parameters","title":"Parameters","text":""},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to the peak list name. </p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#intensity-tolerance","title":"Intensity tolerance","text":"<p>Maximum allowed deviation from the expected peak shape in chromatographic direction.</p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#mz-tolerance","title":"m/z tolerance","text":"<p>m/z range which will be applied when searching for the possible feature in the raw data.</p> <p>The tolerance can be specified as absolute tolerance (in m/z), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances.</p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Retention time range when searching for the possible feature in the raw data.</p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#minimum-data-points","title":"Minimum data points","text":"<p>Feature will be used for gap filling only if it satisfies the set minimum number of data points.</p> <p> Usually a lower number of data points is used compared to the primary feature finding workflow with the resolvers.</p>"},{"location":"module_docs/gapfill_peak_finder/gap-filling.html#original-feature-list","title":"Original feature list","text":"<p>User can either keep, remove, or process in place of the original feature list. The latter two increase memory efficiency and throughput while users might want to keep the original feature list as a reference. </p> <p>Robin Schmid, lalalana5, omokshyna, tdamiani</p>"},{"location":"module_docs/gapfill_same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html","title":"Same m/z and RT range gap filler","text":""},{"location":"module_docs/gapfill_same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#description","title":"Description","text":"<p> Feature list methods \u2192 Gap filling \u2192 Same m/z and RT range gap filler.</p> <p>This method fills in gaps in each peak list row by using the same m/z and retention time range as other peaks in the row.  The m/z and retention time defines where the new peaks will be sought based on the ranges of the rest of the peaks in the same row. The minimum value of these ranges is the minimum value in the range of all the peaks in the row and the same happens with the maximum value.  User-specified tolerance is added to the m/z range. The new peak is constructed using the highest data point of each scan within the determined m/z and retention time ranges.</p>"},{"location":"module_docs/gapfill_same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#parameters","title":"Parameters","text":""},{"location":"module_docs/gapfill_same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to the peak list name.</p>"},{"location":"module_docs/gapfill_same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#mz-tolerance","title":"m/z tolerance","text":"<p>Tolerance, which is added to the m/z range of other peaks in the peak list row.</p>"},{"location":"module_docs/gapfill_same_mz_and_RT_range/same_mz_and_RT_range_gap_filler.html#original-feature-list","title":"Original feature list","text":"<p>The user can either select to keep or remove the original feature list.</p> <p>lalalana5, omokshyna</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html","title":"Image co-localization","text":""},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#description","title":"Description","text":"<p> Feature list methods \u2192 Feature grouping \u2192 Image co-localization.</p> <p>This module systematically identifies and groups images sharing similar spatial ion distributions. The user can choose between various similarity measure (e.g. pearson correlation) and can apply different filtering options before image comparison. </p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#parameters","title":"Parameters","text":""},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#feature-lists","title":"Feature Lists","text":"<p>Select feature list</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#intensity-threshold-for-co-localization","title":"Intensity threshold for co-localization","text":"<p>This intensity threshold is used to filter data points (pixel) before image co-localization.</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#minimum-number-of-co-located-pixels","title":"Minimum number of co-located pixels","text":"<p>Minimum number of locations (pixels) that must be co-located.</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#median-filter-window","title":"Median filter window","text":"<p>Optional: Smooth over pixels to reduce noise and remove outliers, 3 ist recommended.</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#ignore-intensities-below-percentile","title":"Ignore intensities below percentile","text":"<p>Optional: Only consider intensities above the selected percentile, 0.5 is recommended.</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#ignore-very-high-intensity-outliers","title":"Ignore very high intensity outliers","text":"<p>Optional: Only consider values below the selected percentile, 0.99 is recommended.</p> <p>Tip</p> <p>Using the optional parameters Median filter window, Ignore intesities below percentile, and Ignore very high intensity outliers may result in better co-localization results.</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#similarity-measure","title":"Similarity measure","text":"<p>Select similarity measure.</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#minimum-similarity","title":"Minimum similarity","text":"<p>\"Minimum percentage for image similarity to be considered co-located.\"</p>"},{"location":"module_docs/group_imagecorrelate/image-colocalization.html#suffix-or-auto","title":"Suffix (or auto)","text":"<p>Suffix to be added to the feature list name.</p> <p>kyrasolaris01</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html","title":"Spectral / Molecular Networking","text":"<p> Feature list methods \u2192 Feature grouping \u2192 Spectral / Molecular Networking</p> <p>Info</p> <p>This module runs molecular networking in mzmine. There is no data uploaded to GNPS in this process. For GNPS interoperability, refer to the dedicated export module export module.</p> <p>Feature-Based Molecular Networking (FBMN) and Ion Identity Molecular Networking (IIMN) group features based on their fragmentation pattern similarity. While similar to spectral library search, the algorithms used for molecular networking are open for modifications of the precursor m/zs. Choose between the modified cosine similarity that is known to connect fragmentation spectra of analog molecular structures, mostly with single modifications, or the MS2Deepscore similarity that aims to converge spectral and structural similarity.</p> <p>Molecular networking can also be applied to GC/EI-MS data. Cosine similarity is used to group features, based on pseudo MS1 spectra, which can be generated by the GC-EI Spectral deconvolution module.</p> <p>Warning</p> <p>MS2 scans (LC-MS2) or pseudo spectra (GC/EI-MS) are required for molecular networking. For LC-MS2 make sure to run mass detection on MS2 level. For GC/EI-MS, GC-EI spectral deconvolution is required. </p> <p>Finally, molecular networks can be visualized in mzmine's interactive network visualizer interactive_ion_id_netw.md. Exports are available to .graphml format and to edges files (.csv).</p> <p>Example of the molecular networking results visualized in mzmine. </p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#recommended-citations","title":"Recommended citations","text":"<p>Info</p> <p>When applying Feature-Based Molecular Networking (FBMN), please consider citing: Nothias LF, Petras D, Schmid R et al. Nat Meth 17, 905\u2013908 (2020) https://www.nature.com/articles/s41592-020-0933-6  When applying Ion Identity Molecular Networking (IIMN), please consider citing: Schmid R, Petras D, Nothias LF et al. Nat Comm 12, 3832 (2021) https://www.nature.com/articles/s41467-021-23953-9  When using MS2Deepscore, please consider citing: de Jonge N, Joas D, Truong LJ, van der Hooft JJJ, Huber F bioRxiv 2024.03.25.586580</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#parameters","title":"Parameters","text":"<p>The parameter dialog changes the parameters based on the selected algorithm. Here shown for the modified cosine algorithm.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#algorithm-modified-cosine","title":"Algorithm: (Modified) cosine","text":"<p>The modified cosine similarity aligns spectra by grouping signals within the same m/z tolerance. Compared to spectral library matching, which allows only direct matches of the same fragment signals - modified cosine also considers matching neutral loss mass differences to the precursor ions. Therefore, signal pairs may be derived from the same neutral loss or the same produced fragment ion, allowing for structural analogs to cluster in the same sub networks. Signals without matching partner will be scored against 0 intensity. All spectra are square root transformed to balance the contribution of medium and high intensity signals.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#mz-tolerance","title":"m/z tolerance","text":"<p>Tolerance to group fragment signals by m/z. Fragments are group by direct match of m/z or by having the same neutral loss mass difference to the precursor ion. Most intense fragment signals are considered first.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#only-best-ms2-scan","title":"Only best MS2 scan","text":"<p>If checked the algorithm will only use the top most intense MS2 scan. Otherwise, all scans are compared.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#max-precursor-mz-delta","title":"Max precursor m/z delta","text":"<p>If checked only features with precursor m/z difference lower than the specified value are compared.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#minimum-matched-signals","title":"Minimum matched signals","text":"<p>Minimum required signals to match two fragmentation spectra. Default 4 signals for small molecules. Use higher number of signals for more confident matches and compound classes with richer fragmentation data.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#min-cosine-similarity","title":"Min cosine similarity","text":"<p>Minimum cosine for matches between fragmentation spectra.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#signal-filters","title":"Signal filters:","text":"<p>Additional signal filters that reduce the spectral complexity while retaining most of the spectral information. This speeds up the matching for spectra with many fragment signals.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#remove-residual-precursor-mz","title":"Remove residual precursor m/z","text":"<p>Remove all signals +- the precursor m/z.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#crop-to-top-n-signals","title":"Crop to top N signals","text":"<p>First applies the intensity filter (see below) then crops the remaining signals to the top 250.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#signal-threshold-intensity-filter","title":"Signal threshold (intensity filter)","text":"<p>Above N signals, start using the intensity percentile filter (see below). This does not filter to 50 signals so the final number of signals may be higher.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#intensity-filter-at-n-signals","title":"Intensity filter at &gt;N signals","text":"<p>Remove signals so that X% of intensity is retained. This removes lower abundant signals that play a minor role in matching. Overall this can speed up matching.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#algorithm-ms2deepscore","title":"Algorithm: MS2Deepscore","text":"<p>This algorithm uses a deep neural network to predict embeddings that aim for spectral similarities that approach structural similarities. The module allows loading of pre-trained models in the PyTorch script format. More information about MS2Deepscore can be found on github. If you use MS2Deepscore, please cite de Jonge et al. 2024 and Huber et al. 2021.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#ms2deepscore-model","title":"MS2Deepscore model","text":"<p>The latest model can be downloaded by clicking select -&gt; download: </p> <p>Alternatively the pre-trained MS2Deepscore model can be downloaded from https://zenodo.org/records/12628369 and contains the PyTorch script model (.pt) which should be selected in this parameter. The same folder should contain the settings.json file also supplied on Zenodo. If you want to convert a different MS2Deepscore model to a java/mzmine compatible format, you can find the relevant scripts in this repository.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#minimum-signals","title":"Minimum signals","text":"<p>Minimum number of signals (fragments) to consider a fragment spectrum. This is not the number of matched signals because MS2Deepscore works by comparing its embeddings.</p>"},{"location":"module_docs/group_spectral_net/molecular_networking.html#min-similarity","title":"Min similarity","text":"<p>Minimum MS2Deepscore spectral similarity to consider matched. The score is scaled from 0-1 with 1 being the best match.</p> <p>Ansgar Korf, Niek de Jonge, Robin Schmid, Steffen Heuckeroth</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html","title":"CCS Calibration and calculation","text":""},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#description","title":"Description","text":"<p>The modules described in this section can be found in  Feature list methods \u2192 Processing \u2192 Internal reference CCS calibration / External CCS calibration / Calculate CCS values.</p> <p>Accurate determination of CCS values requires a valid CCS calibration and molecule charge states to be detected. A CCS calibration can be either imported or created from internal reference.</p> <ul> <li>timsTOF raw data can be recalibrated using data analysis and imported in MZmine. The   recalibrated data will be used by default. (see Calculating CCS values)</li> <li>mzML raw data requires the determination of a calibration function from the raw data (e.g. as   detected features) or as import from an external file. (see    importing an external CCS calibration and refernce CCS calibration)</li> </ul>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#importing-an-external-ccs-calibration","title":"Importing an external CCS calibration","text":"<p>Agilent calibration data can be imported from the \"OverrideImsCal.xml\" file in the Agilent raw data folder. Waters calibration data can be imported from the \"mob_cal.csv\" file in the Waters raw data  folder. The \"_extern.inf\" file is also required, but will be read automatically when the \"mob_cal.csv\" is selected.</p> <p>The calibration import is accessed via Feature list methods -&gt; Processing -&gt; External CCS Calibration. Then select the calibration \"OverrideImsCal.xml\"/\"mob_cal.csv\" from the raw data folder, and select the raw data files the calibration should be applied to.</p> <p></p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#reference-css-calibration","title":"Reference CSS calibration","text":"<p>If a mobility calibrant is infused during an HPLC run of every sample, a CCS calibration can be calculated on a per-raw file basis. (Common procedure on Bruker devices) Otherwise, a single run can  be used to calibrate multiple files.</p> <p>Please note that this is currently only supported for TIMS and DTIMS data.</p> <p>The calibration module can be accessed via Feature list methods -&gt; Processing -&gt; Internal reference calibration.</p> <p></p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#set-to-additional-raw-files","title":"Set to additional raw files","text":"<p>If a calibration calculated from a single feature list shall be applied to multiple other raw files, the raw files can be selected here. This requires only a single raw file to be selected.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#feature-list-with-reference-compounds","title":"Feature list (with reference compounds)","text":"<p>Specifies (a) feature list(s) that contains the reference compounds. If multiple feature lists are selected, every feature list will be searched for reference compounds, and the calibration will be used for the raw data files in the particular feature list. This means that no raw data file may be selected. (Cannot set multiple calibrations to a single raw file)  </p> <p>If a single feature list is selected, the calibration may be applied to additional raw data files via the Set to additional raw files parameter.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#reference-list","title":"Reference list","text":"<p>Specifies a \".csv\" reference list of for CCS calibrant ions.  Must contain the columns \"mz\", \"mobility\", \"ccs\", \"charge\". Columns must be separated by \";\".  The ion mode may be specified via the charge of the ion, e.g., as 1 or -1. Only the correct polarity will be used to calculate the calibration.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#mz-tolerance","title":"m/z tolerance","text":"<p>The m/z tolerance for the reference compounds.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#mobility-tolerance","title":"Mobility tolerance","text":"<p>The mobility tolerance to detect the reference compounds.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#calibration-segment-rt-range","title":"Calibration segment RT Range","text":"<p>Specifies the rt range that shall be searched for calibrant ions. Usually either the beginning or end of a HPLC run.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#minimum-height","title":"Minimum height","text":"<p>A minimum intensity for reference compounds to be used as calibrant signals for determination of the calibration.</p>"},{"location":"module_docs/id_ccs_calibration/ccs_calibration.html#calculating-ccs-values","title":"Calculating CCS values","text":"<p>After a calibration as been set (Agilent/Waters/Bruker mzML) (Bruker tdf works out-of-the-box) CCS values can be calculated via Feature list methods -&gt; Processing -&gt; Calculate CCS values.</p> <p>Here, a default charge state may be set, in case it could not be determined. Otherwise, the charge state determined via the isotope pattern will be used.</p> <p></p> <p>Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/id_ion_networking/iin/iin.html","title":"Ion identity networking","text":"<p> Feature list methods \u2192 Feature grouping \u2192 Ion identity networking</p> <p>Annotates grouped features (same retention time + optionally, feature shape and height correlation) as ion adducts, in source fragments, and multimers. Also used as input to the [Ion Identity Molecular Networking workflow] (https://ccms-ucsd.github.io/GNPSDocumentation/fbmn-iin/) on GNPS. Searches all feature pairs against an ion library for each possible combination. Great in combination with the Molecular Networking module that calculates fragmentation pattern similarities in mzmine and allows for interactive visualization.</p> <p>Warning</p> <p>Apply metaCorrelate before running this module</p>"},{"location":"module_docs/id_ion_networking/iin/iin.html#recommended-citations","title":"Recommended citations","text":"<p>Info</p> <p>When using this modules, please consider citing the corresponding publication(s): Schmid, R., Petras, D., Nothias, LF. et al. Ion identity molecular networking for mass spectrometry-based metabolomics in the GNPS environment. Nat Commun 12, 3832 ( 2021). https://doi.org/10.1038/s41467-021-23953-9</p> <pre><code>Schmid R., Heuckeroth S., Korf A., et al. Integrative analysis of multimodal mass spectrometry data in MZmine 3, In Review (2023)\n</code></pre>"},{"location":"module_docs/id_ion_networking/iin/iin.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_ion_networking/iin/iin.html#mz-tolerance","title":"m/z tolerance","text":"<p>Intra sample m/z tolerance describes the difference between two ions of the same molecule at the same retention time. This tolerance is usually very small and depends on the mass resolution. Orbitrap instruments for example 3 ppm.</p>"},{"location":"module_docs/id_ion_networking/iin/iin.html#check","title":"Check","text":"<ul> <li>ONE FEATURE: Only one feature needs to match (m/z difference within one sample)</li> <li>ALL FEATURES: All features need to match (m/z difference within ALL samples)</li> <li>AVERAGE: Matches the m/z difference of average values</li> </ul>"},{"location":"module_docs/id_ion_networking/iin/iin.html#min-height","title":"Min height","text":"<p>Minimum height of features to consider. Leave at 0 to use all features that passed the feature detection workflow criteria.</p>"},{"location":"module_docs/id_ion_networking/iin/iin.html#ion-identity-library","title":"Ion identity library","text":"<p>Defines the ions to search. When two features, applied with two ions, result in the same neutral mass - an annotation is made. New ions can be defined. Adducts (left) and neutral modifications (right) are combined to create the final ion library.</p> <p>Tip</p> <p>This step should only focus on the main ions that are typically detected in the MS method. Later the Add more ion identities module can add strange ions to existing networks.</p> <p></p>"},{"location":"module_docs/id_ion_networking/iin/iin.html#annotation-refinement-optional","title":"Annotation refinement (optional)","text":"<p>Annotation refinement is optional but should be applied to finalize ion identities, after all subsequent optional steps of Add more ion identities steps.</p> <p>Parameters:</p> <ul> <li>Minimum size (optional): Only retain ion networks with at least n ions (often 3). The more ions   the higher the   confidence in the annotation.</li> <li>Delete small networks without major ion (optional): Major ions are defined as M+H, M+Na, M+NH4,   M-H2O+H</li> <li>Delete smaller networks: Link threshold (optional): Important parameter to only keep the best   annotation, when   this annotation is supported by n-1 ions (network size n).</li> <li>Delete networks without monomer (optional): Only keep a network if at least one is M+... and not   a multimer like   2M, 3M...</li> <li>Delete rows without ion id: Remove all rows from the feature list that have no ion identity   annotation</li> </ul> <p></p> <p>Robin Schmid, Steffen Heuckeroth</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html","title":"metaCorrelate feature grouping","text":"<p> Feature list methods \u2192 Feature grouping \u2192 Correlation grouping (metaCorrelate) </p> <p>This module groups features based on various properties: - Retention time - Feature shape Pearson correlation (optional: Only apply if at least 5 data points) - Feature height correlation</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#recommended-citations","title":"Recommended citations","text":"<p>Info</p> <p>When using this modules, please consider citing the corresponding publications: Schmid, R., Petras, D., Nothias, LF. et al. Ion identity molecular networking for mass spectrometry-based metabolomics in the GNPS environment. Nat Commun 12, 3832 (2021). https://doi.org/10.1038/s41467-021-23953-9</p> <p>Schmid R., Heuckeroth S., Korf A., et al. Integrative analysis of multimodal mass spectrometry data in MZmine 3, In Review (2023)</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#rt-tolerance","title":"RT tolerance","text":"<p>First filter that only checks features that fall within the same retention time window. Should be strict (~FWHM / 3)  when correlation grouping is disabled. With correlation grouping as a strict filter, the RT tolerance can be wider.</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#min-height","title":"Min height","text":"<p>Minimum height of features to consider. Leave at 0 to use all features that passed the feature detection workflow  criteria.</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#intensity-correlation-threshold","title":"Intensity correlation threshold","text":"<p>Minimum intensity of data points in a feature to compare during feature shape Pearson correlation. All data points  below this value are disregarded. Leave at 0 to use the noise levels set in the mass detection steps. </p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#sample-set-optional","title":"Sample set (optional)","text":"<p>Grouping of samples, only when using Min samples filter. Needs project metadata to be set. </p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#min-samples-filter","title":"Min samples filter","text":"<p>Only group features if they were detected in a minimum number of samples (absolute and relative minimum). Values are  provided for  - Min samples in all (all samples) and  - Min samples in group (for groups from Sample set parameter) - Min %-intensity overlap defines the percentage of intensity (sum of data point intensity) of the lower abundant    feature needs to fall within the RT range of the larger feature - Exclude estimated features (gap-filled) excludes gap-filled features from the comparison</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#correlation-grouping-optional","title":"Correlation grouping (optional)","text":"<p>Applies a feature shape correlation filter in retention time dimension. </p> <p>Warning</p> <p>Only use when having enough data points, i.e., 5 data points total and 2 on each side of the apex. Otherwise, </p> <p>use feature height correlation and a more narrow RT tolerance</p> <p>Parameters: - Min data points: Minimum number of correlated data points - Min data points on edge: Minimum number of points on each sides of the apex - Measure: Similarity measure (default: Pearson) - Min feature shape correlation: Minimum similarity of two features (within the same sample) to be grouped. Pearson    r=85% is default. - Min total correlation (optional): Minimum similarity when taking all the data points from all samples into account</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#feature-height-correlation","title":"Feature height correlation","text":"<p>Applies a correlation filter by taking all the feature heights across samples for feature pairs. </p> <p>Warning</p> <p>Only applicable if the heights are comparable across samples: Similar matrix and ionization conditions</p> <p>Parameters: - Min data points: Minimum number of correlated data points (samples) - Measure: Similarity measure (default: Pearson) - Min correlation: Minimum similarity</p>"},{"location":"module_docs/id_ion_networking/metacorr/metacorr.html#suffix-or-auto-optional","title":"Suffix (or auto) (optional)","text":"<p>Add a suffix to the feature list or just use an automatically generated suffix based on the parameters.</p> <p>Robin Schmid, Steffen Heuckeroth</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html","title":"Lipid Annotation","text":""},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Lipid annotation</p> <p>This module uses lipid class and ion notation specific fragmentation rules to annotate lipids in the feature lists. Lipids will be annotated based on accurate m/z on MS1 level and matched lipid fragments in MS2 spectra.  This rule-based annotation approach follows Lipidomics Standards Initiative guidelines and uses the latest shorthand notation for lipid structure from mass spectrometry to avoid over-annotation. Annotations on species and molecular species level are currently supported.  </p> <p>Tip</p> <p>Lipid annotations are directly added to the feature list. Matched fragments can be quickly evaluated. To validate the annotation quality right click on the annotated feature list row and select Matched lipid signals.</p> <p> Show \u2192 Matched lipid signals  </p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#recommended-citations","title":"Recommended citations","text":"<p>Info</p> <p>When using the Lipid annotation module consider reading and citing the original publication and the MZmine 3 publication.</p> <ol> <li>Korf, A., Jeck, V., Schmid, R., Helmer, P. O., &amp; Hayen, H. (2019). Lipid Species Annotation at Double Bond Position Level with Custom Databases by Extension of the MZmine Open-Source Software Package. Analytical chemistry, 91(8), 5098-5105. doi:10.1021/acs.analchem.8b05493</li> <li>Schmid R., Heuckeroth S., Korf A., et al. Integrative analysis of multimodal mass spectrometry data in MZmine 3, Nature Biotechnology (2023), doi:10.1038/s41587-023-01690-2.</li> </ol>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#lipid-classes","title":"Lipid classes","text":"<p>This parameter lists all pre-configured lipid classes in MZmine. Each selected lipid class will be added to the search scope.  </p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#side-chain-parameters","title":"Side chain parameters","text":"<p>Set the allowed min and max for chain length (number of carbons) and double bond equivalents (DBE) in a lipid chain. The number of chains is defined in the lipid class. 12 to 26 carbons and 0 to 6 DBEs is recommended as a starting point.</p> <p>Warning</p> <p>Lipid chain variation highly depends on the analyzed sample.</p> <p>Tip</p> <p>Odd chain lipid chains can be skipped by \"Only search for even chain length to avoid false positive annotations.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#mz-tolerance-ms1-level","title":"m/z tolerance MS1 level","text":"<p>Enter m/z tolerance for exact mass matching on MS1 level. Lipids outside the m/z tolerance will not be matched.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#search-for-lipid-class-specific-fragments-in-msms-spectra","title":"Search for lipid class-specific fragments in MS/MS spectra","text":"<p>Activate this parameter to highly increase lipid annotation confidence.</p> <p>Warning</p> <p>Mass detection on MS2 level needs to be performed first.</p> <p>Set a mz tolerance for matching signals in MS2 spectra. Set a Minimum Explained intensity to accept a lipid annotation. Matches below the set value will be removed, except the optional parameter Keep unconfirmed annotations is selected. Unconfirmed annotations will be marked with a comment in the feature list.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#search-for-custom-lipid-class","title":"Search for custom lipid class","text":"<p> If selected, the user can add their own custom lipid class that will be added to the search scope. Click the Add... button or double-click on an already defined custom lipid class to start with the configuration. Configured custom classes can be exported and re-imported for further analysis.</p> <p>Tip</p> <p>You want your lipid class preset in MZmine? Contribute to the code or contact the developers.</p> <p></p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#advanced","title":"Advanced","text":"<p>Optional parameters</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#ions-to-ignore","title":"Ions to ignore","text":"<p>Selected ion notations can be ignored for annotations. This is very important in negative mode when using acetate or formate buffer solutions as LC eluent. Lipids that form adducts with formate in negative mode usually also form adducts with acetate. Therefore, most preset lipid classes have implemented fragmentation rules for both ion notations. Since MZmine does not know the experimental LC setup, it is highly recommended to manually rule out ions that are unlikely to be formed.</p> <p>Danger</p> <p>The delta between formate and acetate is CH2, exactly the difference of a lipid chain length. Including both ions when analyzing negative mode data will result false positive annotations.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#show-database","title":"Show database","text":"<p>By clicking the button \"Show database\" at the bottom of the window, a tab holding information on the selected lipid classes is opened. All lipids are displayed in a table and in two Kendrick mass plots (KMD CH2 left, KMD H right). Lipids that interfere in the selected m/z window are marked grey, isobaric lipids are marked red. The others are displayed in green.</p> <p>Tip</p> <p>As a starting point select a preset lipid class from the combo box at the bottem left corner.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#custom-lipid-classes-and-fragmentation-rules","title":"Custom lipid classes and fragmentation rules","text":"<p>As described in the parameters section, custom lipid classes can be defined, stored and reused.  The following parameters need be set up:</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#lipid-category","title":"Lipid Category","text":"<p>Select a lipid category. The selected lipid category influences the lipid annotation algorithm since different rules are applied for species and molecular species level annotation construction. E.g. when using a sphingolipid chain type and a sphingolipid related fragmentation rule, make sure to set the lipid category to Sphingolipids. Currently featured lipid categories: - Fatty Acyls - Gylcerolipids - Glycerophospholipids - Sphingolipids - Sterol Lipids</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#lipid-main-class","title":"Lipid Main Class","text":"<p>Select a lipid main class. The selection is for reference only and has no impact on the annotation process.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#custom-lipid-class-name","title":"Custom lipid class name","text":"<p>Define a name for your lipid class. The name is for reference only.</p> <p>Warning</p> <p>Must be unique when using multiple custom lipid classes.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#custom-lipid-class-abbreviation","title":"Custom lipid class abbreviation","text":"<p>Define an abbreviation of the lipid class. The abbreviation will be used for the shorthand annotation.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#lipid-backbone-molecular-formula","title":"Lipid backbone molecular formula","text":"<p>Define the molecular formula of a lipid class without lipid chains. E.g. for Diacylglycerophosphocholines (PC) use the formula of glycerol-choline C8H20O6PN.</p> <p>Warning</p> <p>Compared to other lipid categories, sphingolipids share atoms in the backbone chain and the polar headgroup. Therefore, the determination of the backbone formula is more complicated. E.g. for Sphingosine use C3H9N as the lipid backbone formula. Missing oxygens will be added by the selected Sphingolipid backbone chain.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#add-lipid-chains","title":"Add lipid chains","text":"<p>Add lipid side chains by selecting the Add... button. The following lipid chains are currently supported: - Acyl chain - Acyl mono hydroxy chain - Alkyl chain - Amid chain - Amid mono hydroxy chain - Shpingolipid mono hydroxy backbone chain - Shpingolipid di hydroxy backbone chain - Shpingolipid tri hydroxy backbone chain</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#add-lipid-chains_1","title":"Add lipid chains","text":"<p>Warning</p> <p>When using Spingolipid backbone chains make sure to use Sphingolipids as Lipid category.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#add-fragmentation-rules","title":"Add fragmentation rules","text":""},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#polarity","title":"Polarity","text":"<p>Select polarity (+ or -).</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#ionization-method","title":"Ionization method","text":"<p>Select an ion notation from the combo box. The ion notation will also be considered when calculating the intact lipid ion.</p>"},{"location":"module_docs/id_lipid_annotation/lipid-annotation.html#lipid-fragmentation-rule-type","title":"Lipid fragmentation rule type","text":"<p>Tip</p> <p>Use the pseudo spectra on the right containing in-silico fragments based on defined rules, to validate your custom fragmentation rules </p> <p>Following lipid fragmentation rule types are currently supporter: - Headgroup fragment   - Fix ion formula: C5H15NO4P+ for choline head group fragment - Headgroup fragment nl   - Fix neutral loss: C2H8NO4P for PE head group loss  - Acylchain fragment   - [M-H]- form of any acyl chain - Acylchain fragment nl   - Neutral loss of an acyl chain - Acylchain plus formula fragment   - An acyl chain fragment plus a defined formula  - Acylchain plus formula fragment nl   - A neutral loss of an acyl chain plus a defined formula - Acylchain minus formula fragment   - An acyl chain fragment minus a defined formula - Acylchain minus formula fragment nl   - A neutral loss of an acyl chain minus a defined formula - Two acylchains plus formula fragment   - Two acyl chains combined plus a defined formula. Select CL lipid class to see an example - Alkylchain plus formula fragment   - An alkyl chain fragment plus a defined formula</p> <p>Warning</p> <p>Use the following Sphingolipid related rule types only when selecting Sphingolipids as Lipid Category.</p> <ul> <li>Sphingolipid mono hydroxy backbone chain fragment</li> <li>Fragment of the sphingolipid backbone chain</li> <li>Sphingolipid di hydroxy backbone chain fragment</li> <li>Fragment of the sphingolipid backbone chain</li> <li>Sphingolipid tri hydroxy backbone chain fragment</li> <li>Fragment of the sphingolipid backbone chain</li> <li>Sphingolipid mono hydroxy backbone chain minus formula fragment</li> <li>Fragment of the sphingolipid backbone chain minus a defined formula</li> <li>Sphingolipid di hydroxy backbone chain minus formula fragment</li> <li>Fragment of the sphingolipid backbone chain minus a defined formula</li> <li>Sphingolipid tri hydroxy backbone chain minus formula fragment</li> <li>Fragment of the sphingolipid backbone chain minus a defined formula</li> <li>Amid chain fragment</li> <li>Fragment of an amid chain</li> <li>Amid chain fragment nl</li> <li>Neutral loss of an amid chain</li> <li>Amid chain plus formula fragment</li> <li>Amid chain plus formula fragment</li> <li>Amid chain plus formula fragment nl</li> <li>A neutral loss of an amid chain plus a defined formula</li> <li>Amid chain minus formula fragment</li> <li>Amid chain minus formula fragment</li> <li>Amid chain minus formula fragment nl</li> <li>A neutral loss of an amid chain minus a defined formula</li> <li>Amid mono hydroxy chain fragment </li> <li>Fragment of an oxidized amid chain</li> <li>Amid mono hydroxy chain plus formula fragment</li> <li>Oxidized amid chain plus formula fragment</li> <li>Amid mono hydroxy chain minus formula fragment</li> <li>Oxidized amid chain minus formula fragment</li> <li>Precursor</li> <li>Special case fore fatty acids, which checks if ONLY the precursor is present. </li> </ul> <p>kyrasolaris01, omokshyna</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html","title":"MS2 Similarity Search","text":""},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 MS2 similarity search</p> <p>Ions arising from compounds with similar chemical structures often give similar fragmentation patterns (MS2 spectra). Therefore, calculating the similarity between MS2 spectra is a useful approach for the discovery of structurally similar compounds. </p> <p>This module calculates the similarity between centroided MS2 spectra associated with two feature lists. These two feature lists can be the same feature list, or different feature lists. </p> <p>The module outputs the result of the search, the MS2 similarity comparisons of feature list (1) with feature list (2), into the \"Identity\" column of feature list (1).</p> <p> In practice, you can consider the features in feature lists (1) as \"bait\", which is used to \"fish\" for MS2 similarity from feature list (2). Feature list (1) or feature list (2) can be a single peak + MS2 spectra, or an entire experiment.</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#ms2-similarity-score","title":"MS2 similarity score","text":"<p>The similarity metric used is as follows: </p> <ul> <li>For all MS2 spectra in feature list (1) \"MS2 spectra A\", and feature list (2) \"MS2 spectra B\", iterate over all ions in MS2 spectra A (ion \"i\"), and over all ions in MS2 spectra B (ion \"j\"). </li> <li>For a given ion, only include this ion in following calculations if its intensity is greater than the minimum ion intensity parameter. </li> <li>Compare the m/z values of ions \"i\" and \"j\". If these m/z values are within the range specified by the m/z tolerance parameter, consider these ions identical, and therefore \"matched\". </li> <li>If two ions match, roughly score the match by multiplying the intensity of ions \"i\" and \"j\". Save that as the \"ion match subscore\". </li> <li>Repeat this for every ion i and j in MS2 spectra A and MS2 spectra B, and report the sum of the ion match subscores as the total \"spectral match score\". </li> <li>If this spectral match score is greater than the minimum spectral match score parameter, annotate the \"Identity\" column of feature list (1) with the matched ions, and the total spectral match score of the MS2 similarity calculation.</li> </ul>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#interpreting-the-results","title":"Interpreting the results","text":"<p>The score from of a MS2 similarity match should not be taken as an absolute measure, as it depends on the instrument reported intensity value (which is an uncalibrated and relative measure). </p> <p>That being said, as the reported score increases when the intensity of the matched ion is higher, it is useful as a quick metric to find the matches between the most intense MS2 spectra, and potentially the most reliable compounds.</p> <p> It is worth mentioning that the link between the MS2 spectra, and the presumed precursor ion in the feature list is somewhat tentative. As the isolation window of the quadrapoles typically used for selection of the precursor ion in MS2 fragmentation analysis is typically around ~1 m/z unit, ions from the MS2 fragmentation spectra from an abundant compound with a long chromatographic tail will often show up in the MS2 values of unrelated compounds, but whose precursor isolation window picks up ions from the original compound. </p> <p>An experimental Python script which converts the MS2 similarity relationships exported from MZmine2 in CSV format into GraphML format suitable for viewing in the freely available graph manipulation software Cytoscape is available on Github (https://github.com/photocyte/ms2_graph).</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#feature-list-1","title":"Feature list (1)","text":"<p>A single feature list with features that have associated centroided MS2 spectra. Results from the module are output into the identifications column of Feature list (1)</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#feature-list-2","title":"Feature list (2)","text":"<p>A single feature list, which has centroided MS2 spectra (in the masslist). This can be the same as Feature list (1), or a different peaklist / experiment. </p> <p>For best results Feature list (2) should have MS data with the same polarity as Feature list (1), and close range of m/z values close (e.g. LC/MS data obtained on the same day, or m/z calibrated between the two feature lists).</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed m/z difference between two ions to be considered identical, and therefore \"matched\". </p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#minimum-ms2-ion-intensity","title":"Minimum MS2 ion intensity","text":"<p>Minimum ion intensity to consider in MS2 comparison. Ions of the MS2 spectra below this threshold will be ignored. </p> <p> This parameter depends on your instrument, but 1e5 is a reasonable value. </p> <p> Set to 0 to use all ions.</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#minimum-ions-matched-per-ms2-comparison","title":"Minimum ion(s) matched per MS2 comparison","text":"<p>Minimum number of matched ions needed in a given MS2 similarity comparison. Otherwise, that spectral match will not be reported. </p> <p> This depends on the compounds being compared, but roughly speaking 2-5 is a reasonable number. For complex spectra values of 10-20+ may be reasonable. </p> <p> Set to 0 to report all matches.</p>"},{"location":"module_docs/id_ms2_similarity/ms2-similarity-search.html#minimum-spectral-match-score-to-report","title":"Minimum spectral match score to report","text":"<p>Minimum spectral match score threshold, below which spectral matches will not be reported. </p> <p>omokshyna</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html","title":"Local compound database search","text":""},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search precursor mass \u2192 Local compound database (CSV) search</p> <p>This method assigns identity to features according to their m/z. Additionally, retention time, mobility, and CCS values can be provided to restrict the annotation. Otherwise, only the m/z is used for the matching, which can be used for the spectral library building. For compound annotation in complex samples, an additional identifier should be available.</p> <p> If you want to filter your feature list for a list of target compounds afterwards, you can use the Feature list rows filter with the only identified option.</p> <p>The user has to provide a database of m/z values (or neutral masses, formulae, smiles strings to calculate m/zs from) and retention times in *.csv format ( see below).</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#database-file","title":"Database file","text":"<p>Database file has to be provided in .csv* or .tsv format* (Comma-Separated or tab). Such files can be exported from a spreadsheet software such as MS Excel, or edited manually using a text editor.</p> <p>The following examples shows the structure of the database file:</p> <pre><code>ID,monoisotopic_mass,rt,compound_name,formula\n1,175.121,24.5,Arginine,C6H14N4O2\n2,133.063,11.9,Asparagine,C4H8N2O3\n3,134.047,11.7,Aspartate,C4H7NO4\n</code></pre> <p> If the m/z value or Retention time value in the CSV file is 0, then the value is considered as a wild card. E.g, the following item will match all peaks of 174.121 m/z without considering the retention time:</p> <pre><code>1,175.121,0,Arginine,C6H14N4O2\n</code></pre> <p>The available fields in a library file include:</p> Field name Field description monoisotopic_mass Neutral mass mz Precursor m/z rt Retention time formula Formula smiles SMILES inchi InChI compound_name Compound name CCS CCS/ \u00c5<sup>2</sup> mobility Ion mobility comment Text comment adduct Information on adduct pubchem_cid Compound ID in PubChem database"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#database-file_1","title":"Database file","text":"<p>Path and Name of the file that contains information for peak identification.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#field-separator","title":"Field separator","text":"<p>Character(s) used to separate fields in the database file. - .csv = , - .tsv = \\t</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#columns","title":"Columns","text":"<p>Columns that should be imported from the library file are selected. The choice of columns depends on the availability of retention time, mobility data, information about adducts, and the presence of the PubChemID in your database file. If the exact mass should be calculated, the neutral mass (or structure information) needs to be provided and enabled together with the adduct settings. When only a structure is provided, MZmine calculates the monoisotopic mass based on the given information. If the table contains already the adduct m/z value, the precursor m/z can be selected.  This might be useful, when the ionization differs within one dataset. The column names can be adapted to your table by double click and pressing enter after changing.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed m/z difference to set an annotation to a peak (max. difference between exact and accurate mass).</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed retention time difference to set an identification to a peak.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#mobility-time-tolerance","title":"Mobility time tolerance","text":"<p>Maximum allowed tolerance to set an identification to a peak.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#ccs-tolerance","title":"CCS tolerance (%)","text":"<p>Maximum allowed difference (in percents) to set an identification to a peak.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#use-isotope-matcher","title":"Use isotope matcher","text":"<p>This option matches the predicted isotope pattern against the detected ones. It is only possible to use if the isotope finder was run before.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#use-adducts","title":"Use adducts","text":"<p>This can be used, if the precursor should be calculated. If chosen, m/z values for all set adducts will be calculated and matched against the feature list. For this option, you have to provide a neutral mass, a formula or a SMILES code to calculate the m/z from. Be aware, if multiple adducts are set, more sporious hits will be created. This is also important for the spectral library creation, when one sample contains multiple compounds. Therefore the modifications can be limit to specific adduct combinations. This can be done by adding and combining them. For example M-H2O+H, by adding M-H2O and combining it with the M+H.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#filter-filename-header","title":"Filter filename header","text":"<p>This option is important for the library building workflow. This column contains a unique sample id to link the compound to the corresponding acquisition file. The unique sample id can be either part of the filename or the complete filename. If data are acquired multiple times with differnet method, a part of the filename enables the option of one metadata file or one column for the identification. The unique sampel id can be a combination of library_id, the plate or rack location together with the well or rack position. It is important to notice, that the unique sample id should not end on a number, otherwise libid_Plate1_A2 is also contained in libid_Plate1_A20 ect.</p>"},{"location":"module_docs/id_prec_local_cmpd_db/local-cmpd-db-search.html#append-comment-fields","title":"Append comment fields","text":"<p>Multiple fields, that are appended to the comment. They are separated by comma. For example: Pathway, Synonyms,...</p> <p>Steffen Heuckeroth, corinnabrungs, omokshyna</p>"},{"location":"module_docs/id_prec_local_spectra_lib/local-spectra-lib-search.html","title":"Precursor search in local spectral MS/MS library","text":""},{"location":"module_docs/id_prec_local_spectra_lib/local-spectra-lib-search.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search precursor mass \u2192 Precursor search in spectral libraries</p> <p>This module uses a local spectral MS/MS library to search for putative precursor ions in a feature list.  </p> <p>Supported formats: </p> <ul> <li>MoNA *.json, </li> <li>NIST *.msp, </li> <li>GNPS *.json (internal library submission format), </li> <li>and JCAMP-DX *.jdx.</li> </ul>"},{"location":"module_docs/id_prec_local_spectra_lib/local-spectra-lib-search.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_prec_local_spectra_lib/local-spectra-lib-search.html#spectral-libraries-file-msms","title":"Spectral libraries file (MS/MS)","text":"<p>Name of the library file of the supported format.</p>"},{"location":"module_docs/id_prec_local_spectra_lib/local-spectra-lib-search.html#precursor-mz-tolerance","title":"Precursor m/z tolerance","text":"<p>Matches the average row m/z against the precursor m/z of the spectral library entry</p>"},{"location":"module_docs/id_prec_local_spectra_lib/local-spectra-lib-search.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Optional parameter, should only be used if the DB entry has a retention time</p> <p>omokshyna</p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html","title":"Online compound database search","text":"<p>Module is currently removed and no longer maintained.</p> <p> This module has known bugs and is being updated, which might affect its functionality</p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search precursor mass \u2192 Online compound database search</p> <p>This module allows identification of peaks or whole peak lists using an on-line compound database. Databases are queried for the calculated neutral mass of the peak and matching compounds are returned.</p> <p> If a user is interested in more comprehensive online compound database search, they can export their data to Sirius software. </p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#database","title":"Database","text":"<p>On-line database to search (list of the available databases).</p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#ionization-type","title":"Ionization type","text":"<p>Type of ionization that produced the peak subjected to identification. </p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#number-of-results","title":"Number of results","text":"<p>Limit for the number of results to be retrieved from the on-line database.</p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed m/z difference to set an identification to a peak.</p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#isotope-pattern-filter","title":"Isotope pattern filter","text":"<p>If selected, only results which fit the required isotope pattern similarity score will be returned.</p>"},{"location":"module_docs/id_prec_online_db/online-cmpd-db-search.html#currently-supported-databases","title":"Currently supported databases","text":"<p>Supported databases are listed below. Support for other databases may be implemented as additional plugins.</p> <ul> <li> <p>KEGG</p> <p>KEGG database (http://www.genome.jp/kegg/) contains metabolites and other biomolecules present in natural metabolic pathways.</p> </li> <li> <p>PubChem</p> <p>PubChem database (http://pubchem.ncbi.nlm.nih.gov/) contains millions of chemical compound structures. </p> </li> <li> <p>HMDB</p> <p>The Human Metabolome Database (HMDB) (http://www.hmdb.ca/) contains over 7,000 known metabolites found in human body. </p> </li> <li> <p>YMDB</p> <p>The Yeast Metabolome Database (YMDB) (http://www.ymdb.ca) is a manually curated database of small molecule metabolites found in or produced by Saccharomyces cerevisiae (also known as Baker\u2019s yeast and Brewer\u2019s yeast).</p> </li> <li> <p>LipidMaps</p> <p>LipidMaps Structure Database (LMSD) (https://www.lipidmaps.org/databases/lmsd) is a database of structures and annotations of biologically relevant lipids, containing over 47000 different lipids.</p> </li> <li> <p>MassBank.eu</p> <p>MassBank (https://massbank.eu/MassBank/) is an open source mass spectral library for the identification of small chemical molecules of metabolomics, exposomics and environmental relevance. The majority of MassBank contents now features high-resolution mass spectrometry data.</p> </li> <li> <p>ChemSpider</p> <p>The ChemSpider database (http://www.chemspider.com/) contains over 67 million compounds. To search ChemSpider you must provide a \"Security key\" from your ChemSpider API account. If you don't have an account, please register at https://developer.rsc.org.</p> </li> <li> <p>MetaCyc</p> <p>MetaCyc (https://metacyc.org/) is a curated database of experimentally elucidated metabolic pathways from all biological domains. MetaCyc currently contains 2937 pathways, 17,780 reactions and 18,124 metabolites.</p> </li> </ul> <p>Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html","title":"NIST MS search","text":""},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 NIST MS Search</p> <p>or, for an individual row in a feature table</p> <p> highlight the row, right-click on the selection and choose ** Search \u2192 NIST MS Search** from the pop-up menu.</p> <p>This module allows searching spectra against spectral libraries using the NIST MS Search program, which accepts spectra as input to its searches. </p> <p>The MS level may be specified to limit a search to MS/MS fragment spectra, clustered spectra produced from any Spectral Deconvolution module, or MS1 precursors ions. The spectra will be searched using the default library search parameters in the NIST MS Search program. </p> <p>To adjust these parameters: open the NIST MS Search software and adjust the library search parameters: Options or Icon \u2192 Library Search Options \u2192 Search: enable automation \u2192 Libraries: choose the preferred libraries. More information about the libraries and their abbreviations: https://www.nist.gov/srd/nist-standard-reference-database-1a</p> <p>Save the configuration to a *.ini file. </p> <p> Automation must be enabled in the library search options to enable automatic searching. Be sure all appropriate libraries are included before starting a search.</p> <p>Repeated MS/MS spectra may be merged between multiple data files using the Merge MS/MS (experimental) module. The input Mass list filters the fragment ions by intensity, and repeatable signals are assessed via cosine dot product.</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#requirements","title":"Requirements","text":"<p>This module relies on the installed NIST MS Search software, which is currently only available for Microsoft Windows.</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#nist-ms-search-directory","title":"NIST MS Search directory","text":"<p>Full path to the directory containing the NIST MS Search executable (nistms$.exe).</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#ms-level","title":"MS level","text":"<p>MS spectra level for searching. </p> <p>Use MS level = 1 to search for MS1 spectra or ADAP-GC clustered spectra produced from Spectral Deconvolution modules.</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#min-cosine-similarity","title":"Min cosine similarity","text":"<p>The minimum cosine similarity score (dot product) for identification.</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#merge-msms-experimental","title":"Merge MS/MS (experimental)","text":"<p>Optional parameter. </p> <p>Merge multiple high-quality MS/MS spectra into consensus feature instead of using the most intense one. </p> <p>More details are available here.</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#integer-mz","title":"Integer m/z","text":"<p>Optional parameter. </p> <p>Merging mode for fractional m/z to unit mass. Converts accurate mass m/z measurements to low-resolution integer values.</p> <p>Available options are Sum or Maximum.</p>"},{"location":"module_docs/id_spectra_NIST/NIST-ms-search.html#spectrum-import","title":"Spectrum Import","text":"<p>Options for import, can be by either Overwrite (overwriting previous spectra) or Append (appending new ones).</p> <p>corinnabrungs, omokshyna</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html","title":"Chemical formula prediction","text":""},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Chemical formula prediction</p> <p>This module attempts to calculate all possible molecular formulas for every peak in the peak list, using given elemental and heuristic constraints. </p> <p>For a detailed description of the functionality and the embedded algorithms, please see the publication [1].</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#references","title":"References","text":"<ol> <li> <p>Pluskal T. et al, Highly Accurate Chemical Formula Prediction Tool Utilizing High-Resolution Mass Spectra, MS/MS Fragmentation, Heuristic Rules, and Isotope Pattern Matching. Anal Chem (2012), 84(10):4396-403. DOI: 10.1021/ac3000418.</p> </li> <li> <p>Kind and Fiehn, Seven Golden Rules for heuristic filtering of molecular formulas obtained by accurate mass spectrometry. BMC Bioinformatics (2007). DOI: 10.1186/1471-2105-8-105.</p> </li> </ol>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#charge","title":"Charge","text":"<p>The neutral mass is calculated from the peak m/z value, its charge and type of ionization adduct.</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#ionization-type","title":"Ionization type","text":"<p>The neutral mass is calculated from the peak m/z value, its charge and type of ionization adduct.</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#sorting","title":"Sorting","text":"<p>Optional parameter</p> <p>If this option is chosen, the user-defined sorting is applied to all selected feature lists.</p> <p></p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#max-best-formulas-per-feature","title":"Max best formulas per feature","text":"<p>This parameter defines the maximum number of formulas to be added to a single feature. </p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#mz-tolerance","title":"m/z tolerance","text":"<p>Tolerance of the neutral mass for searching the formula.</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#elements","title":"Elements","text":"<p>Elements allowed in the formula and their minimum and maximum counts.</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#element-count-heuristics","title":"Element count heuristics","text":"<p>Optional parameter</p> <p>Selection of heuristic restrictions on element counts. These heuristics check the formula's element counts as defined in [2].</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#available-parameters","title":"Available parameters","text":"<p>These include:</p> <ul> <li> <p>H/C ratio</p> <p>Ratio of hydrogen to carbon atoms, with available value range 0.1 &lt;= H/C ratio &lt;= 6.</p> </li> <li> <p>NOPS/C ratios</p> <p>Ratio of nitrogen to carbon atoms, with available valueN/C ratio &lt;= 4, Ratio of oxygen to carbon atoms O/C ratio &lt;= 3, Ratio of phosphorus to carbon atoms P/C ratio &lt;= 2, Ratio of sulphur to carbon atoms S/C ratio &lt;= 3</p> </li> <li> <p>Multiple element counts</p> <p>If this parameter is chosen, then several following rules apply:</p> <ul> <li>if number of N/O/P/S atoms all &gt; 1 then N&lt; 10, O &lt; 20, P &lt; 4, S &lt; 3</li> <li>if number of N/O/P atoms all &gt; 3 then N &lt; 11, O &lt; 22, P &lt; 6</li> <li>if number of O/P/S atoms all &gt; 1 then O &lt; 14, P &lt; 3, S &lt; 3</li> <li>if number of P/S/N atoms all &gt; 1 then P &lt; 3, S &lt; 3, N &lt; 4</li> <li>if number of N/O/S atoms all &gt; 6 then N &lt; 19 O &lt; 14 S &lt; 8</li> </ul> </li> </ul>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#rdbe-restrictions","title":"RDBE restrictions","text":"<p>Optional parameter</p> <p>Selection of restrictions on RDBE (rings double bonds) values. The Ring Double Bond Equivalents (RDBE) value estimates the number of rings and unsaturated bonds in a molecule. It can be calculated from a chemical formula using the following general equation:</p> \\[RDBE=1+\\frac{1}{2}(\\sum_{i}n_i(\\nu_i-2))\\] <p>where \\(n_i\\) is the number of atoms and \\(\\nu_i\\) the formal valence of the element i.</p> <p>Theoretically, each ring or a double bond increases the RDBE value by 1, while each triple bond increases the value by 2.</p> <p> This equation can only be used for formulas composed of elements with a well-defined formal valence.</p> <p>A number of exceptions to the RDBE rule are known, however, the RDBE value still provides a useful indicator regarding the validity of a molecular formula.</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#available-parameters_1","title":"Available parameters","text":"<p>These include:</p> <ul> <li> <p>RDBE range</p> <p>Range of allowed RDBE (Range or Double Bonds Equivalents) value.</p> <p>[2] recommended the RDBE upper limit of 40 for common chemical compounds. The authors also stated that RDBE should not be negative, although certain exceptions may occur when formal valence states are exceeded.</p> </li> <li> <p>RDBE must be an integer</p> <p>Only integer values are allowed for RDBE. This condition is a natural implication of the principle of valence balance, which states that the number of atoms with odd valence must be even. Such assumption is valid for all neutral, non-radical molecules.</p> </li> </ul>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#isotope-pattern-score","title":"Isotope pattern score","text":"<p>Optional parameter</p> <p>If selected, only results that fit the required isotope pattern similarity score will be returned. </p> <p>Several modules in MZmine offer the option the compare the isotope patterns of peaks and assign a score (percentage) of similarity to them. </p> <p>Until MZmine version 2.2, the CDK (Chemistry Development Kit) library was used to perform this operation. An improved algorithm, introduced in MZmine 3, is described below. The similarity of two isotope patterns is determined as follows:</p> <ul> <li>Both isotope patterns are normalized (such that highest isotope in each pattern has the intensity of 1.0) and merged into a single spectrum. In this single spectrum  all isotopes from the first pattern have a positive intensity, while the isotopes of the second pattern have negative intensity.</li> <li>A sliding window of user-defined width (\"Isotope m/z tolerance\" parameter) is moved over the whole m/z range, from the lowest m/z to the highest. Each pair of isotope peaks fitting within the window is added together, forming a single peak with the m/z value of the higher m/z of the pair.</li> <li>The final similarity score is calculated from the remaining peaks as</li> </ul> \\[score_{isotopes}=\\prod_{i}(1-\\mid{I_i}\\mid)\\] <p>where \\(I_i\\) is the intensity of remaining peak \\(i\\).</p> <p></p> <p>A trivial observation is that for two identical isotope patterns the similarity score will be 100%, while for two completely different patterns 0% score is returned.</p> <p>Only a single parameter is required for the evaluation of the algorithm, defining the width of the sliding window.</p> <p> It should be noted, though, that the optimal value of width of the sliding window parameter might be different from the commonly perceived \u201cmass accuracy\u201d of the instrument as mass resolving power and preprocessing of the data must be considered. For example, even if the mass accuracy of the major isotopes may be less than 0.001 m/z, the mass difference between minor isotopes may be significantly higher.</p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#additional-parameters","title":"Additional parameters","text":"<p>These include: </p> <ul> <li> <p>Isotope m/z tolerance</p> <p>m/z tolerance which defines what isotopes would be considered same when comparing two isotopic patterns.</p> <p>This tolerance needs to be higher than general m/z precision of the data, because some small isotopes may overlap with the sides of bigger isotopic peaks.</p> </li> <li> <p>Minimum absolute intensity</p> <p>Minimum absolute intensity of the isotopes to be compared. Isotopes below this intensity will be ignored.</p> </li> <li> <p>Minimum score</p> <p>If the score between isotope pattern is lower, the match will be discarded.</p> </li> </ul>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#msms-filter","title":"MS/MS filter","text":"<p>Optional parameter</p> <p>Use MS/MS pattern for candidate formula evaluation. </p> <p>In tandem mass spectrometry (MS/MS), during fragmentation, part of the original ion is detached, and the mass of the detached part is called the neutral loss. </p> <p>The neutral loss represents a fragment of the original molecule, so the chemical formula of such fragment must be a subset of the chemical formula of the precursor. </p> <p>When searching for the ion\u2019s chemical formula, each candidate formula may therefore be evaluated using the ion\u2019s MS/MS spectrum using the algorithm described below.</p> <ol> <li>Mass list must be provided for the MS/MS spectrum of the ion of interest (see the Mass detection modules). It is assumed that all items in the mass list represent true fragment ions and noise has been removed. </li> <li>If the mass list contains any isotopes, remove them from the list. Isotopes are defined as ions with mass approximately 1 Da higher than another ion on the list, which has higher intensity. </li> <li>Calculate neutral losses for all the ions on the list by subtracting the fragment ion mass from the precursor mass. </li> <li>Try to generate a chemical formula for each neutral loss using the elements and maximum counts of formula F, within the user-defined mass tolerance. Small neutral losses (less than 5 Da) are ignored. </li> <li>If at least one formula can be found, the neutral loss is considered as interpreted. </li> <li>The evaluation score is calculated for each candidate formula F as described belows:</li> </ol> \\[score_{MS/MS}=\\frac{n_{found}}{n_{total}}\\] <p>where \\(n_{found}\\) is the number of ions for which the neutral loss could be interpreted, and \\(n_{total}\\) is the total number of considered fragment ions.</p> <p></p>"},{"location":"module_docs/id_spectra_chem_formula/chem-formula-pred.html#available-parameters_2","title":"Available parameters","text":"<ul> <li> <p>MS/MS m/z tolerance</p> <p>Tolerance of the m/z value to search (+/- range).</p> </li> <li> <p>MS/MS score threshold</p> <p>If the score is lower than the threshold, a match is discarded.</p> </li> <li> <p>Use only top N signals</p> <p>Use only N most abundant signals for scoring.  This option speeds up the search.</p> </li> </ul> <p>omokshyna</p>"},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html","title":"Spectral similarity measures","text":""},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html#weighted-cosine-spectral-similarity","title":"Weighted cosine spectral similarity","text":"<p>The most common spectral similarity measure for library search is the weighted cosine similarity. Generally,the cosine similarity is calculated as following:</p> \\[similarity = cos\\theta = (u \\cdot v) / (\\sqrt{(sum(u^2))} * \\sqrt{(sum(v^2))})\\] <p>In case of weighted cosine similarity, the previous formula is modified according to the weighting function. In case of weighting function in form \\(m/z^a*{Intensity}^b\\) (where a, b are weights) the weighted cosine similarity is calculated as follows:</p> \\[weighted\\;similarity = (u' \\cdot v') / (\\sqrt{(sum(u^2))} * \\sqrt{(sum(v^2))})\\] \\[u' = sum(u_i) = sum(m{u_i}^a*I{u_i}^b)\\] \\[v' = sum(v_i) = sum(m_{v_i}^a*I_{v_i}^b)\\] <p>where u and v are the aligned vectors of the two spectra.</p> <p>It is used to determine the similarity between two spectra (usually library and query spectra). Both spectra are turned into vectors and cosine similarity is calculated by division of vectors dot product over cosine value of the angle between them.</p>"},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html#composite-weighted-cosine-spectral-similarity-identity","title":"Composite weighted cosine spectral similarity (identity)","text":"<p>This similarity measure can be especially useful for very reproducible generation of spectra (GC-EI-MS). This measure is modified by a ratio based on the relative intensities of adjacent m/z signals in the two spectra.</p> <p>Composite weighted cosine similarity is calculated as follows:</p> \\[composite\\;similarity = \\frac{N*{cosine\\;similarity}+overlap*{ratio\\;factor}}{N+overlap}\\] \\[ratio\\;factor=\\frac{min(r_{lib},r_{query})}{max(r_{lib},r_{query})}\\] \\[r_{lib}=I_i(lib)/I_{i-1}(lib);\\;r_{query}=I_i(query)/I_{i-1}(query)\\] <p>where \\(N\\) - number of signals in a query spectrum, cosine similarity is calculated as described previously, overlap - number of matching signals in query and library spectra, \\(ratio\\;factor\\) - relative intensities ratio, \\(r_{lib}\\) - relative ratio of adjacent signals in a library spectrum, \\(r_{query}\\) - relative ratio of adjacent signals in a query spectrum.</p> <p>It is used to determine the similarity between two spectra (usually library and query spectra).</p>"},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html#weights","title":"Weights","text":"<p>For calculating the cosine similarity, different weighting strategies for  m/z and signal intensities can be applied.</p> <p>Several weighting schemes are available:</p> <ul> <li>None \\(m/z^0*I^1\\) (weighting only by intensities)</li> <li>SQRT \\(m/z^0*I^{0.5}\\) (weighting only by intensities)</li> <li>MassBank \\(m/z^2*I^{0.5}\\)</li> <li>NIST11 (LC) \\(m/z^{1.3}*I^{0.53}\\)</li> <li>NIST (GC) \\(m/z^3*I^{0.6}\\)</li> </ul> <p> Choice of the similarity measure depends on your data, and intensity-based schemes might work better on homogenous datasets. However, recommended approach for choosing the weighting scheme would be trial-and-error.</p>"},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html#minimum-cosine-similarity","title":"Minimum cosine similarity","text":"<p>This option defines the minimum accepted similarity  score that is taken into account for annotation. The similarity score depends on the data handling of unmatched signals.</p>"},{"location":"module_docs/id_spectral_library_search/spectral-similarity-measures.html#handle-unmatched-signals","title":"Handle unmatched signals","text":"<p>Signals that only occur within one scan (query OR library entry) can be handled in different ways to affect the cosine similarity and controlling the quality  of matching results.</p> <ul> <li> <p>KEEP ALL AND MATCH TO ZERO (default)</p> <p>This is the standard conservative approach where all unmatched signals weigh negatively on the score. It is used for both GC-EI-MS and MS<sup>2</sup> spectra.</p> </li> <li> <p>REMOVE ALL</p> <p>The opposite option that discards all unaligned signals, which increases the similarity score artificially.</p> <p> This option is only feasible if both the library and query spectrum are considered to be complex mixtures. Therefore, the next two options are more conservative.</p> </li> <li> <p>KEEP LIBRARY SIGNALS</p> <p>Results in discarding all unaligned signals of the query scan, whereas all unaligned library signals are matched to zero, setting the library spectrum as the ground truth.</p> <p> Here, the negative impact of contaminating signals in the query scans are reduced. This might be helpful for mixed spectra of multiple compounds, especially during imaging techniques without any further separation or all ion fragmentation/data independent fragmentation workflows.</p> </li> <li> <p>KEEP EXPERIMENTAL SIGNALS</p> <p>Results in discarding all unaligned signals of the library scan, whereas all unaligned query signals are matched to zero.</p> <p>Has reversed effects compared to the previous option.</p> </li> </ul> <p>Robin Schmid, corinnabrungs, omokshyna</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html","title":"Spectral library search","text":""},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#description","title":"Description","text":"<p> Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Spectral library search  or  with a right click on one or multiple selected feature rows Search \u2192 Spectral library search</p> <p>The spectral library search module can be performed on feature lists, individual features (contained in feature list rows), or single scans. </p> <p>Depending on the MS level (MS1 or MS2), all corresponding query scans (e.g., extracted from the rows) will be matched against selected spectral libraries that were previously imported.</p> <p> Preferred ways to import libraries are in this order:</p> <ul> <li> <p>together with spectral data files in the advanced data import:</p> <p>Raw data methods \u2192 Raw data import \u2192 MS data (advanced)</p> </li> <li> <p>drag and drop into the main window</p> </li> <li> <p>with a dedicated import module: </p> <p>Raw data methods \u2192 Raw data import \u2192 Spectral library import or from Feature list methods \u2192 Annotation \u2192 Search spectra \u2192 Import spectral libraries.</p> </li> </ul>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#downloads-for-open-spectral-libraries","title":"Downloads for open spectral libraries","text":"<ul> <li>MassBank of North America: download (download .json)</li> <li>MassBankEU: download (download .msp)</li> <li>GNPS (ALL_GNPS_NO_PROPOGATED): download (download .json)</li> <li>MSnLib: download (download .mgf)</li> <li>GC/EI-HRMS for lipids: download (download .json)</li> </ul>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#supported-library-formats","title":"Supported library formats","text":"<ul> <li>*.json: MassBank of North America (MoNA)</li> <li>*.json: The Global Natural Product Social Molecular Networking (GNPS) (format from the spectral DB submission module)</li> <li>*.mgf: GNPS</li> <li>*.msp: MoNA</li> <li>*.msp: National Institute of Standards and Technology (NIST)</li> <li>*.jdx: JCAMP-DX</li> </ul>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#parameters","title":"Parameters","text":""},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#spectral-libraries","title":"Spectral libraries","text":"<p>The spectral libraries of interest need to be imported before applying spectral library search.  Either uses all imported spectral libraries or only the selected libraries.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#scans-for-matching","title":"Scans for matching","text":"<p>Choose the MS level of the scans that should be compared with the library and how to handle multiple spectra for one feature.  The option 'MS2 (merged)' merges all spectra of a feature into one scan, which reduces the amount of spectra for the matching. For matching all spectra individually, use the 'MS2 (all scans)' option. If multistep fragmentation was used, choose the MS level \u2265 2 and for GC-EI-MS 'MS1'. </p> <p> In case of issues with the scan selection, check how the actual scan numbers are reported in the data files and in MZmine's raw data overview.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#precursor-mz-tolerance","title":"Precursor m/z tolerance","text":"<p>This option is only used for MS level &gt; 1. Here, the library entries are filtered by their precursor m/z reducing the number of spectral-pairs to match. </p> <p>The absolute (in m/z) and relative (in ppm) m/z tolerance can be set. The maximum tolerance for each precursor is applied. </p> <p>Considering that the precursor isolation window is often far greater than the resolution or accuracy of the MS scan, this parameter is often set to higher m/z tolerances. </p> <p>Another aspect is the used library, which might contain uncalibrated reference spectra from lower resolution instruments.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#spectral-mz-tolerance","title":"Spectral m/z tolerance","text":"<p>This m/z tolerance is used to pair signals in the query and library scans. It  can be set in absolute (in m/z) and relative (in ppm) m/z tolerance, whereas  the maximum tolerance for each m/z value is applied. It must be kept in mind, which mass resolutions are achieved  within the experimental spectra and within the spectral library.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#remove-precursor","title":"Remove precursor","text":"<p> Can be selected only for MS level &gt; 1. </p> <p>Depending on the fragmentation method, e.g., collision induced dissociation (CID) or higher-energy collisional dissociation (HCD), the precursor can be detected with different intensities resulting in varying cosine similarities during the library matching. </p> <p>Therefore, this option enables the removal of the precursor signal (\u00b1 4 Da) prior to the matching. </p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#min-matched-signals","title":"Min matched signals","text":"<p>The query mass list and spectral library entry must contain at least this number of matched (paired) m/z values (+- m/z tolerance). </p> <p>Common parameters include 4 signals for smaller molecules and 6 for more confident matches.</p> <p> This parameter must be set carefully to not exclude compounds that show less fragmentation, when using a higher number of matched signals. </p> <p> Choosing a lower number of matched signals can result in spurious library hits.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#similarity","title":"Similarity","text":"<p>Several algorithms can be applied to calculate the similarity of the query and library scans and to filter the resulting library matches. The available algorithms are:</p> <ul> <li>Weighted cosine similarity,</li> <li>Composite cosine identity (e.g., GC-EI-MS; similar to NIST search).</li> </ul> <p>More details are available here.</p> <p> The weighted cosine similarity is used for comparing MS<sup>2</sup> data, whereas the composite cosine identity (e.g., GC-EI-MS; similar to NIST search) considers the relative intensity of neighboring signals and is, therefore, applied to MS<sup>1</sup> spectra from GC-EI-MS.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>These option can be used to include these values as further spectral matching identifiers. The maximum allowed retention time difference when comparing the query and library scan. It can be set in absolute (min or sec) or relative (%) values.</p> <p> This option is intended for in-house libraries or standardized libraries that follow the same acquisition protocol with the same set-up, e.g., column, instrument, and method).</p> <p> However, this method will boost false matches and needs strict manual interpretation.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#ccs-tolerance","title":"CCS tolerance","text":"<p>The collision cross-section (CCS) tolerance can be used in a similar way as the retention time tolerance.</p> <p>Accordingly, the CCS value of a query will be compared with the library entries and the maximum tolerance can be set in %.</p> <p> If the query or library entry was analyzed without ion mobility (no CCS values), no spectrum will be matched.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#13c-deisotoping","title":"<sup>13</sup>C deisotoping","text":"<p>This option allows to remove potential <sup>13</sup>C isotope signals in the experimental spectrum before the library search. It can be enabled when co-isolation of precursor\u2019s <sup>13</sup>C isotopes is expected during MS2 data acquisition (e.g., isolation window &gt; 1 Da). Following parameters can be set:</p> <ul> <li> <p>m/z tolerance: Maximum allowed difference between the measured and predicted isotope m/z values. The absolute (in m/z) and relative (in ppm) m/z tolerance can be set, whereas the maximum tolerance for each m/z value is applied.</p> </li> <li> <p>Monotonic shape: If enabled, the monotonically decreasing height of isotope pattern is required.</p> </li> <li> <p>Maximum charge: The maximum charge that will be considered for detecting the isotope pattern. For singly charged ions, the <sup>13</sup>C isotope will be expected +1 whereas for doubly charged ions it will be +0.5 (+1 m/z divided by the charge 2). </p> </li> </ul>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#min-matched-isotope-signals","title":"Min matched isotope signals","text":"<p>This option can be used to set a minimum number of matched <sup>13</sup> isotopes signals. It is only useful if the query AND library entries contain isotope patterns (e.g., in MS<sup>1</sup> or with wider precursor isolation  windows). </p> <p>The minimum number of matched signals of <sup>13</sup>C isotopes. </p> <p> It cannot be applied when <sup>13</sup>C deisotoping is enabled.</p>"},{"location":"module_docs/id_spectral_library_search/spectral_library_search.html#crop-spectra-to-mz-overlap","title":"Crop spectra to m/z overlap","text":"<p>This option can be used to consider only the mass range where both the experimental and library spectra exhibit m/z signals. All other signals are ignored during the matching. For example, if query and library scans were acquired with different methods, e.g., mass range, fragmentation energy or mode, it can be helpful to crop the spectra to their overlapping m/z range (+ m/z tolerance).  This is done by using the maximum m/z range where both spectra contain signals. However, this tends to return more false positive matches. Therefore, we recommend extra curation of the matching results when this option is enabled.</p> <p>Ansgar Korf, Robin Schmid, Steffen Heuckeroth, corinnabrungs, corinnabrungs, omokshyna</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html","title":"Image builder","text":""},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#description","title":"Description","text":"<p> Feature detection \u2192 Imaging \u2192 Image builder</p> <p>The image builder will create ion image features from mass spectrometry (MS) imaging raw data. Similar to the LC-MS feature detection, a feature list will be produced, containing images for every detected m/z.</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#parameters","title":"Parameters","text":""},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#scan-filters","title":"Scan filters","text":"<p>Sets the scans to be used for image generation. The default is MS level = 1 without additional filtering.</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#mz-tolerance-scan-to-scan","title":"m/z tolerance (scan-to-scan)","text":"<p>Defines the fluctuation of an individual m/z peak in between scans. For TOF instruments, 0.005 m/z or 20 ppm is a good starting point, while Orbitraps or FT-ICRs can achieve narrower signals depending on the set resolution.</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#minimum-absolute-height","title":"Minimum absolute height","text":"<p>The minimum intensity an ion image feature must have in at least one point to be considered and retained in the final feature list.</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#minimum-total-signals","title":"Minimum total signals","text":"<p>The minimum amount of pixels, an ion image must be detected in. Consider your total image pixel size when setting this parameter.</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#minimum-consecutive-signals","title":"Minimum consecutive signals","text":"<p>The minimum consecutive signals for an ion image feature to be detected.</p>"},{"location":"module_docs/imaging_featdet/featdet_image_builder/image-builder.html#suffix","title":"Suffix","text":"<p>The suffix for the created feature list.</p> <p>Steffen Heuckeroth</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html","title":"Data export to other software","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#gnps-fbmniimn-export","title":"GNPS-FBMN/IIMN export","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#description","title":"Description","text":"<p> Feature list methods \u2192 Export feature lists \u2192 GNPS - feature based molecular networking.</p> <p>This module connects MZmine feature finding results to the GNPS workflows for Feature-based Molecular Networking (FBMN) and Ion Identity Molecular Networking (IIMN).</p> <p></p> <p>Using this module, the user can export the feature list needed for the manual submission to GNPS' feature based molecular networking (GNPS FBMN) or directly submit the job to the GNPS platform from MZmine. In both cases, two files are created:</p> <ol> <li>Quantification table (CSV file) which contains the features and their associated information (e.g., average m/z, retention time, and each feature's area or height).</li> <li>MS/MS spectral summary (.MGF file) which contains one representative MS/MS spectrum for each row in the feature list.</li> <li>A supplementary edges file with related ion identities (if ion identity networking was performed).</li> </ol>"},{"location":"module_docs/io/data-exchange-with-other-software.html#references","title":"References","text":"<p>IIMN: Schmid R., Petras D., Nothias LF, et al. Ion Identity Molecular Networking for mass spectrometry-based metabolomics in the GNPS Environment. Nat. Comm. 12, 3832 (2021).</p> <p>FBMN: Nothias, L.-F., Petras, D., Schmid, R. et al. Feature-based molecular networking in the GNPS analysis environment. Nat. Methods 17, 905\u2013908 (2020).</p> <p>GNPS: Wang, M. et al. Sharing and community curation of mass spectrometry data with Global Natural Products Social Molecular Networking. Nat. Biotechnol. 34, 828\u2013837 (2016).</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#parameters","title":"Parameters","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#filename","title":"Filename","text":"<p>Name to be given to the output files (.MGF and .CSV). In this field, the user can either write the path where they want to save the file, or click \"select\", navigate into the desired output folder, write the output name in the \"file name\" field and click save. Once that is done, the path should be visible in the Filename field in the GNPS export module.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#merge-msms-experimental","title":"Merge MS/MS (experimental)","text":"<p>If checked, high quality MS/MS spectra that correspond to one feature are merged, instead of exporting only the most intense MS/MS spectrum. See MS/MS merger for additional information.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#filter-rows","title":"Filter rows","text":"<p>In the final output files, the user can select to export all the rows without any filters applied, rows only with MS/MS spectra, rows with MS/MS and Ion Identity (it gives MS/MS and the adduct information) and rows with MS/MS or Ion Identity. Normally, for FBMN you want to retain features with MS/MS spectra.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#feature-intensity","title":"Feature intensity","text":"<p>The user can either select peak area or peak height which will then be displayed in the quantification table.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#csv-export","title":"CSV export","text":"<p>The user can choose between simple, comprehensive, or all. Difference is in the amount of information that is present in the quantification table. Simple resembles the legacy format from the MZmine 2 export. Both options can be used for FBMN in GNPS other tools might rely on the simple MZmine 2 style output.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#submit-to-gnps","title":"Submit to GNPS","text":"<p>This option allows any user to directly submit FBMN/IIMN jobs to GNPS. The password and user name are optional and are sent without encryption (until the server has moved to its final location with https). The input files uploaded to GNPS with the \"Submit to GNPS\" option are not saved on your GNPS user account. These files are deleted on monthly basis, which prevent future cloning of the job and retrieval of the files. Use the \"standard\" interface of FBMN for persistant jobs and more options. Or log into your GNPS account and click on Clone to latest version for a job submitted via direct interface.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#open-folder","title":"Open folder","text":"<p>Opens the export folder.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#gnps-gc-ms-with-adap","title":"GNPS GC-MS (with ADAP)","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#description_1","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 Export to GNPS GC-MS (with ADAP)</p> <p>Warning</p> <p>This module should be run on aligned feature list after applying one of the spectral deconvolution methods (see ADAP manual).</p> <p>The GNPS GC-MS module exports all files needed for the GC-MS workflow on the GNPS web platform. This includes the feature quantification table (CSV file) and the spectral summary (.MGF file) with representative clustered GC-EI-MS spectra for the row in an (aligned) feature list.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#references_1","title":"References","text":"<p>Quote</p> <ol> <li>Smirnov et al.: J. Proteome Res 2017, DOI: 10.1021/acs.jproteome.7b00633 </li> <li>Wang et al.: Nature Biotechnology 34.8 (2016): 828-837.</li> <li>Pluskal et al.: BMC Bioinformatics, 11, 395 (2010)</li> </ol>"},{"location":"module_docs/io/data-exchange-with-other-software.html#parameters_1","title":"Parameters","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#feature-lists","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#filename_1","title":"Filename","text":"<p>Base name for the output files</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#representative-mz","title":"Representative m/z","text":"<p>The m/z value that is exported to the mgf and used in GNPS GC-MS. Options:  - As in feature table,  - highest m/z,  - heighest intensity.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#feature-intensity_1","title":"Feature intensity","text":"<p>Intensity in the quantification table (csv file). Available options are: - Peak area, - Peak height.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#open-folder_1","title":"Open folder","text":"<p>Optional parameter</p> <p>Opens the folder containing the output files.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#sirius-csi-fingerid","title":"SIRIUS/ CSI-FingerID","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#description_2","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 SIRIUS / CSI-FingerID</p> <p>The module allows the export of spectral features to Sirius from a selected feature list or an aligned feature list in .MGF format. The generated .MGF file can be directly processed with Sirius (version 3.4 minimum). </p> <p>Sirius uses both the deconvoluted isotopic pattern for each feature and the corresponding MS2 spectrum to rank molecular formula candidates. Spectral features exported consist of a pair of MS1 and MS2 spectrum for each row. Note that the MS1 spectrum can contain the deconvoluted isotopic peaks. </p> <p>Warning</p> <p>A masslist with mass detection performs on MS level 2 has to be generated first and selected.</p> <p>This module can be used in combination with the Export for GNPS module and imported back into GNPS molecular networks. Please refer to the following documentation for a detailed tutorial:</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#references_2","title":"References","text":"<p>Quote</p> <ol> <li>MZmine2 paper: Pluskal et al.: BMC Bioinformatics, 11, 395 (2010)</li> <li>K. D\u00fchrkop, et al. \u201cSirius 4: a rapid tool for turning tandem mass spectra into metabolite structure information\u201d, Nat methods, 2019.</li> </ol>"},{"location":"module_docs/io/data-exchange-with-other-software.html#instructions","title":"Instructions","text":"<p>Before using the module, perform the following:</p> <ul> <li>Deconvolute isotopic peaks:      Feature list methods \u2192  Isotopes \u2192 13C isotope filter</li> <li>Filter out peak without MS/MS spectrum associated.      MZmine2 Menu: Peak list methods / Filtering / Peak list row filter / Keep only peaks with MS2 scan (GNPS)</li> <li>Reset the peak number ID.      MZmine2 Menu: Peak list methods / Filtering / Peak list row filter / Reset the peak number ID</li> <li>Perform mass detection on MS level 2 and select.      MZmine2 Menu: Raw data methods / Mass detection   [Make sure to use a noise threshold consistent with the MS level 2]</li> </ul>"},{"location":"module_docs/io/data-exchange-with-other-software.html#parameters_2","title":"Parameters","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#feature-lists_1","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#filename_2","title":"Filename","text":"<p>Base name for the output files</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#merge-msms","title":"Merge MS/MS","text":"<p>Merge high qualitative MS/MS into one spectrum instead of exporting all MS/MS separately.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#mz-tolerance","title":"m/z tolerance","text":"<p>m/z tolerance to exclude duplicates in correlated spectrum.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#renumber-ids","title":"Renumber IDs","text":"<p>Optional parameter</p> <p>Resets the IDs (uses the row ID otherwise).</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#only-rows-with-annotation","title":"Only rows with annotation","text":"<p>Optional parameter</p> <p>Only export rows with an annotation (run MS annotate or metaMScorrelate).</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#exclude-empty-msms-spectra","title":"Exclude empty MS/MS spectra","text":"<p>Optional parameter</p> <p>Do not export empty MS/MS spectra (only features with MS/MS spectrum with at least 1 signal are exported).</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#exclude-multiple-charge","title":"Exclude multiple charge","text":"<p>Optional parameter</p> <p>Do not export multiply charged rows.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#exclude-multimers","title":"Exclude multimers","text":"<p>Optional parameters</p> <p>Do not export rows that were annotated as multimers (2M) (run MS annotate or metaMScorrelate).</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#metaboanalyst-export","title":"MetaboAnalyst export","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#description_3","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 MetaboAnalyst export</p> <p>This module exports the contents of the peak list into a csv file formatted. This csv file can be easily uploaded into the Statistical Analysis module of the MetaboAnalyst service. </p> <p>Warning</p> <p>Prior to export, samples must be separated into groups by a user-defined parameter (see  Project \u2192  Set sample parameters menu). Each group must contain at least 3 samples (raw data files).</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#format-of-exported-csv-file","title":"Format of exported CSV file","text":"<p>The exported file is formatted as shown below. Each feature is represented by its ID in the feature list, m/z value (formatted according to MZmine configuration), retention time value (formatted according to MZmine configuration), and the preferred identity (name).</p> <pre><code> \"Sample\",\"ko15\",\"ko16\",\"ko18\",\"ko19\",\"ko21\",\"ko22\",\"wt15\",\"wt16\",\"wt18\",\"wt19\",\"wt21\",\"wt22\"\n \"Label\",\"KO\",\"KO\",\"KO\",\"KO\",\"KO\",\"KO\",\"WT\",\"WT\",\"WT\",\"WT\",\"WT\",\"WT\"\n \"1:258.110@13.4 (name1)\",147887.53,451600.71,65290.38,56540.93,85146.33,162012.44,175177.08,82619.48,51951.61,69198.22,153273.47,98144.28\n \"2:137.045@9.4 (name2)\",1778569,1567038,1482796,1039130,1223132,1072038,1950287,1466781,1572679,1275313,1356014,1231442\n \"4:184.0733@13.7 (name4\",237993.6,269714,201393.4,150107.3,176989.7,156797,276541.8,222366.2,211717.7,186850.9,188285.9,172348.8\n ...\n</code></pre>"},{"location":"module_docs/io/data-exchange-with-other-software.html#parameters_3","title":"Parameters","text":""},{"location":"module_docs/io/data-exchange-with-other-software.html#filename_3","title":"Filename","text":"<p>Name of exported CSV file for MetaboAnalyst. If the file already exists, it will be overwritten.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#grouping-parameter","title":"Grouping parameter","text":"<p>Project parameter that will be used to obtain group information to each sample (e.g. control vs disease). Please set parameters in the Project/Set sample parameters menu.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#uploading-to-metaboanalyst","title":"Uploading to MetaboAnalyst","text":"<p>In MetaboAnalyst, please select the Statistical Analysis module.</p> <p>After selecting the Statistical Analysis module, please set the parameters as shown below. In the \"Data File\" field, please select the CSV file generated by this MZmine module.</p> <p></p> <p>For details about MetaboAnalyst functions and capabilities, please refer to its documentation.</p>"},{"location":"module_docs/io/data-exchange-with-other-software.html#tidymass","title":"Tidymass","text":"<p>Tidymass can import the csv feature table from MZmine, using <code>convert_mzmine2mass_dataset</code> function. For more details see Tidymass tutorial.</p> <p>Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/io/data-export.html","title":"Data export","text":""},{"location":"module_docs/io/data-export.html#description","title":"Description","text":"<p> Export scans - Spectra/mass list to mgf, txt, msp and mzML export</p> <p>This module exports scans or mass lists. MZmine allows several types of data export:</p> <ul> <li>to *.mzML,</li> <li>to *.netCDF,</li> <li>spectra/mass list to mgf, txt, msp and mzML export,</li> <li>MS(n) trees export.</li> </ul>"},{"location":"module_docs/io/data-export.html#parameters","title":"Parameters","text":""},{"location":"module_docs/io/data-export.html#raw-data-files","title":"Raw data files","text":"<p>One or more raw data files that contain the scans/mass lists</p>"},{"location":"module_docs/io/data-export.html#optional-mass-list","title":"Optional mass list","text":"<p>If checked, mass lists are exported instead of raw scans</p>"},{"location":"module_docs/io/data-export.html#file","title":"File","text":"<p>The destination</p>"},{"location":"module_docs/io/data-export.html#format","title":"Format","text":"<ul> <li> <p>mgf: MASCOT generic format - useful for SIRIUS</p> </li> <li> <p>txt: Plain text format</p> </li> <li> <p>msp: NIST search format</p> </li> <li> <p>mzML: Open format standard for MS data</p> </li> </ul> <p>omokshyna</p>"},{"location":"module_docs/io/data-import.html","title":"Data import","text":"<p>You can simply drag &amp; drop the raw data into the MS data files tab of the main window. Alternatively, you can use the Import MS data module.</p> <p></p> <p>Info</p> <p>mzmine can use MSConvert for raw data conversion automatically. Make sure to setup the MSConvert installation path in the mzmine preferences.</p> <p></p>"},{"location":"module_docs/io/data-import.html#ms-data","title":"MS data","text":""},{"location":"module_docs/io/data-import.html#description","title":"Description","text":"<p>Raw data can be imported via  Raw data methods \u2192 Import MS data.</p> <p></p>"},{"location":"module_docs/io/data-import.html#file-names","title":"File names","text":"<p>Click Select files or choose the preferred data format (All.) and browse the desired directory. All data files stored therein will be imported. The enabled option in sub folders* searches all files in the whole subdirectory tree.</p>"},{"location":"module_docs/io/data-import.html#advanced-import","title":"Advanced import","text":""},{"location":"module_docs/io/data-import.html#scan-filter","title":"Scan filter","text":"<p>You can set up the scan filter to reduce the overall data. Options include e.g. polarity, or retention time range.</p>"},{"location":"module_docs/io/data-import.html#crop-ms1-mz","title":"Crop MS1 m/z","text":"<p>You can filter for a specified m/z range.</p>"},{"location":"module_docs/io/data-import.html#ms1-detector-and-ms2-detector","title":"MS1 detector and MS2 detector","text":"<p>Tip</p> <p>When processing very large datasets (hundreds to thousands of data files), the mass detection can be run during the import. All signals below the specified noise level are not imported (altering the raw data on the import), thus saving memory and processing time.</p> <p>Set the mass detection parameters as described in the Mass detection section. </p> <p>Warning</p> <p>While it is slightly more efficient to do this during data import, only the processed data is stored and the unprocessed data is discarded. Only use this method if you have tested that the final results are the same, compared to splitting the data import and mass detection into two separate steps.</p> <p>Caution</p> <p>If you use a mzbatch file created by the mzwizard, make sure to remove the mass detection steps if you apply MS1 and MS2 detection during the import.</p>"},{"location":"module_docs/io/data-import.html#denormalize-fragment-scans-traps","title":"Denormalize fragment scans (traps)","text":"<p>This option denormalizes scans with MS level &gt; 1, acquired with trap instruments, including Orbitrap or trapped ion mobility spectrometry (TIMS). When enabled, each scan is multiplied with the injection time resulting in \"raw\" intensities. If the injection time is missing in the data file, the scans remain unprocessed. This option is encouraged before spectral merging to reduce the intensity differences between scans acquired with different injection times.</p>"},{"location":"module_docs/io/data-import.html#metadata-file","title":"Metadata file","text":"<p>Select this option,if you have a .csv of .tsv file with your metadata. If you need a template it is recommended to import all your raw data files into mzmine and then navigate to  Project \u2192 Sample metadata. Select the export button in the bottom toolbar. The Format mzmine internal is recommended.</p>"},{"location":"module_docs/io/data-import.html#sort-and-color","title":"Sort and color","text":"<p>Warning</p> <p>This option requires metadata</p> <p>If selected, the raw data will be colored based on sample_type, which covers blank, QC, and sample.</p>"},{"location":"module_docs/io/data-import.html#spectral-library-files","title":"Spectral library files","text":"<p>Select all spectral library files you want to import.</p> <p>Ansgar Korf, Steffen Heuckeroth, corinnabrungs, omokshyna</p>"},{"location":"module_docs/io/feat-list-export.html","title":"Feature list export modules","text":"<p>This section describes general format export modules. For the description of export modules for the specific software, please, refer to Data export to other software.</p> <p>// # TODO</p>"},{"location":"module_docs/io/feat-list-export.html#csv","title":"CSV","text":""},{"location":"module_docs/io/feat-list-export.html#description","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 CSV</p> <p>This module allows to export obtained feature lists to csv (comma-separated values) file format.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#field-separator","title":"Field separator","text":"<p>Character(s) used to separate fields in the exported file. \",\" by default.</p>"},{"location":"module_docs/io/feat-list-export.html#identification-separator","title":"Identification separator","text":"<p>Character(s) used to separate multi object columns in the exported file. \";\" by default.</p>"},{"location":"module_docs/io/feat-list-export.html#remove-empty-columns","title":"Remove empty columns","text":"<p>Optional parameter</p> <p>Removes empty columns during data export.</p>"},{"location":"module_docs/io/feat-list-export.html#filter-rows","title":"Filter rows","text":"<p>Allows user to export only those rows that have associated MS/MS data or are annotated. </p>"},{"location":"module_docs/io/feat-list-export.html#csv-legacy-mzmine-2","title":"CSV (legacy MZmine 2)","text":""},{"location":"module_docs/io/feat-list-export.html#description_1","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 CSV (legacy MZmine 2)</p> <p>This module is a legacy module from MZmine2 and, similarly to the previously described module, exports the contents of the feature list(s) into a csv file, which can later be processed by MS Excel or other tools. The produced CSV files cannot be imported back to MZmine. Missing values such as heights and areas of undetected features are exported as 0.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_1","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#filename","title":"Filename","text":"<p>Name of file where the exported data is saved</p>"},{"location":"module_docs/io/feat-list-export.html#field-separator_1","title":"Field separator","text":"<p>Columns in the new CSV file will be separated by this character (coma by default)</p>"},{"location":"module_docs/io/feat-list-export.html#export-common-elements","title":"Export common elements","text":"<p>Which row elements (such as row ID, row retention time, or best ion annotation) from the feature list will be exported </p>"},{"location":"module_docs/io/feat-list-export.html#export-data-file-elements","title":"Export data file elements","text":"<p>Which feature elements (such as feature status, name, or tailing factor) will be exported.</p>"},{"location":"module_docs/io/feat-list-export.html#export-quantitation-results-and-other-information","title":"Export quantitation results and other information","text":"<p>Optional parameter</p> <p>If checked, all feature-associated data will be exported.</p>"},{"location":"module_docs/io/feat-list-export.html#identification-separator_1","title":"Identification separator","text":"<p>Character to separate multiple identification results (if they are available) for a feature. </p>"},{"location":"module_docs/io/feat-list-export.html#filter-rows_1","title":"Filter rows","text":"<p>Allows user to export only those rows that have associated MS/MS data or are annotated. </p>"},{"location":"module_docs/io/feat-list-export.html#export-all-annotations-to-csv","title":"Export all annotations to CSV","text":""},{"location":"module_docs/io/feat-list-export.html#description_2","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 Export compound annotations to csv</p> <p>Export all annotations from spectral library matching, local compound DB CSV matching, and others.  </p>"},{"location":"module_docs/io/feat-list-export.html#parameters_2","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#filename_1","title":"Filename","text":"<p>Base file name of all annotation file (Use {} to fill in the feature list name when exporting multiple feature lists at once).</p>"},{"location":"module_docs/io/feat-list-export.html#top-n-per-method","title":"Top N per method","text":"<p>Export the top N annotations per annoation method.</p>"},{"location":"module_docs/io/feat-list-export.html#venn-diagram-export","title":"Venn diagram export","text":""},{"location":"module_docs/io/feat-list-export.html#description_3","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 Venn diagram export</p> <p>Exports a feature list to a csv that can be plotted as a venn diagram by other software such as VennDis.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_3","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#directory","title":"Directory","text":"<p>Choose a directory to export the feature list to.</p>"},{"location":"module_docs/io/feat-list-export.html#export-gap-filled-as-detected","title":"Export gap filled as detected","text":"<p>Optional parameter</p> <p>If checked, gap filled features will be exported as detected, otherwise they will be marked as undetected.</p>"},{"location":"module_docs/io/feat-list-export.html#mztab-export","title":"mzTab export","text":""},{"location":"module_docs/io/feat-list-export.html#description_4","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 mzTab</p> <p>This module exports the contents of the feature list into a mzTab file, which can later be processed by other tools.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_4","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#feature-lists","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported.</p>"},{"location":"module_docs/io/feat-list-export.html#filename_2","title":"Filename","text":"<p>Name of file where the exported data is saved.</p>"},{"location":"module_docs/io/feat-list-export.html#include-all-peaks","title":"Include all peaks","text":"<p>Optional parameter</p> <p>If selected, the features with unknown identity will also be exported to the mzTab file.</p>"},{"location":"module_docs/io/feat-list-export.html#mztab-m-export","title":"mzTab-m export","text":""},{"location":"module_docs/io/feat-list-export.html#description_5","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 mzTab-m</p> <p>This module exports the contents of the feature list into a mzTab-m file, which can later be processed by other tools.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_5","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#feature-lists_1","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported</p>"},{"location":"module_docs/io/feat-list-export.html#filename_3","title":"Filename","text":"<p>Name of file where the exported data is saved</p>"},{"location":"module_docs/io/feat-list-export.html#include-all-peaks_1","title":"Include all peaks","text":"<p>Optional parameter</p> <p>If selected, the features with unknown identity will also be exported to the mzTab file.</p>"},{"location":"module_docs/io/feat-list-export.html#sql-export","title":"SQL export","text":""},{"location":"module_docs/io/feat-list-export.html#description_6","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 SQL database</p> <p>This module allows direct export of the feature lists into MySQL or PostgreSQL database servers. If you would like to use another database then please add its JDBC driver (jar file) to the MZmine lib/ folder.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_6","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#feature-lists_2","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported</p>"},{"location":"module_docs/io/feat-list-export.html#jdbc-connection-string","title":"JDBC connection string","text":"<p>Identification of the database according to the JDBC standard. For example:</p> <pre><code>jdbc:mysql://localhost/dbname?dbname=sqluser&amp;password=sqluserpw\n</code></pre>"},{"location":"module_docs/io/feat-list-export.html#database-table","title":"Database table","text":"<p>Name of the table, into which data will be exported.</p>"},{"location":"module_docs/io/feat-list-export.html#export-columns","title":"Export columns","text":"<p>The mapping between the database table columns (\u201cTable column\u201d) and MZmine data types (\u201cExport data type\u201d). For some data types an additional value (\u201cExport value\u201d) must be specified, such as for the \u201cConstant value\u201d type.</p>"},{"location":"module_docs/io/feat-list-export.html#export-empty-feature-list","title":"Export empty feature list","text":"<p>Optional parameter</p> <p>If selected, an empty feature list will be exported. All columns, other than raw data file and constants, will be assigned null values.</p>"},{"location":"module_docs/io/feat-list-export.html#msp-export","title":"MSP Export","text":""},{"location":"module_docs/io/feat-list-export.html#description_7","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 MSP file (ADAP)</p> <p>This module exports fragmentation spectra of peaks in the feature list into MSP format file. In addition to the spectra, the following feature characteristics are saved into the file:</p> <ul> <li>Name      Name of the peak as displayed in the peak list</li> <li>DB#      Row number in the peak list</li> <li>RT       Optional      Retention time of a feature</li> <li>ANOVA_P_VALUE (optional)      P-value calculated by the module Data analysis -&gt; One-way ANOVA Test</li> <li>Num Peaks      Number of peaks in the spectrum </li> </ul>"},{"location":"module_docs/io/feat-list-export.html#parameters_7","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#feature-lists_3","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported</p>"},{"location":"module_docs/io/feat-list-export.html#filename_4","title":"Filename","text":"<p>Name of file where the exported data is saved</p>"},{"location":"module_docs/io/feat-list-export.html#add-retention-time","title":"Add retention time","text":"<p>If selected, each MSP record will contain feature's retention time.</p>"},{"location":"module_docs/io/feat-list-export.html#add-anova-p-value-if-calculated","title":"Add ANOVA p-value (if calculated)","text":"<p>If selected, each MSP record will contain the One-way ANOVA p-value if such p-value is present</p>"},{"location":"module_docs/io/feat-list-export.html#integer-mz","title":"Integer m/z","text":"<p>If selected, fractional m/z values will be rounded to the closest integer, and a new intensity will be calculated based on the merging mode:</p> <ul> <li>Maximum: new intensity is the maximum of merged intensities,</li> <li>Sum: new intensity is the sum of merged intensities.</li> </ul>"},{"location":"module_docs/io/feat-list-export.html#mgf-export","title":"MGF Export","text":""},{"location":"module_docs/io/feat-list-export.html#description_8","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 MGF file (ADAP)</p> <p>This module exports fragmentation spectra of features in the feature list into MGF (Mascot Generic Format) format file. </p>"},{"location":"module_docs/io/feat-list-export.html#parameters_8","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#feature-lists_4","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported</p>"},{"location":"module_docs/io/feat-list-export.html#filename_5","title":"Filename","text":"<p>Name of file where the exported data is saved</p>"},{"location":"module_docs/io/feat-list-export.html#representative-mz","title":"Representative m/z","text":"<p>Choose the reprezentative m/z values of a cluster. The available options are: - As in feature table, - Highest m/z, - Or maximum intensity.</p>"},{"location":"module_docs/io/feat-list-export.html#fractional-mz-values","title":"Fractional m/z values","text":"<p>Optional parameter</p> <p>If selected, fractional m/z values will be saved. If not, all fractional m/z values will be rounded to the closest integer.</p> <p>Warning</p> <p>In case of rounding to integer, the corresponding features will be merged.</p>"},{"location":"module_docs/io/feat-list-export.html#integer-mz_1","title":"Integer m/z","text":"<p>When features are merged, the resulting elution profile is calculated by one of the following rules: - Maximum. In the resulting elution profile, the intensity at retention time t is the maximum of the intensities at t across the merging elution profiles. - Sum. In the resulting elution profile, the intensity at retention time t is the sum of the intensities at t for all merging elution profiles.</p>"},{"location":"module_docs/io/feat-list-export.html#export-feature-network-to-csv","title":"Export feature network to csv","text":""},{"location":"module_docs/io/feat-list-export.html#description_9","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 Export feature network to csv</p> <p>Export results from correlation/MS annotation as networks to csv.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_9","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#filename_6","title":"Filename","text":"<p>Base file name of all edge files (Use {} to fill in the feature list name when exporting multiple feature lists at once).</p>"},{"location":"module_docs/io/feat-list-export.html#export-row-relationships","title":"Export row relationships","text":"<p>Optional parameter</p> <p>Export all relationships of different rows to files. The relationships that can be exported include: - MS1 feature correlation - Ion identity network - MS2 cosine similarity - MS2 neutral loss cosine similarity - MS2 modified cosine similarity (GNPS)</p>"},{"location":"module_docs/io/feat-list-export.html#combine-to-one-file","title":"Combine to one file","text":"<p>Optional parameter</p> <p>If chosen, all output is combined into one file. Otherwise, a separate file is exported per each relationship type.</p>"},{"location":"module_docs/io/feat-list-export.html#export-iin-edges","title":"Export IIN edges","text":"<p>Optional parameter</p> <p>Export all edges of Ion Identity Networks (IIN).</p>"},{"location":"module_docs/io/feat-list-export.html#export-iin-relationship-edges","title":"Export IIN relationship edges","text":"<p>Optional parameter</p> <p>Export relationships between Ion Identity Networks (IIN).</p>"},{"location":"module_docs/io/feat-list-export.html#filter-rows_2","title":"Filter rows","text":"<p>Limit the exported rows to those with MS/MS data and/or annotated rows. </p>"},{"location":"module_docs/io/feat-list-export.html#spectral-library-batch-generation","title":"Spectral library batch generation","text":""},{"location":"module_docs/io/feat-list-export.html#description_10","title":"Description","text":"<p> Feature list methods \u2192 Export feature list \u2192 Spectral library batch generation</p> <p>This module allows to generate spectral library using metadata sheet.</p>"},{"location":"module_docs/io/feat-list-export.html#parameters_10","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-export.html#feature-lists_5","title":"Feature lists","text":"<p>Name of the feature list(s) to be exported.</p>"},{"location":"module_docs/io/feat-list-export.html#export-file","title":"Export file","text":"<p>Name of a local library file where the exported data is saved.</p>"},{"location":"module_docs/io/feat-list-export.html#export-format","title":"Export format","text":"<p>File format for the export. Available options: - MZmine json (recommended), - And NIST msp.</p>"},{"location":"module_docs/io/feat-list-export.html#metadata","title":"Metadata","text":"<p>Metadata for all entries.</p>"},{"location":"module_docs/io/feat-list-export.html#metadata-setup","title":"Metadata setup","text":"<p>In this dialog user can setup all dataset-related data, including the decription, ID (either from MassIVE, MetaboLights, or Metabolomic Workbench), specifications of the instrument, information on researchers involved in the dataset creation, and ion mode.</p> <p></p>"},{"location":"module_docs/io/feat-list-export.html#mz-tolerance-merging","title":"m/z tolerance (merging)","text":"<p>Optional parameter</p> <p>The tolerance used to group signals during merging of spectra. If selected, spectra from different collision energies will be merged. </p>"},{"location":"module_docs/io/feat-list-export.html#handle-chimeric-spectra","title":"Handle chimeric spectra","text":"<p>Optional parameter </p> <p>Options to identify and handle chimeric spectra with multiple MS1 signals in the precursor ion selection.</p>"},{"location":"module_docs/io/feat-list-export.html#handle-chimeric-spectra-setup","title":"Handle chimeric spectra setup","text":"<p>This dialog allows to set parameters for handling chimeric spectra. The spectrum detected as chimeric will be flagged if this option is chosen.</p> <p></p>"},{"location":"module_docs/io/feat-list-export.html#quality-parameters","title":"Quality parameters","text":"<p>Quality parameters for MS/MS spectra to be exported to the library.</p>"},{"location":"module_docs/io/feat-list-export.html#quality-parameters-spectra-setup","title":"Quality parameters spectra setup","text":"<p>The following dialog allows to set the criteria for the MS/MS export to the library, such as minimum number of signals, percentage of explained signals or intensity, etc.</p> <p></p> <p>Robin Schmid, omokshyna</p>"},{"location":"module_docs/io/feat-list-import.html","title":"Feature list import modules","text":""},{"location":"module_docs/io/feat-list-import.html#mztab-import","title":"mzTab import","text":""},{"location":"module_docs/io/feat-list-import.html#description","title":"Description","text":"<p> Feature list methods \u2192 Import feature list \u2192 mzTab</p> <p>This module imports the contents of a mzTab file into a feature list. If links to raw data files are available in the mzTab file, these can automatically be imported together with the feature list.</p>"},{"location":"module_docs/io/feat-list-import.html#parameters","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-import.html#mztab-files","title":"mzTab files","text":"<p>Names of the files to be imported</p>"},{"location":"module_docs/io/feat-list-import.html#import-raw-data-files","title":"Import raw data files?","text":"<p>Optional parameter</p> <p>If selected, raw data files will also be imported (if they are available). </p> <p>If the raw data files are not available, empty raw data files will be generated by MZmine. </p> <p>Warning</p> <p>Please note that missing files may lead to issues with other modules that need access to the scan data.</p>"},{"location":"module_docs/io/feat-list-import.html#mztab-m-import","title":"mzTab-m import","text":""},{"location":"module_docs/io/feat-list-import.html#description_1","title":"Description","text":"<p> Feature list methods \u2192 Import feature list \u2192 mzTab</p> <p>This module is highly similar to the previous one and imports the contents of a mzTab-m file into a feature  list. If links to raw data files are available in the mzTab-m file, these can automatically be imported together with the feature list. </p> <p>The raw data import searches for the files in the location provided in the mzTab-m file. If the files are not present, the search continues in the same folder as that of mzTab-m file. If the files are still not found, the import module checks if the files are present in compressed form (.gz or .zip). If no files are found after that, the empty rawFiles are created in the end.</p>"},{"location":"module_docs/io/feat-list-import.html#parameters_1","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-import.html#mztab-m-files","title":"mzTab-m files","text":"<p>Names of mzTab-m files to be imported. </p>"},{"location":"module_docs/io/feat-list-import.html#import-raw-files-too","title":"Import raw files too?","text":"<p>Optional parameter</p> <p>If selected, raw data files will be imported if they are available. Files will be loaded from the msrun location defined in the mzTab-m file or from the folder containing the mzTab-m file. If the raw data files are not available, empty raw data files will be generated by MZmine. </p> <p>Warning</p> <p>Please note that missing files may lead to issues with other modules that need access to scan data.</p>"},{"location":"module_docs/io/feat-list-import.html#csv","title":"csv","text":""},{"location":"module_docs/io/feat-list-import.html#description_2","title":"Description","text":"<p> Feature list methods \u2192 Import feature list \u2192 csv</p> <p>This module imports features present from a csv file. </p> <p>Warning</p> <p>Imported csv file should follow a specific format described below.</p> <p>This kind of format can be obtained by using xcms library in R to detect features using Centwave algorithm on a mzXML file. </p> <p>The R code returns a list of features with following columns which can be exported to a csv file to be used as an import for this module. Column Numbering starts from 0, and 0th column is ignored.</p> Column Name Column No. peak_mz 1 mzMin 2 mzMax 3 peak_rt 4 rtMin 5 rtMax 6 maxO 9 <p>where peak_mz - feature m/z value, peak_rt - feature retention time value, max 0 - intensity value.</p> <p>Warning</p> <p>To use this module, a user has to input the raw data file, which was used to generate peakList from the R code. </p> <p>Example R code that generates the csv file</p> <pre><code>mzfile &lt;- system.file(\"standards.mzXML\")\nlibrary(xcms)\nmzraw &lt;- readMSData(files = mzfile, mode = \"onDisk\")\ncpw &lt;- CentWaveParam(ppm = 15, peakwidth = c(5,20), snthresh = 10)\nmzData &lt;- findChromPeaks(object = mzraw, param = cpw)\nfeaturelist &lt;- as.data.frame(xcms::chromPeaks(mzData))\nwrite.csv(featurelist, \"featureListFile.csv\")\n</code></pre>"},{"location":"module_docs/io/feat-list-import.html#references","title":"References","text":"<p>Quote</p> <ol> <li>Smith CA, Want EJ, O'Maille G, Abagyan R, Siuzdak G. XCMS: processing mass spectrometry data for metabolite profiling using nonlinear peak alignment, matching, and identification. Analytical chemistry. 2006 Feb 1;78(3):779-87. DOI: 10.1021/ac051437y</li> </ol>"},{"location":"module_docs/io/feat-list-import.html#parameters_2","title":"Parameters","text":""},{"location":"module_docs/io/feat-list-import.html#csv_1","title":"csv","text":"<p>CSV files in the desribed format to import</p>"},{"location":"module_docs/io/feat-list-import.html#raw-data-files","title":"Raw data files","text":"<p>Raw data files that were used to generate imported feature lists.</p> <p>omokshyna</p>"},{"location":"module_docs/io/merge_ms2_kai.html","title":"Merge MS/MS (experimental)","text":"<p>This option is available in the GNPS FBMN export and the SIRIUS export. If checked, high quality MS/MS spectra that correspond to one feature are merged, instead of exporting only the most intense MS/MS spectrum.</p>"},{"location":"module_docs/io/merge_ms2_kai.html#parameters","title":"Parameters","text":""},{"location":"module_docs/io/merge_ms2_kai.html#select-spectra-to-merge","title":"Select spectra to merge","text":"<p>The users can select to merge the MS/MS spectra:</p> <ol> <li>Across samples, which will merge all MS/MS spectra that belong to the same feature, and as such is the most convenient option.</li> <li>Same sample, which will merge MS/MS spectra for the same feature within one sample, and can be used if the user is not confident about the alignment algorithm.</li> <li>Consecutive scans, which will merge MS/MS spectra if they are triggered in a row.</li> </ol>"},{"location":"module_docs/io/merge_ms2_kai.html#mz-merge-mode","title":"m/z merge mode","text":"<p>This option allows you to select the way to merge the fragments' m/z values associated with a similar precursor value. \"Most intense\" will always pick the m/z of the best feature, which is a very safe and conservative option. However, \"weighted average (remove outliers)\" will often yield better result. </p>"},{"location":"module_docs/io/merge_ms2_kai.html#intensity-merge-mode","title":"Intensity merge mode","text":"<p>Options on how to merge the intensity values of features from different spectra with similar mass.</p> <ul> <li>Sum intensities is a convenient option that will increase the intensities of feature that occur consistently in many fragment scans. However, this will make intensities between merged and unmerged spectra incomparable. </li> <li>Use max intensity to preserve intensity values</li> </ul>"},{"location":"module_docs/io/merge_ms2_kai.html#expected-mass-deviation","title":"Expected mass deviation","text":"<p>Expected mass deviation between different spectra of the same feature of your measurement in ppm (parts per million) or Da(larger value is used). We reccommend to use a rather large values, e.g. 10ppm for Orbitrap, 15 ppm for Q-ToF, 100 ppm for QQQ.</p>"},{"location":"module_docs/io/merge_ms2_kai.html#cosine-treshold","title":"Cosine treshold","text":"<p>Treshold of cosine similarity between spectra that needs to be met in order for two spectra to be merged. In case they have different collision energies, cosine treshold should be set to 0, since different collision energies will result in different fragmentation pattern.</p>"},{"location":"module_docs/io/merge_ms2_kai.html#signal-count-treshold","title":"Signal count treshold","text":"<p>After merging the spectra, signals that occur in less than the user specified % of the merged spectra will be removed.</p>"},{"location":"module_docs/io/merge_ms2_kai.html#isolation-window-offset-mz","title":"Isolation window offset (m/z)","text":"<p>Isolation window offset from the precursor m/z.</p>"},{"location":"module_docs/io/merge_ms2_kai.html#isolation-window-width-mz","title":"Isolation window width (m/z)","text":"<p>Width of the isolation window (left and right).  </p> <p>omokshyna</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html","title":"Batch spectral library generation","text":"<p> Feature list methods \u2192 Export feature list \u2192 Spectral library batch generation </p> <p>After matching with a compound database table, only annotated spectra are exported with this module. This enables the automatic generation of mass spectral libraries with different data format provided. Different quality parameters and how to handle chimeric spectra can be set to increase the  spectral quality in the new spectral library and to flag chimeric spectra. Furthermore, different information about the acquired data can be added, for example, instrument, who acquired the data,...  Single best spectra but also merged spectra are exported (same energy, multiple collision energies, or multistep fragmentation)</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#parameters","title":"Parameters","text":""},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#export-file","title":"Export file","text":"<p>The path and name of the exported library spectra.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#export-format","title":"Export format","text":"<p>Here, you can set the export format. It mostly depends on your next steps and where to import the  library. Every format works, but we recommend the .json format.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#ms-level-filter","title":"MS level filter","text":"<p>If data were acquired with multistep fragmentation, the MS2 or all MSn data can be exported individually. If you only acquired MS2 data or want to export MSn, the setting can remain MSn</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#metadata","title":"Metadata","text":"<p>Various information about the acquired data can be stored her. For example, who acquired the data,  which instrument was used, ect. On the description information about the compounds or library can be given. The Ion mode is only need, when the polarity is not safed in the data files. </p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#mz-tolerance-merging","title":"m/z tolerance (merging)","text":"<p>This is the m/z tolerance for grouping signals acquired by same or different collision energies or  fragmentation steps and to merge those spectra. For multistep fragmentation, pseudo MS2 spectra are generated that can be used for other tools that can handle MS2 data only. The merging information is stored in the corresponding  spectra as SPECTYPE: - SAME_ENERGY (multiple scans with same settings for same precursor) - ALL_ENERGIES (similar to stepped collision energy, when multiple energies are combined   into one scan during data acquisition) - ALL_MSN_TO_PSEUDO_MS2</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#handle-chimeric-spectra","title":"Handle chimeric spectra","text":"<p>This option checks the MS1 scans for chimeric precursor selection. A minimum for this purity can be set and how to handle chimeric spectra. </p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#target-ion-mz-tolerance","title":"Target ion m/z tolerance","text":"<p>This is the mass tolerance for the precursor signal. The tolerance is usually smaller than the precursor isolation window and depends on the accuracy and resolution of the instrument.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#precursor-mz-isolation-tolerance","title":"Precursor m/z isolation tolerance","text":"<p>This should be the set precursor isolation window, to check for co-isolated signals in this mass  window. Be aware, that some QTOF instruments have a wider isolation window than a unit, resulting in co-isolation of isotope signals.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#minimum-precursor-purity","title":"Minimum precursor purity","text":"<p>MS1 spectra with a precursor signal explaining less then X% of the total signal intensity within  the set precursor isolation window will be flagged as chimeric.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#chimeric-spectra","title":"Chimeric spectra","text":"<p>Here, spectra that are flagged as chimeric can be skipped or flagged. We suggest that flagging is a better option, as the flagging state will be exported and can be removed afterwards as it contains still information about the precursor ion. But matches need to be inspected carefully.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#quality-parameters","title":"Quality Parameters","text":"<p>Quality parameter can be set before exporting the spectra. Only spectra that fullfil those criteria will be exported.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#minimum-number-of-signals","title":"Minimum number of signals","text":"<p>Number of signals an MSn scan must contain to be exported. Depends also on the fragmentation pattern of the compounds (very rich pattern, more signals, less informative spectra less signals). At least 3 signals might be a good compromise if the compounds show a very different fragmentation behavior.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#minimum-explained-signals","title":"**Minimum explained signals (%)","text":"<p>The number of explained signals within the MSn scan based on a subformula level, without taking the chemical structure into account.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#minimum-explained-intensity","title":"**Minimum explained intensity (%)","text":"<p>The minimum number of the explained spectra intensity. This increases the value of more abundant signals that should be explained in a fragmentation spectrum based on the subformula level for an  annotated compound. Low abundant signals can correspond to unfiltered noise, ect. and shouldn't be taken into account in the same way as high abundant signals. Therefore, we recommend this setting before the explained signal one.</p>"},{"location":"module_docs/io_spectral_library_export/spectral_library_generation.html#formula-mz-tolerance","title":"Formula m/z tolerance","text":"<p>This is the m/z tolerance to assign MSn signals to a subformula.</p> <p>corinnabrungs</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html","title":"IMS Expander","text":""},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#description","title":"Description","text":"<p> Feature detection \u2192 LC-IMS-MS \u2192 IMS expander.</p> <p>The IMS expander searches for data points in mobility scans for existing features. </p> <p> This requires prior chromatogram building (see ADAP Chromatogram builder and resolving in retention time dimension (see Resolving).</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#parameters","title":"Parameters","text":""},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#mz-tolerance","title":"m/z tolerance","text":"<p>If selected, a tolerance will be applied to the feature's detected m/z while searching for data points in mobility dimension. Otherwise, the accepted m/z range is determined by the feature's m/z distribution in accumulated frame spectra. Recommended setting: selected, 0.003 m/z and 15 ppm</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#raw-data-instead-of-thresholded","title":"Raw data instead of thresholded","text":"<p>Enables searching in mobility scan raw data instead of the thresholded (=mass detected) data. Only possible for centroid raw data files.</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#override-default-mobility-bin-width-scans","title":"Override default mobility bin width (scans)","text":"<p>If selected, the default number of binned mobility scans can be overriden. Useful for data with high mobility resolution. </p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ims_expander/ims-expander.html#binned-mobilogram-example","title":"Binned mobilogram example","text":"<p>Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html","title":"Ion mobility trace builder","text":""},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#description","title":"Description","text":"<p> Feature detection \u2192 LC-IMS-MS \u2192 Ion mobility trace builder.</p> <p>The Ion mobility trace builder will build ion mobility traces from the raw data. Alternatively, the Recursive IMS builder can be used, which requires less RAM but takes longer.</p> <p></p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#parameters","title":"Parameters","text":""},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#scan-selection","title":"Scan selection","text":"<p>The scan selection parameter specifies the scans that shall be processed for feature detection. Usually, setting the ms level to 1 is sufficient. If a calibration segment is present, it can be cut out via the retention time filter in the scan selection.</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#mz-tolerance","title":"m/z tolerance","text":"<p>The m/z tolerance specifies the scan-to-scan tolerance for ion mobility traces. This tolerance window may need to be set higher that for classic LC-MS feature detection (e.g. to 0.005 m/z and 15-20 ppm instead of 10 ppm) due to lower intensities therefore less accuracy in individual mobility scans compared to LC-MS scans. Note that the overall accuracy is achieved via LC-IMS-MS is the same due to the higher number of scans.</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#minimum-consecutive-retention-time-data-points","title":"Minimum consecutive retention time data points","text":"<p>This parameter specifies the number of consecutive detections of the same m/z value in a chromatographic peak (rt dimension only). This means that a single m/z has to be detected in, e.g, 5 frames with an intensity higher than zero. This parameter helps to filter noise. Consecutive detections in the mobility dimension do not affect this parameter. Usually no less than 5 should be set here if the MS1 acquisition rate is sufficient.</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#minimum-total-signals","title":"Minimum total signals","text":"<p>Specifies the total number of peaks in the mobility dimension in all mobility scans. Every \"dot\" in an ion mobility trace represents a single datapoint. </p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#advanced-parameters","title":"Advanced parameters","text":"<p> For most applications, these parameters do not need to set/altered. </p> <p>For high mobility resolved data the mobilograms might become noisy due to a fewer ions reaching the detector at the same time. By default, the number of binned scans is set to cover about 0.0008 Vs/cm^2 per bin. The effect of binning can be seen here. If you are unsure about the nature of your data, you can perform trace building with the standard parameters and apply/preview the binning afterwards via the Feature detection \u2192 Mobilogram binning module.</p> <p>Override default TIMS binning width (Vs/cm\u00b2)</p> <p>The binning width in mobility units of the selected raw data file.</p> <p>Travelling wave binning width (ms)</p> <p>The binning width in mobility units of the selected raw data file.</p> <p>Drift tube binning width (ms)</p> <p>The binning width in mobility units of the selected raw data file.</p>"},{"location":"module_docs/lc-ims-ms_featdet/featdet_ion_mobility_trace_builder/ion-mobility-trace-builder.html#processing-result","title":"Processing result","text":"<p>After performing ion mobiltiy trace detection, a feature list is created in the feature list tab (see feature lists tab). In the feature table, multiple columns are created. The displayed columns can be set via the button on the right of the feature table ([1]).</p> <p></p> <p>The shapes displays an EIC of the ion mobility trace (intensities summed in rt dimension). The mobilograms column shows a mobilogram for the ion mobility trace (intensities summed in mobility dimension). The shapes and projections can be smoothed and resolved. However, the ion mobility trace is always represented by the raw data and remains unaltered. After resolving, the shapes and mobilograms have to be recalculated from the raw data, which is why the smoothing is lost after resolving.</p> <p>Steffen Heuckeroth, omokshyna</p>"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html","title":"Recursive IMS builder","text":""},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#description","title":"Description","text":"<p> Feature detection \u2192 LC-IMS-MS \u2192 Recursive IMS builder.</p> <p>Builds m/z traces for ion mobility spectrometry data.</p>"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#parameters","title":"Parameters","text":""},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#mz-tolerance","title":"m/z tolerance","text":"<p>The m/z tolerance to build ion traces. The tolerance is specified as a +- tolerance. </p> <p>m/z 500.000 with a tolerance of 0.01 will allow m/z change from 499.99 to 501.01.</p>"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#minimum-consecutive-retention-time-data-points","title":"Minimum consecutive retention time data points","text":"<p>The minimum number of consecutive detections in frames (retention time dimension).</p>"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#minimum-number-of-data-points","title":"Minimum number of data points","text":"<p>The minimum number of consecutive detections in frames (retention time dimension).</p>"},{"location":"module_docs/lc-ims-ms_featdet/recursive_ims_builder/recursive-ims-builder.html#advanced-parameters","title":"Advanced parameters","text":"<p>Allows adjustment of internal binning parameters for mobilograms. The default values are set to 1.</p> <p>Override default TIMS binning width (Vs/cm\u00b2)</p> <p>The binning width in mobility units of the selected raw data file.</p> <p>Travelling wave binning width (ms)</p> <p>The binning width in mobility units of the selected raw data file.</p> <p>Drift tube binning width (ms)</p> <p>The binning width in mobility units of the selected raw data file.</p> <p>omokshyna</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html","title":"ADAP chromatogram builder","text":""},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#description","title":"Description","text":"<p> Feature detection \u2192 LC-MS \u2192 ADAP chromatogram builder</p> <p></p> <p>The ADAP chromatogram builder module is one of the LC-MS feature detection algorithms provided by MZmine 3. The module essentially builds an EIC for each m/z value that was detected over a minimum number of consecutive scans in the LC-MS run. Each data file is processed individually. The mass list associated to each MS1 scan in a data file (see Mass detection module) are taken as input and a feature list is returned as output. Since a mass list must be available, the Mass detection module must be run first.</p> <p>The ADAP chromatogram builder algorithm operates as follows:</p> <ul> <li>Only MS1 scans are processed. </li> <li>All the data points are extracted from all the MS1 scans in a data file and sorted in order of decreasing intensity. </li> <li>The processing starts from the most intense data point. Since no EICs have yet been created, a new EIC is initialized and associated to the corresponding m/z value.</li> <li>The processing proceeds with the second-highest data point. The corresponding m/z is checked to determine if it \"belongs\" to the existing EIC (based on the user-defined tolerance, i.e. \"Scan to scan accuracy (m/z)\" parameter). </li> <li>If yes, then the data point is added to the EIC and the EIC-associated m/z is updated. Otherwise, a new EIC is initialized.</li> <li>The process repeats iteratively until all the data points have been processed and a set of EICs has been created. </li> <li>Finally, the EICs are checked according to the user-defined parameters (i.e. minimum number of data points and intensity). The EICs matching the requirements are retained in the feature list, whereas the rest are discarded. </li> </ul> <p>The so-built EICs can then be resolved into individual features by one of the deconvolution algorithms provided by MZmine 3 (e.g. Local minimum resolver module).</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#parameters","title":"Parameters","text":""},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#raw-data-files","title":"Raw data files","text":"<p>Select the input raw data files for chromatogram building. Mass lists associated with the data files will be automatically selected. See option descriptions in Mass detection module.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#scans","title":"Scans","text":"<p>Select (or filter out) the MS scans to be processed. Although setting the MS level = 1 is usually sufficient for this module, several filters are available (see option descriptions in Mass detection module). For example, specific RT ranges (e.g. dead volume, equilibration time, calibration segments, etc.) can be excluded from the processing by setting the corresponding filter.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#min-group-size-in-number-of-scans","title":"Min group size in number of scans","text":"<p>Minimum number of consecutive MS1 scans where a m/z must be detected with a non-zero intensity in order for the corresponding EICs to be considered valid and retained in the feature list.</p> <p> This parameter largely depends on the chromatographic system setup (e.g. HPLC vs UHPLC) and the acquisition rate (a.k.a. MS scan speed) of the mass spectrometer. The best way to optimize this setting is by manually inspecting the raw data and determining the typical minimum number of data points of the LC peaks. Usually, no less than 4-5 should be used.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#group-intensity-threshold","title":"Group intensity threshold","text":"<p>Minimum signal intensity that the group scans (see previous parameter) must exceed in order for the corresponding EICs to be considered valid and retained in the feature list.</p> <p> A good starting point for this parameter is 3 times the noise level used in the Mass detection, if the instrumental noise is used as cutoff. See also How do I determine the noise level in my data? for more details.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#min-highest-intensity","title":"Min highest intensity","text":"<p>Minimum intensity that the highest point in the EIC must exceed in order for the corresponding trace to be considered valid and retained in the feature list. This parameter mainly depends on the mass spectrometer characteristics (e.g. Orbitrap instruments normally provides higher signal intensities than TOF devices) as well as the overall goal of the processing. Overly low intensity thresholds normally leads to a larger number of background signals being retained as features, extending the overall processing time. On the other hand, overly high thresholds may lead to low-intensity features being erroneously discarded.</p> <p> A good starting point for this parameter is 7-10 times the noise level used in the Mass detection, if the instrumental noise is used as cutoff. See also How do I determine the noise level in my data? for more details.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#scan-to-scan-accuracy-mz","title":"Scan to scan accuracy (m/z)","text":"<p>Maximum allowed difference between an EIC-associated m/z and a new data point to be added to the existing EIC trace. It is essentially the maximum allowed mass accuracy deviation between consecutive data points in the EICs. The tolerance can be specified as absolute tolerance (in m/z), relative tolerance (in ppm), or both. When both are specified, the tolerance range is calculated using the maximum between the absolute and relative tolerances.</p> <p> This is an m/z tolerance (scan-to-scan), and it depends on the mass accuracy, resolution and stability of the instrument. The best way to optimize this parameter is by manually inspecting the raw data and determining the typical fluctuation of the accurate mass measurement over consecutive scans. A good starting point is 0.002-0.005 m/z and 5-10 ppm for Orbitrap instruments, while 0.005 m/z and 10-15 ppm can be used for TOF devices.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_adap_chromatogram_builder/adap-chromatogram-builder.html#suffix","title":"Suffix","text":"<p>String added to the filename as suffix when creating the corresponding feature list.</p> <p>corinnabrungs, omokshyna</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html","title":"GridMass","text":""},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#description","title":"Description","text":"<p> Feature detection \u2192 LC-MS \u2192 GridMass</p> <p>GridMass is an algorithm to detect peaks analyzing 2D data. It directly generates a peak list, which can then be operated using the peak list methods.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#algorithm","title":"Algorithm","text":"<p>To detect the position and boundaries of masses, the GridMass algorithm first generates a grid of equally spaced probes covering the entire chromatographic area. A representative section is shown in the figure below.</p> <p></p> <ul> <li> <p>Each probe (black dots in Figure) explores a rectangular region around it to find a local maximum. </p> </li> <li> <p>The probe location is moved to the local maxima to further search for a higher value. </p> </li> <li> <p>The procedure is performed until no higher values exist within the exploring rectangle. </p> </li> <li> <p>This local maximum is then defined as a feature, which contains information of the m/z, the time, and the intensity detected. </p> </li> </ul> <p>A putative trajectory of a probe is shown in the figure. All probes converging to the same feature provide an estimation of its boundaries. </p> <p>Consequently, different features represent different masses. </p> <p> This procedure is highly sensitive and specific for smooth surfaces. However, given that in real chromatographic data a certain level of noise and artifacts are present, in MZmine additional criteria (such as possibility to choose time windows, additional smoothing, etc.) were implemented.</p> <p>A summary of the algorithm is as follows:</p> <ol> <li>Ignore artifact spectra in time domain. In chromatography, it is typical to find a peak near the injection time, corresponding to metabolites that show no interaction with the column in the particular gradient. While this is not an artifact per se, given the myriad of signals present and the nature of the detector, the resulting peak is a strong source of artifacts that later affect analysis. To avoid this, the user may enter a list of time ranges to be ignored. The controlling parameter is ignore times whose format is time1-time2, time3-time4, \u2026 Alternatively, the user may crop these data before processing, for example using \u201cRaw Data\u2192Filtering\u2192Data Set\" and ignore setting this parameter. Therefore, this step is optional.</li> <li>Generate equally spaced probes over the mass-time space.To generate the grid, the parameters used are m/z tolerance and minimum width. The gap in the m/z dimension between probes is set to m/z tolerance multiplied by 2 or minimum to 1e-6 and are intercalated between scans. The gap in the time dimension is calculated by time associated to scans, which is estimated by the minimum width divided by 4 (down to a minimum of 1 scan). </li> <li>Move each probe to corresponding local maximum until convergence.Each probe explores its surroundings (limited by the positions of other probes) to locate the highest intensity value, then after updating its position, it keeps exploring the surrounding until a local maximum is reached. To speed up the procedure, generate only interesting features above a certain level of noise, and limit the number of reported features, only intensities higher than minimum height threshold are considered. </li> <li>Generate features by merging probes with similar 2D positions.Many probes will reach the same maximum that must correspond to the same feature. In addition, experimental chromatographic data is noisy and non-smooth, which may generate local maxima very close to each other. Therefore, probes whose difference in m/z is lower than the m/z tolerance and whose difference in time is lower than minimum width are merged. Then, from all probes reaching the same maximum, the m/z assigned to the feature corresponds to the highest observed intensity. The width of the feature is estimated from the probes with the lowest and highest time. To form the peak and estimate its area, the highest value in each scan is used. </li> <li>Remove features whose width is out of a range.Features having large or very low width are likely to be artifacts. To avoid this, all features out within the range given by the parameters minimum width and maximum width (in minutes) are removed. </li> <li>Remove features of similar mass and high cumulative times.Chemical noise or large blurs are characterized by generating many features of similar mass, similar intensities, and separated by short times. To avoid these artifacts, we merge features whose m/z difference is lower than m/z tolerance and whose intensity ratio (higher/lower) is higher than an intensity similarity ratio parameter. Once merged, the removal implemented in step 5 is performed on merged features.</li> </ol>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#parameters","title":"Parameters","text":""},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#suffix","title":"Suffix","text":"<p>Suffix to be added to peak list name.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#minimum-height","title":"Minimum height","text":"<p>Only intensities larger than this minimum are considered.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum distance in m/z from the expected location of a peak.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#min-max-width-time-min","title":"Min-max width time (min)","text":"<p>Time range for a peak to be recognized as a 'mass'. The optimal value depends on the chromatography system setup. Check 2D raw data to determine typical time spans.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#smoothing-time-min","title":"Smoothing time (min)","text":"<p>Time window used to smooth the signal before detection.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#smoothing-mz","title":"Smoothing m/z","text":"<p>m/z window used to smooth the signal before detection.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#false-intensity-similarity-ratio","title":"False+: Intensity similarity ratio","text":"<p>Ratio between features to be recognized as the same. This is highly useful to detect artifacts.</p>"},{"location":"module_docs/lc-ms_featdet/featdet_gridmass/gridmass.html#false-ignore-times","title":"False+: Ignore times","text":"<p>Ranges of time to be ignored by the method. This can be avoided if the region is previously cleaned using the crop option. Format: timeA-timeB, timeC-timeD,...</p> <p>omokshyna</p>"},{"location":"module_docs/lc-ms_featdet/featdet_results/featdet_results.html","title":"Results of the feature detection","text":""},{"location":"module_docs/lc-ms_featdet/featdet_results/featdet_results.html#feature-table","title":"Feature table","text":"<p>Columns in the table can be displayed or hidden on demand, using \"+\" button or parameter menu button in the right table corner.</p> <p>Feature table includes several groups of columns: - Manual annotation columns,  - Parameters of specific feature, - And parameters of chosen feature in a specific data file (filename is shown on top of the columns).</p> <p> State column describes the feature status in a chosen file using several color-coded options:</p> <ul> <li>Blue - a feature was found in a primary feature detection,</li> <li>Gray - a feature was found in a secondary feature detection (e.g., using Gap filling, after alignment),</li> <li>Orange - a feature was not found in this particular data file,</li> <li>Black - a feature was defined manually.</li> </ul>"},{"location":"module_docs/lc-ms_featdet/featdet_results/featdet_results.html#manual-feature-integration","title":"Manual feature integration","text":"<p>Sometimes it might be useful to perform manual integration of some selected peaks. To use this option a user can apply a right mouse click on a chosen feature table row and choose \"Define manually\"</p> <p></p> <p>omokshyna</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html","title":"Targeted feature detection","text":""},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#description","title":"Description","text":"<p> Feature detection \u2192 LC-MS \u2192 Targeted feature detection</p> <p>This algorithm opens a .csv file with a list of peaks and searches for each peak in the selected raw data file.  The most crucial parameters are m/z tolerance and Retention time tolerance*, which define the window where the algorithm should find the new peak. It is centered in the m/z average and retention time average of the source peak list. Once the best candidate is found inside the window, its shape in RT direction is also checked.</p> <p>The *.csv file should have three columns:</p> <ul> <li>The first column should contain the expected M/Z,</li> <li>the second column the expected RT,</li> <li>and the third the peak name. </li> </ul> <p> Each peak should be in a different row.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#parameters","title":"Parameters","text":""},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to the peak list name.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#peak-list-file","title":"Peak list file","text":"<p>Path of the csv file containing the list of peaks to be detected.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#field-separator","title":"Field separator","text":"<p>Character(s) used to separate fields in the peak list file.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#ignore-first-line","title":"Ignore first line","text":"<p>Check to ignore the first line of peak list file.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#intensity-tolerance","title":"Intensity tolerance","text":"<p>This value sets the maximum allowed deviation from expected shape of a peak in chromatographic direction.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#noise-level","title":"Noise level","text":"<p>The minimum intensity level for a data point to be considered part of a chromatogram. All data points below this intensity level are ignored.</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#mz-tolerance","title":"m/z Tolerance","text":"<p>Maximum allowed m/z difference to find the peak</p>"},{"location":"module_docs/lc-ms_featdet/targeted_featdet/targeted-featdet.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed retention time difference to find the peak</p> <p>omokshyna</p>"},{"location":"module_docs/norm_linear/norm_linear.html","title":"Linear normalizer","text":""},{"location":"module_docs/norm_linear/norm_linear.html#description","title":"Description","text":"<p> Feature list methods \u2192 Normalization \u2192 Linear normalizer</p> <p>Linear normalizer divides the height (or area) of each feature in the feature list by a normalization factor, chosen according to the \"Normalization type\" parameter. </p> <p>Each column of the feature list is normalized separately. In other words, normalization factor is determined independently for each raw data file.</p>"},{"location":"module_docs/norm_linear/norm_linear.html#normalization-factors","title":"Normalization factors","text":"<p>Different normalization factors can be applied:</p> <ol> <li> <p>Average intensity</p> <p>Average height (or area) of all peaks in the column is calculated and used as the normalization factor</p> </li> <li> <p>Average squared intensity</p> <p>Same as Average intensity, but values are squared before calculating the average</p> </li> <li> <p>Maximum peak intensity</p> <p>Maximum height (or area) in the peak list column is used as the normalization factor</p> </li> <li> <p>Total raw signal</p> <p>Sum of the height (or area) of all peaks in the peak list column is used as the normalization factor</p> </li> </ol>"},{"location":"module_docs/norm_linear/norm_linear.html#parameters","title":"Parameters","text":""},{"location":"module_docs/norm_linear/norm_linear.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to a processed feature list name</p>"},{"location":"module_docs/norm_linear/norm_linear.html#normalization-type","title":"Normalization type","text":"<p>Selection of the normalization factor. Available options:</p> <ul> <li>Average intensity</li> <li>Average squared intensity</li> <li>Maximum peak intensity</li> <li>Total raw signal</li> </ul>"},{"location":"module_docs/norm_linear/norm_linear.html#feature-measurement-type","title":"Feature measurement type","text":"<p>Selection of either feature height or feature area, which will be used to calculate the normalization factors</p>"},{"location":"module_docs/norm_linear/norm_linear.html#original-feature-list","title":"Original feature list","text":"<p>If REMOVE option is selected, the original feature list is  removed, allowing to save memory.</p> <p>omokshyna</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html","title":"Retention time correction","text":""},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#description","title":"Description","text":"<p> Feature list methods \u2192 Normalization \u2192 Retention time correction</p> <p>The retention time correction module attempts to reduce the deviation of retention times between feature lists, by searching for common features in these feature lists and using them as RT correction standards.</p> <p>This process involves identifying standard features, calculating their average RTs, and adjusting the RTs of other features based on these standards. The RT correction value will be added to each feature.</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#identifying-rt-correction-standards","title":"Identifying RT correction standards","text":"<p>RT correction standards are features that:</p> <ul> <li>Meet a minimum intensity threshold.</li> <li>Are present in all feature lists.</li> <li>Fall within specified m/z and RT tolerances.</li> </ul>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#averaging-rts-of-correction-standards","title":"Averaging RTs of correction standards","text":"<p>RTs of identified RT correction standards are averaged. The averaged RT is set as RT for the calibration standard features across all samples.</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#correcting-retention-times","title":"Correcting retention times","text":"<p>The correction of RTs is performed based on the relationship between the original RTs of features and the RTs of the calibration standards. The following cases describe how the corrected RTs are calculated:</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#case-1-feature-is-a-rt-correction-standard","title":"Case 1: Feature is a RT correction standard","text":"<p>The RT for this feature is set to its averaged RT calculated from all samples.</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#case-2-feature-between-two-rt-correction-standards","title":"Case 2: Feature between two RT correction standards","text":"<p>For features that are not calibration standards and fall between the RTs of two identified calibration standards:</p> <p>The corrected RT is calculated by linear interpolation between the closest previous and next standards. </p> <p>For a feature \\( F \\) with an original retention time \\( RT_F \\), situated between two standards \\( S_{\\text{prev}} \\) and \\( S_{\\text{next}} \\) with original retention times \\( RT_{\\text{prev}} \\) and \\( RT_{\\text{next}} \\), and corrected retention times \\( \\text{RT}_{\\text{prev, cor}} \\) and \\( \\text{RT}_{\\text{next, cor}} \\):</p> <ol> <li> <p>Calculate the weight:    [    \\text{weight} = \\frac{RT_F - RT_{\\text{prev}}}{RT_{\\text{next}} - RT_{\\text{prev}}}    ]</p> </li> <li> <p>Calculate the corrected RT:    [    RT_{F, \\text{cor}} = RT_{\\text{prev, cor}} + \\text{weight} \\times (RT_{\\text{next, cor}} - RT_{\\text{prev, cor}})    ]</p> </li> </ol>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#explanation","title":"Explanation","text":"<ul> <li>Weight: Represents the relative position of feature \\( F \\) between the two standards \\( S_{\\text{prev}} \\) and \\( S_{\\text{next}} \\).</li> <li>Corrected RT: Computed by linearly interpolating between the corrected RTs of the two surrounding RT correction standards, weighted by the relative position of \\( F \\).</li> </ul>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#case-3-only-one-standard","title":"Case 3: Only One Standard","text":"<p>If only one RT correction standard is identified:</p> <p>The corrected RT is adjusted by adding the difference between the original RT of the standard and its averaged RT to the original RT of the feature.</p> <p> The method requires at least two resolved (for example, Local minimum resolver) feature lists. This step needs to be performed before alignment.</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#parameters","title":"Parameters","text":""},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to a processed feature list name</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed m/z difference for two values to be considered the same</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#retention-time-tolerance","title":"Retention time tolerance","text":"<p>Maximum allowed difference between two retention time values</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#minimum-standard-intensity","title":"Minimum standard intensity","text":"<p>Minimum height of a feature to be selected as RT correction standard</p>"},{"location":"module_docs/norm_rt_calibration/norm_rt_calibration.html#original-feature-list","title":"Original feature list","text":"<p>If REMOVE option is selected, the original feature list is  removed, allowing to save memory.</p> <p></p> <p>Ansgar Korf, omokshyna</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html","title":"Standard compound normalizer","text":""},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#description","title":"Description","text":"<p> Feature list methods \u2192 Normalization \u2192 Standard compound normalizer</p> <p>The purpose of this module is to reduce the deviation between samples caused by different detection efficiency.</p> <p>Internal standard peaks must be present in the detected samples. User can select one or multiple internal standard peaks, which must be present in all raw data files. Then peak height (or area) of each peak is normalized by either the nearest standard or a weighted contribution of all standards.</p> <p>In case a weighted contribution is used, the contributions of all standards are weighted by distance. The distance of the standard peak to the peak being normalized is calculated as</p> \\[distance = MZvsRT_{Balance} * MZ_{difference} + RT_{difference}\\] <p>where \\(MZvsRT_{Balance}\\) is a multiplier of m/z difference set by m/z vs RT balance parameter</p> <p> Feature list must be aligned prior to normalization.</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#parameters","title":"Parameters","text":""},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#name-suffix","title":"Name suffix","text":"<p>Suffix to be added to a processed feature list name</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#normalization-type","title":"Normalization type","text":"<p>Normalize intensities using either only one (nearest) standard or using a weighted contribution of all selected standards, weighted by distance.</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#feature-measurement-type","title":"Feature measurement type","text":"<p>Selection of either feature height or feature area, which will be used to calculate the normalization factors</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#mz-vs-rt-balance","title":"m/z vs RT balance","text":"<p>Used in distance measuring as a multiplier of m/z difference.</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#standard-compounds","title":"Standard compounds","text":"<p>List of features for choosing the normalization standards</p>"},{"location":"module_docs/norm_stand_cmpd/norm_stand_cmpd.html#original-peak-list","title":"Original peak list","text":"<p>If selected, the original peak list is automatically removed</p> <p>omokshyna</p>"},{"location":"module_docs/tools_simsef/simsef.html","title":"Spatial ion mobility-scheduled exhaustive fragmentation (SIMSEF)","text":""},{"location":"module_docs/tools_simsef/simsef.html#description","title":"Description","text":"<p>The spatial ion mobility-scheduled exhaustive fragmentation (SIMSEF) module can be used in trapped ion mobility (TIMS) imaging workflows to schedule fragmentation spectra acquisitions for every detected feature across the tissue. This achieves high MS2 coverage and allows more confident compound annotations. To use the SIMSEF tool, the prmMALDI prototype instrument control software is required, which is distributed by Bruker Daltonics to cooperation partners.</p> <p>Note:  Due to the size of IMS-MS imaging data, we recommend to use 10,000-40,000 pixels in your MS1 run for SIMSEF experiments</p>"},{"location":"module_docs/tools_simsef/simsef.html#parameters","title":"Parameters","text":""},{"location":"module_docs/tools_simsef/simsef.html#feature-lists","title":"Feature lists","text":"<p>Select the feature list to create the MS2 events for.</p>"},{"location":"module_docs/tools_simsef/simsef.html#data-location","title":"Data location","text":"<p>File path to store the schedule in. This directory must also exist on the data acquisition PC and not contain spaces or special characters.</p>"},{"location":"module_docs/tools_simsef/simsef.html#path-to-msmsmaldiexe","title":"Path to msmsmaldi.exe","text":"<p>Path to the simsef_pewpew.exe</p>"},{"location":"module_docs/tools_simsef/simsef.html#number-of-ms2-spectra","title":"Number of MS2 spectra","text":"<p>Sets the desired number of MS2 events to be scheduled per precursor and collision energy.</p>"},{"location":"module_docs/tools_simsef/simsef.html#collision-energies","title":"Collision energies","text":"<p>Lists the collision energies to acquire MS2 spectra for every precursor.</p>"},{"location":"module_docs/tools_simsef/simsef.html#minimum-distance-of-ms2-pixels","title":"Minimum distance of MS2 pixels","text":"<p>Defines the spatial pixel-based distance between MS2 events of the same precursor ion and with the same collision energy.</p>"},{"location":"module_docs/tools_simsef/simsef.html#minimum-ms1-intensity","title":"Minimum MS1 intensity","text":"<p>Describes a relative and absolute intensity threshold for the precursor in an MS1 pixel to be selected for MS2 experiments. Specified as absolute and relative parameter, which will use the larger of the two values with regard to the feature.</p>"},{"location":"module_docs/tools_simsef/simsef.html#minimum-purity-score","title":"Minimum purity score","text":"<p>Defines an exclusion criterion for scheduling MS2 events in a pixel, in case the quadrupole isolation would lead to chimeric MS2 spectra composed of multiple precursor ions.</p>"},{"location":"module_docs/tools_simsef/simsef.html#export-msms-lists-only","title":"Export MSMS lists only","text":"<p>Exports only the MS2 lists and does not start an acquisition.</p>"},{"location":"module_docs/tools_simsef/simsef.html#advanced-parameters","title":"Advanced parameters","text":""},{"location":"module_docs/tools_simsef/simsef.html#quadrupole-switch-time-ms","title":"Quadrupole switch time (ms)","text":"<p>Defines the assumed switch time of the quadrupole. This influences how close multiple precursors will be scheduled. Low values may lead to co-isolation and overlapping of precursor values.</p>"},{"location":"module_docs/tools_simsef/simsef.html#isolation-width","title":"Isolation width","text":"<p>Sets the quadrupole isolation window in the instrument parameters and influences the purity score calculation.</p>"},{"location":"module_docs/tools_simsef/simsef.html#minimum-mobility-window-and-maximum-mobility-window","title":"Minimum mobility window and Maximum mobility window","text":"<p>Describe the minimum and maximum length of a precursor isolation width in the mobility dimension. The features detected mobility range will be cropped or extended to be within the minimum and maximum mobility window.</p>"},{"location":"module_docs/tools_simsef/simsef.html#output","title":"Output","text":"<p>The scheduling module creates a folder including an \"acquisition.txt\" including the acquisition table, collision energy table(s), precursor lists for every spot, and \"precursors.csv\" and \" spots.csv\" files. The \"precursors.csv\" and \"spots.csv\" files allow statistical evaluation of the expected MS2 coverage prior to the analysis.</p> <p>To acquire the MS2 spectra, the whole folder must be copied to the acquisition computer to the location specified as the \"data location\" parameter.</p>"},{"location":"module_docs/tools_simsef/simsef.html#references","title":"References","text":"<p>[1] Wolf, C. et al. Mobility-Resolved Broadband Dissociation and Parallel Reaction Monitoring for Laser Desorption/ionization-Mass Spectrometry - Tattoo Pigment Identification Supported by Trapped Ion Mobility Spectrometry. Anal. Chim. Acta 2023, 1242, 340796.</p> <p>doi: https://doi.org/10.1016/j.aca.2023.340796</p> <p>[2] Heuckeroth, S. et al. On-tissue dataset-dependent MALDI-TIMS-MS2 bioimaging. Nat Commun 14, 7495 (2023).</p> <p>doi: https://doi.org/10.1038/s41467-023-43298-9</p> <p>Steffen Heuckeroth</p>"},{"location":"services/users.html","title":"Users management","text":""},{"location":"services/users.html#sign-up-registration","title":"Sign up / Registration","text":"<p>Users can sign in into an existing account or sign up (register) a new free account within seconds. The sign up is available directly in the mzmine Users menu (Manage users). If you experience any issues with the built-in webview, click the external browser button and sign up online. Briefly, the user needs to provide few details including:</p> <ul> <li>Username: Fixed identifier that cannot be changed</li> <li>Define your use case: The intended use of this user profile, either commercial use or *   non-profit academic use*</li> <li>Email: Either an academic or company email address. It is important to use an   academic email address to gain a non-profit academic license</li> <li>Read and accept the Terms and Conditions</li> </ul> <p>After clicking the register button, a verification email is sent to the provided address. This can take a few minutes.</p> <ol> <li>Please open the email</li> <li>Click the verification link that redirects to the user portal</li> <li>Verify the email by Click here to proceed to verify your email</li> <li>Return to mzmine and refresh the page (automatically done every 30 seconds)</li> <li>Check your license status in mzmine. Every user will receive a 30-day trial license or a    non-profit academic license. Please reach out if your academic institution still needs our    automatic validation.</li> </ol> <p></p>"},{"location":"services/users.html#offline-use","title":"Offline use","text":"<p>Sign in to your user in mzmine on a computer that is connected to the internet. Click on the menu User/Open users directory to open the file explorer at your systems user/.mzmine/.users directory. Copy the corresponding users (.mzuser files) to the new system into the same directory. Alternatively copy the files to the other system and drag-and-drop them into mzmine. The users will be installed. Finally, open the Users/User management and select the active user.</p>"},{"location":"services/users.html#user-account-console-changing-user-details","title":"User account console - changing user details","text":"<p>Open the mzio user account console and sign in with your user credentials. Go to personal information to update any details. When changing the email the user is automatically logged out. On the next sign in, the user will receive another verification email to validate email address ownership. Revalidation of the email also triggers a revalidation of the non-profit academic license.</p> <p></p>"},{"location":"services/users.html#changing-password-adding-two-factor-authentication","title":"Changing password &amp; adding Two-factor authentication","text":"<p>Within the account console, navigate to Account security/Signing in and update your password. Two-factor authentication can be activated on the same page. Start the setup and follow the instructions. This requires a mobile authenticator app that will generate a one-time-password for each sign in.</p>"},{"location":"services/users.html#reset-password","title":"Reset password","text":"<p>On the sign in page in mzmine or in the user account console click on Forgot Password, enter your username or email. An email for resetting the password will be sent to the users email within a few minutes. Follow the instruction by clicking on the link and entering a new password.</p>"},{"location":"services/users.html#sign-up-registration-details","title":"Sign up / Registration details","text":"<p>Open mzmine and navigate to Users/Manage users, alternatively click on the user icon on the mzmine landing page. If you have a user account sign in. Otherwise, click on register.</p> <p></p> <p></p> <p>Fill in the registration form and provide all details including:</p> <ul> <li>Username: Fixed identifier that cannot be changed</li> <li>Define your use case: The intended use of this user profile, either commercial use or *   non-profit academic use*</li> <li>Email: Either an academic, company, or personal email address. It is important to use an   academic email address to gain a non-profit academic license</li> <li>Read and accept the Terms and Conditions</li> </ul> <p></p> <p>After clicking the register button, a verification email is sent to the provided address. This can take a few minutes.</p> <p></p> <ol> <li>Please open the email</li> <li>Click the verification link that redirects to the user portal</li> <li>Verify the email by Click here to proceed to verify your email</li> <li>Return to mzmine and refresh the page (automatically done every 30 seconds)</li> <li>Check your license status in mzmine. Every user will receive a 30-day trial license or a    non-profit academic license. Please reach out if your academic institution still needs our    automatic validation.</li> </ol> <p></p>"},{"location":"services/users.html#command-line-interface-cli","title":"Command-line interface (CLI)","text":"<p>Users can be logged in via command-line arguments to run mzmine in batch mode. See CLI tools for more information.</p>"},{"location":"services/users.html#alternative-sign-in-sign-up","title":"Alternative Sign in / Sign up","text":"<p>Alternatively users can register on the mzio.io website https://auth.mzio.io/realms/mzio/account by clicking on the Sign in button in the top right corner. Then follow the regular self-registration described above. Finally, users will need to sign in to the mzmine software. If the sign in website does not load in mzmine, click the . Set a proxy and retry with the login screen but if this fails try the alternative sign in by username and password directly. The mzmine CLI also provides the * -login-console* argument for alternative sign in.</p>"},{"location":"services/users.html#frequently-asked-questions-faq","title":"Frequently asked questions (FAQ)","text":"<ol> <li> <p>Why is the link to verify my email address missing?</p> <ul> <li>Your email provider may remove links as a security measure. Please reach out to your   postmaster or IT administrator with info@mzio.io in Cc to resolve this issue. Please provide   the information that links are missing and that the domain mzio.io can be trusted.</li> </ul> </li> <li> <p>Why am I not receiving any verification email?</p> <ul> <li>Your email provider may falsely block the mzio.io domain. Please reach out to your postmaster   or IT administrator with info@mzio.io in Cc to resolve this issue. Please provide the   information that the domain mzio.io can be trusted.</li> </ul> </li> <li> <p>The login page in mzmine is not loading, what can I do?</p> <ul> <li>The poxy settings and alternative sign in page may open automatically or is available by   clicking on the tool button  on the Sign in/Sign up page.</li> <li>Check your computers proxy settings and apply them on this page and press update proxy to   retry.</li> <li>Otherwise, try the alternative sign in by username and password. This requires an existing   mzmine user that can also be registered on the website. </li> </ul> </li> </ol>"},{"location":"terminology/general-terminology.html","title":"General terminology","text":""},{"location":"terminology/general-terminology.html#ms","title":"MS","text":""},{"location":"terminology/general-terminology.html#precursor-and-fragment-ions","title":"Precursor and fragment ions","text":"<p>The precursor ion (or \"parent ion\") is the selected ion used for MS/MS experiments. </p> <p>A fragment ion (\"daughter ion\" or \"product ion\") is the charged product of an ion dissociation. A fragment ion may be stable or may dissociate further to form other charged fragment ions and neutral species of successively lower mass.</p>"},{"location":"terminology/general-terminology.html#accurate-mass-exact-mass-and-mass-accuracy","title":"Accurate mass, exact mass and mass accuracy","text":"<p>The accurate mass is the experimentally-determined mass of an ion measured with a high-resolution mass spectrometer. </p> <p>The exact mass is the calculated mass of an ion based on its elemental formula, isotopic composition and charge state. While the accurate mass is an experimentally-measured quantity, the exact mass is a theoretically-calculated quantity. </p> <p>The mass accuracy is defined as the difference between the measured value (accurate mass) and the true value (exact mass). It can be expressed either in absolute (mDa) or relative (ppm) units.</p>"},{"location":"terminology/general-terminology.html#monoisotopic-mass","title":"Monoisotopic mass","text":"<p>Exact mass of an ion calculated by using the mass of the naturally most abundant isotope of each element.</p>"},{"location":"terminology/general-terminology.html#isotopic-pattern","title":"Isotopic pattern","text":"<p>Isotopic (or isotope) pattern describes a set of peaks related to the ions with the same chemical formula but containing different isotopes; e.g. the 16 and 17 mass/charge peaks in a CH4 sample arising from <sup>12</sup>CH<sub>4</sub><sup>+</sup> and <sup>13</sup>CH<sub>4</sub><sup>+</sup> ions.</p>"},{"location":"terminology/general-terminology.html#mass-resolution","title":"Mass resolution","text":"<p>Resolution describes an ability of mass spectrometers to distinguish two peaks of different mass-to-charge ratios.  Can be interchangeably used with mass resolving power</p> <p>Wikipedia article on MS resolution</p>"},{"location":"terminology/general-terminology.html#mass-resolving-power","title":"Mass resolving power","text":"<p>In a mass spectrum, the observed mass divided by the difference between two masses that can be separated, m/\u0394m.</p>"},{"location":"terminology/general-terminology.html#data-acquisition-mode","title":"Data acquisition mode","text":"<p>Process of sampling to capture the signals. Different modes have been introduced to better capture signals after LC separation, especially in metabolomics.  In MS data can be acquired using three main modes:</p> <ul> <li>Full scan acquisition mode</li> <li>Data-dependent acquisition mode</li> <li>Data-independent acquisition mode</li> </ul> <p>Read more: Comparison of data-dependent and data-independent modes</p>"},{"location":"terminology/general-terminology.html#full-scan-acquisition-mode","title":"Full scan acquisition mode","text":"<p>In full-scan mode, the mass spectrometer runs on MS1-only mode, and measures m/z values and abundances of all the metabolic features. </p> <p>Widely used as it allows to capture most of the relevant ions.</p> <p>Further confirmation of statistically significant features is typically carried out by a separate LC-MS/MS run in a targeted manner.</p>"},{"location":"terminology/general-terminology.html#data-dependent-acquisition-mode-dda","title":"Data-dependent acquisition mode (DDA)","text":"<p>Mode of the data collection in tandem mass spectrometry. In data-dependent acquisition (DDA) schemes, the mass spectrometer detects 'suitable' precursor ions in each MS scan and selects them for fragmentation in consecutive MS2 scans.</p> <p> DDA can redundantly identify high-abundant features, while neglecting low-abundant ones.</p> <p>TopN acquisition scheme</p> <p>In TopN scheme, the set of N ions is selected for fragmentation by their intensity in the latest MS survey scan.</p>"},{"location":"terminology/general-terminology.html#data-independent-acquisition-mode-dia","title":"Data-independent acquisition mode (DIA)","text":"<p>DIA can be conducted either by fragmenting all ions that enter the instrument at a given time (called broadband DIA) or by sequentially focusing on a m/z window of precursors and fragmenting all precursors detected within that window.</p> <p>Cycle time acquisition scheme</p> <p>In cycle time acquisition, a set of precursor ions is selected using m/z values  (usually 1.0 to 2.0 m/z range). A full MS/MS fragment ion spectrum is collected for each ion. Cycle time is determined by scan times of all scans in the set.</p>"},{"location":"terminology/general-terminology.html#lc-ms","title":"LC-MS","text":""},{"location":"terminology/general-terminology.html#total-ion-current-chromatogram","title":"Total ion current chromatogram","text":"<p>The total ion current (TIC) chromatogram displays the summed signal intensity (y-axis) over the entire m/z range at any one retention time point (x-axis) in the LC-MS run. The following figure shows a TIC chromatogram of a 9-compounds mixture analysed on LC-MS system. </p> <p> In complex samples, the TIC chromatogram often provides limited information as multiple analytes elute simultaneously, obscuring individual species.</p>"},{"location":"terminology/general-terminology.html#base-peak-chromatogram","title":"Base peak chromatogram","text":"<p>The base peak chromatogram (BPC) displays the signal intensity of the most intense mass peak in the MS spectra at any one retention time point (x-axis) in the LC-MS run. The following figure shows the same data as above, visualized in BPI mode. </p>"},{"location":"terminology/general-terminology.html#extracted-ion-chromatogram","title":"Extracted ion chromatogram","text":"<p>The extracted ion chromatogram (EIC) displays the signal intensity of a specific m/z value, within a defined tolerance (e.g. \u00b1 5 ppm), at any one retention time point in the LC-MS run. The following figure shows the EIC of m/z 455.2945 \u00b1 5 ppm (same sample as above). </p>"},{"location":"terminology/general-terminology.html#chromatographic-resolving","title":"Chromatographic resolving","text":"<p>Peak overlapping, or co-elution, is a common problem in any chromatographic separation technique. In the case of LC-MS (especially untargeted omics analysis), it is virtually impossible to obtain a full baseline separation for the hundreds (or thousands) of analytes eluted through the column. The split of partially-overlapping and shoulder peaks into individual features is generally referred to as chromatographic resolving and is one of the most crucial steps of data processing. TO FINISH.</p>"},{"location":"terminology/general-terminology.html#missing-values","title":"Missing values","text":"<p>MISSING VALUE DEFINITION (see https://www.nature.com/articles/s41598-017-19120-0). </p> <p>Missing values_ can be caused by biological and/or technical reasons. A gap (match-to-nothing) is defined as a missing value in an alignment. Peaks that cannot be aligned (corresponding to a gap) are designated with a value of \u201cNA\u201d (missing value).</p>"},{"location":"terminology/general-terminology.html#missing-value-imputation","title":"Missing value imputation","text":"<p>Missing valueS are generally undesired as they might introduce bias and significantly affect downstream data analysis, especially when statistics is involved. Therefore, it is important to REDUCE THEM. </p> <p>To tackle this issue, a value for the peak needs to be imputed. The peak finder gap-filling module.</p> <p>A simple gap-filling approach is to integrate the area where the peak is expected but not detected. These areas usually correspond to spectral noise. By doing so, no bias is introduced. Therefore, we recommend to always run the gap filling module before the missing value imputataion. </p> <p>The other alternative for gap filling is the Same RT and m/z range gap filler, which limits the gap fill to features within the original detected peak window. This leads to much cleaner results.   However, this module causes MISSING VALUE IMPUTATION. For purposes of further data processing, noise should be always preferred to zero values.</p> <p> mzmine does not support missing-value imputation.</p>"},{"location":"terminology/general-terminology.html#mzmine-specific-terminology","title":"mzmine-specific terminology","text":""},{"location":"terminology/general-terminology.html#masses-and-features","title":"Masses and Features","text":"<p>In MS data processing, the term mass is normally used to refer to an individual signal in a mass spectrum, which corresponds to an ion detected by the mass spectrometer (see Mass detection).</p> <p>In LC-MS, a feature is defined as a bounded, two-dimensional (m/z and RT dimensions) signal characterized by a pair of m/z and RT values and associated with the detected signal intensity. </p> <p>In LC-IM-MS, a feature is also characterized by the ion mobility value recorded for the ion (see LC-MS and LC-IMS-MS data comparison. </p> <p>mzmine provides a selection of different algorithms for LC-(IM)-MS feature detection, depending on the nature of the MS data (e.g. mass accuracy and resolution). All the algorithms follow the same logic: </p> <ul> <li>EICs are constructed starting from each m/z value in the mass lists </li> <li>Then, EICs are subsequently deconvoluted into individual features (see figure). </li> <li>Finally, additional information, such as isotope pattern, adduct type, etc. can be assigned to the individual features.</li> </ul> <p></p>"},{"location":"terminology/general-terminology.html#mass-list","title":"Mass list","text":"<p>In mzmine, we call mass list the output of the mass detection module. </p> <p>A mass list is a list of m/z values and corresponding signal intensities, found in each mass spectrum (MS or MSn) of each processed raw data file. </p> <p>Every mass spectrum contained in the raw file is processed individually. The signals exceeding the set noise threshold are included in the mass list. See Mass detection module.</p>"},{"location":"terminology/general-terminology.html#feature-list","title":"Feature list","text":"<p>In mzmine, feature lists are the output of the feature detection process (see Masses and features). </p> <p>The set of detected features in each LC-MS run is stored as a list, hence the name \"feature list\" (see, for example, ADAP chromatogram builder and Local mimimum resolver for more details). Multiple feature lists can undergo further processing (e.g. feature alingment) which results in a table (often referred to as feature table) where samples are arranged in columns, features in rows and each entry contains the signal intensity detected for the corresponding feature in the corresponding sample.</p>"},{"location":"terminology/general-terminology.html#mz-tolerances","title":"m/z tolerances","text":"<ul> <li>scan-to-scan</li> <li>intra-sample</li> <li>sample to sample</li> </ul> <p>The m/z tolerance is defined as maximum allowed difference between m/z values in order to be considered the same or belonging to each other (isotopes or different adducts). The scan-to-scan m/z tolerance is used for values between different scans (in, e.g., ADAP Chromatogram Builder).  The m/z tolerance (intra-sample) is used for features in the same scan that belong together (used, e.g., in <sup>13</sup>C isotope filter). The m/z tolerance (sample-sample) takes the fluctuation of the same feature in different samples into account. This tolerance is used in the Join aligner). </p>"},{"location":"terminology/general-terminology.html#chromatogram-resolving","title":"Chromatogram resolving","text":"<p>Was referred to as Deconvolution in MZmine 2. Process of splitting \"imperfect\" - overlapping and partially co-eluting - peaks, which are retained as single features, into the separate features. </p>"},{"location":"terminology/general-terminology.html#references","title":"References","text":"<ul> <li>Pluskal, T., Castillo, S., Villar-Briones, A. &amp; Oresic, M. MZmine 2: Modular framework for processing, visualizing, and analyzing mass spectrometry-based molecular profile data. BMC Bioinformatics (2010). DOI: 10.1186/1471-2105-11-395</li> <li>Pluskal, T. et al. Processing Metabolomics and Proteomics Data with Open Software: A Practical Guide, Chapter 7: Metabolomics Data Analysis Using MZmine (2020). DOI: 10.1039/9781788019880-00232</li> <li>Smoluch M., Piechura K. Mass Spectrometry: An Applied Approach, Chapter 3: Basic Definitions (2019). DOI: 10.1002/9781119377368.ch3</li> <li>IUPAC. Compendium of Chemical Terminology, 2nd ed. (the \"Gold Book\"). Compiled by A. D. McNaught and A. Wilkinson. Blackwell Scientific Publications, Oxford (1997). Online version (2019-) created by S. J. Chalk. ISBN 0-9678550-9-8. 10.1351/goldbook</li> <li>Guo, J., Huan T. Evaluation of significant features discovered from different data acquisition modes in mass spectrometry-based untargeted metabolomics. Analytica Chimica Acta (2020). DOI: 10.1016/j.aca.2020.08.065</li> </ul> <p>Ansgar Korf, Steffen Heuckeroth, corinnabrungs, omokshyna, tdamiani</p>"},{"location":"terminology/ion-mobility-terminology.html","title":"Ion mobility spectrometry terminology","text":""},{"location":"terminology/ion-mobility-terminology.html#background","title":"Background","text":"<p>Ion-mobility mass-spectrometry, here simply referred to as ion-mobility (IM), is an analytical technique where ions are separated through a gas-filled mobility cell prior to the MS acquisition. </p> <p>In classic drift tube ion mobility (DTIM), ions migrate through an inert buffer gas under the influence of a weak electric field.  Ions drift with different velocity based on their interaction with the buffer gas, which allows for the separation of different shaped molecules. Modern devices are able to perform IM separation on a millisecond timescale, typically within 10 to 100 ms. </p> <p>As larger ions have more collisions with the gas, they are more strongly retarded than their smaller counterparts. Thus, smaller ions, having a smaller cross section, arrive earlier at the detector than ions with a larger collisional cross section (CCS). </p> <p>The ion mobility \\(K\\) is then defined as the ratio of the analyte's steady-state net drift velocity to the applied electric field, and it is convention to calculate the reduced ion mobility \\(K_0\\) at standard pressure and standard temperature. This value is often reported as the inverse reduced ion mobility \\(1/K_0\\).</p> <p>From practical point of view, IM nicely fits in-between LC separation (~seconds timescale) and MS detection of TOF instruments (~microseconds timescale). This allows LC-IM-MS instruments to acquire several MS spectra during each accumulation, without incurring sensitivity loss. </p> <p>For example, assuming a typical 100 \u00b5s MS-acquisition time of TOF analyzers, around 1000 spectra can be recorded within 100 ms of IM separation. Therefore, as opposed to LC-MS, multiple MS (or MS2) spectra are associated to each RT in LC-IM-MS data. </p> <p>A more detailed explanation of LC-MS and LC-IMS-MS raw data structure is provided here.</p> <p>Visual explanation of IMS by Waters</p>"},{"location":"terminology/ion-mobility-terminology.html#trapped-ion-mobility-spectrometry-tims","title":"Trapped ion mobility spectrometry (TIMS)","text":"<p>Trapped ion mobility spectrometry (TIMS) reverses the concept of traditional drift tube IM. Rather than moving ions through a stationary gas, TIMS holds ions stationary against a moving gas and then releases them according to their mobility. </p> <p>TIMS has the advantage that the physical dimension of the analyzer can be smaller, whereas the analytical column of gas \u2013 the column that flows past during the course of an analysis \u2013 can be large and user defined. This can lead to increased method sensitivity.</p> <p>Bruker's TIMS TOF Video</p>"},{"location":"terminology/ion-mobility-terminology.html#time-dispersive-ion-mobility-spectrometry-dtims-and-twims","title":"Time-dispersive ion mobility spectrometry (DTIMS and TWIMS)","text":"<p>Time-dispersve IM devices include \"traditional\" drift tube (DTIMS) and travelling-wave (TWIMS) devices. </p> <p>In TWIMS, ions are propelled through a gas-filled stacked ring ion guide with the help of travelling voltage waves. </p> <p>Higher mobility ions undergo less \u2018roll over\u2019 events on the waves than the lower mobility ions. As the waves pass along the device, ions can \u2018surf\u2019 on the wave front for a period of time before being overtaken by the wave. Usage of travelling waves makes possible to increase sensitivity, selectivity, and speed of the method.</p> <p>For more information, see Fundamentals of Traveling Wave Ion Mobility Spectrometry DOI: 10.1021/ac8016295</p>"},{"location":"terminology/ion-mobility-terminology.html#terminology","title":"Terminology","text":""},{"location":"terminology/ion-mobility-terminology.html#accumulations-mobility-scans-and-frames","title":"Accumulations, Mobility Scans and Frames","text":"<p>Altough mainly used for TIMS, the term \"accumulation\" refers to the pack of ions gathered at the head of the IM device prior to the release and separation in the IM cell. </p> <p>As explained above, since the accumulation-separation cycle typically last ~100 ms, multiple MS spectra (referred to as \"mobility scans\" in MZmine) are acquired during each cycle. </p> <p>Frame is the set of mobility scans collected during each IM separation. A frame can be seen as the IM separation of a single accumulation, along which multiple MS spectra are collected. Several frames are contained within one LC peak. Thus, the frame number are a natural unit to measure chromatographic RT. </p> <p>See here for more details.</p> <p></p>"},{"location":"terminology/ion-mobility-terminology.html#mobilograms","title":"Mobilograms","text":"<p>A \"mobilogram\" represents the intensity of an m/z or m/z range along the mobility axis. A mobilogram may be build from multiple frames and summed or built from a single frame.</p> <p></p>"},{"location":"terminology/ion-mobility-terminology.html#ion-mobility-trace","title":"Ion mobility trace","text":"<p>An \"ion mobility trace\" basically represents a mobility resolved extracted ion chromatogram (EIC).</p> <p></p>"},{"location":"terminology/ion-mobility-terminology.html#collisional-cross-section","title":"Collisional Cross Section","text":"<p>Collision cross section (CCS) can be defined as area of interaction between an individual ion and gas molecule. CCS depends on ion's size, shape, and charge. IM-derived CCS values can be used as an additional molecular descriptor to support the compound unknown identification process.</p>"},{"location":"terminology/ion-mobility-terminology.html#references","title":"References","text":"<ul> <li>Meier, F., Brunner, A.D., Koch, S., Cox, J., R\u00e4ther, O., Mann, M. Online Parallel Accumulation\u2013Serial Fragmentation (PASEF) with a Novel Trapped Ion Mobility Mass Spectrometer. Molecular &amp; Cellular Proteomics (2018). DOI: 10.1074/mcp.TIR118.000900</li> <li>Paglia, G. et al. Ion Mobility Derived Collision Cross Sections to Support Metabolomics Applications. Anal. Chem. (2014). DOI: 10.1021/ac500405x</li> </ul> <p>omokshyna, tdamiani</p>"},{"location":"visualization_modules/ecn_plots/ecn_plots.html","title":"ECN (Equivalent Carbon Number) models","text":"<p>Warning</p> <p>This module requires lipid annotations from the Lipid Annotation module.</p>"},{"location":"visualization_modules/ecn_plots/ecn_plots.html#description","title":"Description","text":"<p> Visualization \u2192 (Equivalent Carbon Number) plot</p> <p>This module groups lipids of the same lipid subclass with the same number of double bond equivalents (DBEs). Retention time against the number of carbons is plotted for each group to evaluate the annotation quality in context of the chromatographic behaviour. Trend line and score are added to assist the evaluation.</p> <p>Info</p> <p>ECN models are most practicale in combination with reversed phase chromatography. </p> <p></p>"},{"location":"visualization_modules/ecn_plots/ecn_plots.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/ecn_plots/ecn_plots.html#feature-list","title":"Feature List","text":"<p>Select one feature or aligned feature list.</p>"},{"location":"visualization_modules/feature_histograms/feature_hist.html","title":"Histogram plot","text":""},{"location":"visualization_modules/feature_histograms/feature_hist.html#description","title":"Description","text":"<p> Visualization  \u2192 Histogram plot</p> <p>This plot displays a graphic representation of frequencies. Each rectangle represents an interval of frequency. The height is also equal to the frequency density in that interval. The total area of the histogram is equal to the number of data. This tool can use the m/z value, height, area or retention time as frequency value (X axis) and number of peaks in each interval (Y axis).</p>"},{"location":"visualization_modules/feature_histograms/feature_hist.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/feature_histograms/feature_hist.html#raw-data-files","title":"Raw data files","text":"<p>Column of peaks to be plotted.</p>"},{"location":"visualization_modules/feature_histograms/feature_hist.html#plotted-data-type","title":"Plotted data type","text":"<p>Peak's data to be plotted ( m/z value, height, area or retention time)</p>"},{"location":"visualization_modules/feature_histograms/feature_hist.html#plotted-data-range","title":"Plotted data range","text":"<p>Range of data to be plotted. This range is automatically loaded with max values from the raw data.</p>"},{"location":"visualization_modules/feature_histograms/feature_hist.html#number-of-bins","title":"Number of bins","text":"<p>The plot is divides into this number of bins.</p>"},{"location":"visualization_modules/feature_histograms/feature_hist.html#functionality","title":"Functionality","text":"<p>This plot is using the third part library JfreeChart for its basic functionality.</p> <p>To zoom in, drag the mouse from left to right, selecting the area to zoom. To zoom out drag the zoom from right to left.</p> <p>The next figure shows a histogram using the retention time value. This data is coming from a raw data with a duration of 60 min. Most of the peaks appears around 17 min.</p> <p></p> <p>The next figure shows a histogram using the m/z value. This data is coming from a raw data with a range from 350 to 1400 m/z.</p> <p></p> <p>omokshyna</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html","title":"Image viewer","text":""},{"location":"visualization_modules/image_raw_data/image_viewer.html#description","title":"Description","text":"<p> Visualization  \u2192 Image viewer</p> <p>This visualization module provides an overview of imaging data.</p> <p></p> <p>The interactive imaging plot (left) allows to choose any pixel and explore the underlying spectrum (bottom right). When selecting a signal from the spectrum, the corresponding image will be generated. In Spectrum options menu, the user can choose a feature from a feature list to be depicted on a scan (prior feature detection is required).</p> <p>The top right panel gives information about the raw file and imaging parameters used for the acquisition.</p> <p>Tip</p> <p>The Settings menu on top can be used to change the imaging parameters.</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#parameters-and-settings","title":"Parameters and Settings","text":"<p> The following parameters have to be set when running the module. They can be adjusted in the image viewer settings menu.</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#raw-data-files","title":"Raw data files","text":"<p>Select raw data files</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#scan-selection","title":"Scan selection","text":"<p>Select which scans should be shown in the image. Typical filter for imaging experiments is MS level filter, level = 1. </p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#mz-range","title":"m/z range","text":"<p>Define m/z extraction window.</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#mobility","title":"Mobility","text":"<p>Define mobility extraction window if available.</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#transform-pain-scale","title":"Transform pain scale","text":"<p>Apply a paint scale transformation for the image plot.</p>"},{"location":"visualization_modules/image_raw_data/image_viewer.html#normalize-images","title":"Normalize images","text":"<p>Apply image normalization. </p> <p>kyrasolaris01, omokshyna</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html","title":"Ion mobility raw data overview (LC-IMS-MS)","text":"<p>The \"Ion mobility raw data visualization\" module allow a comprehensive navigation of the complex LC-IM-MS raw data. The screenshot belows shows an example of LC-IM-MS data acquired with a Bruker timsTOF instrument:</p> <p></p> <p>Warning</p> <p>If you don't see any data in the Summed frame [1] or BPC panel [2], the IMS raw data was probably imported from an mzml file. IMS-mzmls do not contain accumulated spectra. Therefore, two processing steps are required, before the data can be displayed: Mass detection for all mobility scans and Mobility scan merging. Both steps are done automatically, if the file is imported through the mzwizard. </p> <p>The main window consists of 5 panels and a set of displaying parameters. All the panels are interconnected, which means that moving the cursor in one panel, automatically updates the others. Cursors are displayed as light-blue solid lines in the panels.</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#summed-frame-spectrum-panel-1","title":"Summed frame spectrum panel [1]","text":"<p>The MS spectrum corresponding to each frame is shown in this panel. The displayed MS spectrum is the sum of all the mobility scans acquired over that frame ( see Ion mobility spectrometry terminology).</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#bpc-panel-2","title":"BPC panel [2]","text":"<p>In this panel, the base peak chromatogram is displayed. Each data point corresponds to an individual frame. Moving the cursor frame-by-frame automatically updates the 'frame heatmap' and 'summed frame spectrum' panels. Moving the cursor frame-by-frame automatically updates the 'summed frame spectrum' panels as changing data point in regular LC-MS data would display a different MS scan. Since each frame is made of several mobily scans, the 'mobilogram chart' and 'frame heatmap' panels automatically updates too. Note. It is currently not possible to display the TIC chromatogram)</p> <p>Clicking in the chromatogram updates the selected frame.</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#mobility-scan-3","title":"Mobility scan [3]","text":"<p>Displays the scan at the current selected mobility value. A scan can be selected by clicking in the mobilogram plot, the frame heatmap or the ion trace chart.</p> <p>Clicking in the spectrum updates the selected m/z value.</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#mobilogram-chart-4","title":"Mobilogram chart [4]","text":"<p>Displays the total ion mobilogram at the selected retention time/frame (see frame spectrum) in the colour of the selected raw data file. Additional ranges for mobilograms can be added using the displaying parameters.</p> <p>Clicking in the mobilogram updates the selected mobility value.</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#frame-heatmap-5","title":"Frame heatmap [5]","text":"<p>Displays the selected frame as a 2D-heatmap. The signal intensity is displayed as a continuous colour scale.</p> <p>Clicking in the heatmap updates the selected mobility and m/z values.</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#ion-trace-chart-6","title":"Ion trace chart [6]","text":"<p>Plots the intensity distribution of the selected m/z value along the retention time (domain) and mobility (range) axes within the currently set Retention time width ( see displaying parameters)</p>"},{"location":"visualization_modules/ims_raw_data_overview/IM-data-visualisation.html#displaying-parameters-7","title":"Displaying parameters [7]","text":"<p>Parameters to adjust the visualisation.</p> <p>Mobility scan noise level: This parameter controls the signals shown in the Mobility scan panel (3) and the Frame heatmap (5). For example, a noise level of 5.0E1 will remove signals below this intensity.</p> <p>Frame noise level: This parameter sets a threshold for the signals shown in the Summed frame spectrum panel.</p> <p>m/z tolerance: A tolerance range for displaying chromatograms, mobilograms, and ion traces of the selected m/z value.</p> <p>Scan selection: Use this to switch between the selected scans, e.g., MS1 and MS2.</p> <p>Retention time width: Boundary around the currently selected retention time to build ion traces for the selected m/z.</p> <p>Mobilogram bin width (abs): Bins the given number of mobility scans together. Achieves a smoother visualisation. May be used to manually investigate the effects of altering the bin width in the  IMS expander to also achieve smoother mobilograms during feature detection.</p> <p>EIC/mobilogram ranges: Manually add m/z ranges that are visualised constantly. Either define a range, or just define the center of the range and click add. In the latter case, the m/z tolerance is used around the given m/z.</p>"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html","title":"Interactive Feature-Based Molecular Networks (FBMN) &amp; Ion Identity Molecular Networks (IIMN)","text":""},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#description","title":"Description","text":"<p> Visualization  \u2192 Interactive ion identity molecular networks</p> <p>Molecular Networking is available in mzmine or through other tools (GNPS, matchms) and connects mass spectra of molecules based on the similarity of their fragmentation patterns. However, during ionization, molecules commonly form multiple ion species with different fragmentation behavior. As a result, the fragmentation spectra of these ion species often remain unconnected in tandem mass spectrometry-based molecular networks, leading to redundant and disconnected sub-networks of the same compound classes. </p> <p>To overcome this bottleneck, MZmine employes Ion Identity Molecular Networking (IIMN) module. This module unites chromatographic peak shape correlation analysis with molecular networks, which is able to connect and collapse different ion species of the same molecule. This feature relationships improve network connectivity for structurally related molecules.</p> <p>This module can be used to reveal unknown ion-ligand complexes, enhance annotation within molecular networks, and facilitate the expansion of spectral reference libraries. </p> <p> Using IIMN it is possible to query GNPS and other spectral libraries for matches.</p> <p>More detailed description of theory behind IIMN can be found in the following video:</p>"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#only-best-networks","title":"Only best networks","text":"<p>Only the networks that only contain first ranked ion identities for all rows.</p>"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#collapse-nodes","title":"Collapse nodes","text":"<p>Collapse all nodes into neutral molecule nodes. </p>"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#connect-by-relations","title":"Connect by relations","text":"<p>Connect neutral molecule nodes by network relations. </p>"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#ms1-feature-edges","title":"MS1 feature edges","text":"<p>Include feature correlation edges.</p>"},{"location":"visualization_modules/interactive_ion_id_netw/interactive_ion_id_netw.html#ms2-similarity-edges","title":"MS2 similarity edges","text":"<p>Show MS2 similarity edges.</p> <p>Robin Schmid, omokshyna</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html","title":"4D feature plot (Kendrick mass plot)","text":""},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#description","title":"Description","text":"<p> Visualization \u2192 4D feature plot (Kendrick)</p> <p>In 1963 Kendrick published his idea of a mass scale, the so-called Kendrick mass scale, which is based on defining the mass of CH2 as 14.0000 u.</p> <p>The Kendrick mass scale is calculated by multiplying the IUPAC mass scale with the factor 14.0000 u/14.01565 u = 0.9988834. This results in the same mass defect for homologous components, the so-called Kendrick mass defect (KMD). The KMD is defined as the \\(\\Delta\\) of a nominal Kendrick mass and its associated Kendrick mass. Using the Kendrick mass scale has the purpose of data reduction.</p> \\[KM(R)=m/z\\cdot\\frac{round(R)}{R}\\] \\[KMD(R)=round(KM(R))-KM(R)\\] <p>where \\(KM\\) is Kendrick mass, \\(KMD\\) - Kendrick mass defect, \\(R\\) - exact mass of selected base unit.</p> <p></p> <p>If you use this module for your analysis or visualization, please cite:</p> <p> </p> <p>Three\u2010dimensional Kendrick mass plots as a tool for graphical lipid identification. A. Korf, C. Vosse, R. Schmid, P. O. Helmer, V. Jeck, H. Hayen, Rapid Communications in Mass Spectrometry 32.12 (2018): 981-991.</p> <p>Expanding the Kendrick Mass Plot Toolbox in MZmine 2 to Enable Rapid Polymer Characterization in Liquid Chromatography\u2212Mass Spectrometry Data Sets A. Korf, T. Fouquet, R. Schmid, H. Hayen, and S. Hagenhoff, Analytical Chemistry 2020 92 (1), 628-633.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#detailed-functionality","title":"Detailed functionality","text":"<p>This module allows to create 4 dimensional Kendrick mass plots. Feature characteristics, such as retention time or feature area, can be plotted as color scale or bubble size.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#charge-dependent-kendrick-mass-plots","title":"Charge dependent Kendrick mass plots","text":"<p>Multiply charged ions can cause splits in Kendrick mass plot. Fouquet et al. have shown considering the charge for the calculation of the KM can help to overcome this problem through clustering of features.</p> \\[KM(R,Z)=Z\\cdot KM(R)=Z\\cdot m/z\\cdot \\frac{round(R)}{R}\\] <p>where \\(Z\\) is charge.</p> <p> </p> <p>Fouquet, Thierry NJ, et al. \"On the Kendrick Mass Defect Plots of Multiply Charged Polymer Ions: Splits, Misalignments, and How to Correct Them.\" Journal of The American Society for Mass Spectrometry 29.8 (2018): 1611-1626.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#resolution-enhanced-kendrick-mass-defect-plots","title":"Resolution enhanced Kendrick mass defect plots","text":"<p>Fouquet and Sato have shown that a fractional base unit (ivisor) can enhance the resolution of Kendrick mass plots.</p> \\[X&gt;1, KM(R,X)=m/z\\cdot \\frac{round(R/X)}{R/X}\\] <p>where \\(X\\) is a fractional base unit.</p> <p> </p> <p>Fouquet, Thierry, and Hiroaki Sato. \"Extension of the Kendrick mass defect analysis of homopolymers to low resolution and high mass range mass spectra using fractional base units.\" Analytical chemistry 89.5 (2017): 2682-2686.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#combining-charge-and-fractional-base-unit-divisor","title":"Combining charge and fractional base unit (Divisor)","text":"<p>If both charge and fractional base unit are changed, the following equation is used:</p> \\[KM(R,Z,X)=Z\\cdot KM(RX)=Z\\cdot m/z\\cdot \\frac{round(R/X)}{R/X}\\] <p> </p> <p>Fouquet, Thierry NJ, et al. \"On the Kendrick Mass Defect Plots of Multiply Charged Polymer Ions: Splits, Misalignments, and How to Correct Them.\" Journal of The American Society for Mass Spectrometry 29.8 (2018): 1611-1626.</p> <p>Fouquet, Thierry, Takaya Satoh, and Hiroaki Sato. \"First gut instincts are always right: the resolution required for a mass defect analysis of polymer ions can be as low as oligomeric.\" Analytical chemistry 90.4 (2018): 2404-2408.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#remainders-of-kendrick-masses-rkm","title":"Remainders of Kendrick masses (RKM)","text":"<p>Another option to increase the resolution of Kendrick mass plots is the by Fouquet et al. proposed concept of RKM (remainders of Kendrick masses). [RKM(R)=\\Bigg{\\frac{KM(R)}{round(R)}\\Bigg}]</p> <p>with \\(\\{ \\}\\) being the fractional part function defined as \\(x=x-floor(x)\\)</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#feature-list","title":"Feature List","text":"<p>Select one feature or aligned feature list.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#x-axis","title":"X-axis","text":"<p>Select which metric you want to display on the X-Axis. Possible metrics are m/z, Kendrick Mass, Kendrick Mass Defect, Remainder of Kendrick Mass, Retention Time, Mobility, Intensity, Area, Tailing Factor, and Asymetry Factor.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#repeating-unit-for-x-axis","title":"Repeating unit for X-Axis","text":"<p>Enter a molecular formula which will be used for Kendrick Mass calculation. The field is only acitve if Kendrick, Kendrick Mass Defect, or Remainder of Kendrick Mass is selected.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#y-axis","title":"Y-axis","text":"<p>Select which metric you want to display on the Y-Axis. Possible metrics are m/z, Kendrick Mass, Kendrick Mass Defect, Remainder of Kendrick Mass, Retention Time, Mobility, Intensity, Area, Tailing Factor, and Asymetry Factor.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#repeating-unit-for-y-axis","title":"Repeating unit for Y-Axis","text":"<p>Enter a molecular formula which will be used for Kendrick Mass calculation. The field is only acitve if Kendrick, Kendrick Mass Defect, or Remainder of Kendrick Mass is selected.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#color-scale","title":"Color scale","text":"<p>Select which metric you want to display as a color scale. Possible metrics are m/z, Kendrick Mass, Kendrick Mass Defect, Remainder of Kendrick Mass, Retention Time, Mobility, Intensity, Area, Tailing Factor, and Asymetry Factor.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#repeating-unit-for-color-scale","title":"Repeating unit for color scale","text":"<p>Enter a molecular formula which will be used for Kendrick Mass calculation. The field is only acitve if Kendrick, Kendrick Mass Defect, or Remainder of Kendrick Mass is selected.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#bubble-size","title":"Bubble size","text":"<p>Select which metric you want to display as bubble size. Possible metrics are m/z, Kendrick Mass, Kendrick Mass Defect, Remainder of Kendrick Mass, Retention Time, Mobility, Intensity, Area, Tailing Factor, and Asymetry Factor.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#repeating-unit-for-bubble-size","title":"Repeating unit for bubble size","text":"<p>Enter a molecular formula which will be used for Kendrick Mass calculation. The field is only acitve if Kendrick, Kendrick Mass Defect, or Remainder of Kendrick Mass is selected.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#region-of-interest-roi-extraction","title":"Region of interest ROI extraction","text":"<p>The Kendrick/4D plot can be used to extract regions of interest from a plot. E.g., you can use this to extract polymers, PFAS, Lipids and more depending on their localization in a m/z vs. RT plot or in a Kendrick plot.</p> <ol> <li>Find the \"Region\" panel below the kendrick plot </li> <li>Start drawing by pressing the \"Start\" button.</li> <li>Draw your region of interest in the plot. Unfinished ROIs will be filled in    gray. </li> <li>Finish drawing the region by pressing the \"Finish\" button. The finished region will just be    outlined. </li> <li>Click the \"Extract to feature list\" button to create a new feature list of features in this    region.</li> </ol> <p>!!! Note: The chart supports multiple regions. Region drawing can be canceled, regions can be removed or loaded and saved using the respective buttons.</p> <p>!!! Batch mode: To use the ROI extraction in the batch mode, set up the desired ROI using the 4D chart and save the region or extract it. You can either save the whole batch from the feature list summary or load the regions into the 'Region extraction' module.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#automatic-repeating-unit-suggestion","title":"Automatic Repeating Unit Suggestion","text":""},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#description_1","title":"Description","text":"<p>The <code>Repeating Unit Suggester</code> in mzmine is designed to automatically predict repeating units based on the m/z values of features in a feature list. This functionality is crucial for simplifying the identification of repeating units in polymer analysis, lipid identification, and other applications requiring pattern recognition in mass spectrometry data.</p>"},{"location":"visualization_modules/kendrickmass/kendrick_mass_plot.html#functionality","title":"Functionality","text":"<p>The <code>Repeating Unit Suggester</code> performs the following steps to suggest repeating units. The results are displayed on the right side of the parameter setup dialog:</p> <ol> <li> <p>Extract m/z Values: The m/z values are extracted from the provided feature list, taking into    account the detected charge states of the features, if available (default charge = 1).</p> </li> <li> <p>Calculate Delta Frequencies: The frequency of all m/z deltas is calculated to identify common    mass differences between features.</p> </li> <li> <p>Identify Top Deltas: The top N delta medians are identified based on their frequency, which    helps in pinpointing the most common repeating units.</p> </li> <li> <p>Filter Multimers: The deltas are filtered to remove multimers, ensuring that only the most    relevant repeating units are considered.</p> </li> <li> <p>Predict Formulas: Potential molecular formulas corresponding to the identified deltas are    predicted. This involves:</p> <ul> <li>Generating molecular formulas.</li> <li>Applying heuristic checks (RDBE, elemental, and nitrogen rule) to validate the predicted   formulas.</li> </ul> </li> </ol>"},{"location":"visualization_modules/lipid_annotation_summary/lipid_annotation_summary.html","title":"Lipid Annotation summary","text":"<p>Warning</p> <p>This module requires lipid annotations from the Lipid Annotation module.</p>"},{"location":"visualization_modules/lipid_annotation_summary/lipid_annotation_summary.html#description","title":"Description","text":"<p> Visualization \u2192 Lipid annotation summary</p> <p>This module summaries all lipid annotations of a selected feature list in form of a sunburst chart. The layers from inside to outside follow the LipidMaps hierarchy: - Lipid Category - Lipid Main Class - Lipid Sub Class - Lipid Species</p> <p>Unfolding the accordion \"Filter Annotations\" allows to control which hierarchy level should be displayed.</p> <p>The left plot shows the total of all lipid annotations, including multiple annotations per feature. Multiple annotation levels (species and molecular species level) are not counted. The right plot shows the unique number of lipids, meaning the number of annotated features.</p> <p></p> <p>Both plots can be filtered individually. You can display: - \"All\", including all lipid annotations regardless of annotation quality - \"Confirmed (MS2)\", only annotations confirmed by MS2 fragments - \"Unconfirmed (only MS1)\", only annotations not validated by MS2, solely based on MS1 accuracy</p>"},{"location":"visualization_modules/lipid_annotation_summary/lipid_annotation_summary.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/lipid_annotation_summary/lipid_annotation_summary.html#feature-list","title":"Feature List","text":"<p>Select one feature or aligned feature list.</p>"},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html","title":"Massvoltammogram","text":""},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#electrochemistrymass-spectrometry","title":"Electrochemistry/Mass Spectrometry","text":"<p>The hyphenation of electrochemistry (EC) and mass spectrometry (MS) is an analytical technique for the instrumental simulation of the human metabolism. By applying an electric potential to an electrochemical cell, that contains the analyte solution, it is possible to generate transformation products. These transformation products often closely resemble in vivo-metabolites. <sup>[1,2]</sup></p> <p>The applied potential is ramped in a given range to detect transformation products formed at different potentials. For an easy identification of the generated transformation products the collected data is  often shown in so-called mass voltammograms. These mass voltammograms are three-dimensional plots in which mass spectra are shown in dependence of the corresponding applied potential. Using a mass voltammogram it is very easy to observe the different transformation products generated at different applied potentials. <sup>[3,4]</sup></p>"},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#description","title":"Description","text":"<p> Visualization \u2192 Massvoltammogram</p> <p>The \"massvoltammogram\" module allows the visualisation of EC/MS-data in the form of mass voltammograms.  The screenshot below shows a mass voltammogram generated with MZmine3.  Mass voltammograms can be generated directly from the raw data files without the need for any other processing steps.  Otherwise ist is also possible to create mass voltammograms from processed feature lists.</p> <p></p> <p>The mass voltammogram can be moved and rotated via the first two buttons in the toolbar and scaled by using the mouse wheel. The third button in the toolbar can be used to reset the view. By right-clicking on any given point in the mass voltammogram the points exact coordinates are shown. Furthermore the range of shown m/z-values can be readjusted by pressing the \"m/z\"-button in the toolbar .</p> <p>To export the mass voltammogram the second-last button in the toolbar needs to be pressed.  There are two file formats available. The mass voltammogram can be exported as an image to a png-file or all mass spectra in the mass voltammogram can be exported to single csv-files.</p>"},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#parameter","title":"Parameter","text":""},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#from-raw-data-file","title":"From raw data file","text":"<p> Visualization \u2192 Massvoltammogram \u2192 From Raw Data File</p> <p>This module generates the mass voltammogram from a raw data file.</p> <p></p> <p>Raw data files</p> <p>The raw data file of the EC/MS-experiment the mass voltammogram will be generated from.</p> <p>Scan Selection</p> <p>The scan selection filter used to define the scan types to be used for the generation of the mass voltammogram. For example is it possible to select the MS level or the ion polarity.</p>"},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#from-feature-list","title":"From feature list","text":"<p> Visualization \u2192 Massvoltammogram \u2192 From Feature List</p> <p>This module generates the mass voltammogram from a feature list.</p> <p></p> <p>Feature lists</p> <p>The feature list the mass voltammogram will be generated from.</p>"},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#general-parameter","title":"General Parameter","text":"<p>The following parameter are the same whether the mass voltammogram will be created from a raw data file or a feature list.</p> <p>Reaction Mode</p> <p>The mode the electrochemical cell was used in, whether oxidative or reductive.</p> <p>Delay Time</p> <p>The delay time in s between the generation of the transformation products and their detection in the mass spectrometer.</p> <p>Potential Ramp</p> <p>The speed in mV s<sup>-1</sup> the applied potential is ramped at.</p> <p>Potential Range</p> <p>The potential range of the applied potential ramp in mV.</p> <p>Potential Steps</p> <p>The potential step size in mV between the mass spectra that are shown in the mass voltammogram.</p> <p>m/z Range</p> <p>The range of m/z-values to be shown in the mass voltammogram.</p>"},{"location":"visualization_modules/massvoltammogram/massvoltammogram.html#references","title":"References","text":"<p>[1] A. Baumann, U. Karst, Expert. Opin. Drug. Metab. Toxicol. 2010, 6, 715\u2013731.</p> <p>[2] W. Lohmann, U. Karst, Anal. Bioanal. Chem. 2008, 391, 79\u201396</p> <p>[3] H. Faber, M. Vogel, U. Karst, Anal. Chim. Acta. 2014, 834, 9\u201321. </p> <p>[4] T. Herl, F.-M. Matysik, ChemElectroChem. 2020, 7, 2498\u20132512.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html","title":"MS/MS plot","text":""},{"location":"visualization_modules/msmsplot/msms-plot.html#description","title":"Description","text":"<p> Visualization  \u2192 MS/MS scatter plot</p> <p>This module provides a colored scatter plot of the MS/MS data. There are 4 options for X and Y axes: retention time, precursor ion m/z, product ion m/z, neutral loss and 3 options for Z axis (color): precursor ion intensity, product ion intensity, retention time. The module additionally allows you to filter ions by their intensities and to perform diagnostic fragmentation filtering. In order to focus on the values of interest you can highlight specific data points and sort them by color axis. This tool can be very useful to get an overview of large amounts of MS/MS data by tuning parameters and filters.</p> <p></p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/msmsplot/msms-plot.html#raw-data-file","title":"Raw data file","text":"<p>Selection of the raw data file to visualize. Only one file can be selected.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#x-axis","title":"X axis","text":"<p>Selection of the values for X axis. There are 4 options available: Retention time, Precursor ion m/z, Product ion m/z, Neutral loss.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#y-axis","title":"Y axis","text":"<p>Selection of the values for Y axis. Options are the same as for X axis.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#z-axis","title":"Z axis","text":"<p>Selection of the vales for Z axis. There are 3 options available: Precursor ion intensity, Product ion intensity, Retention time.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#ms-level","title":"MS level","text":"<p>MS level of the scans to be plotted.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#retention-time","title":"Retention time","text":"<p>Retention time range.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#mz-range","title":"m/z range","text":"<p>Range of m/z values for precursor ions in MSn scans.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#mz-tolerance","title":"m/z tolerance","text":"<p>Maximum allowed difference between two m/z values to be considered same.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#intensities-filtering","title":"Intensities filtering","text":"<p>Optional parameter to filter ions by intensity. There are 3 different ways of filtering:</p> <ul> <li>Number of best fragments - Number of ions with highest intensities from each scan to be visualized.         For example 5(for each scan 5 ions with highest intensities will be plotted).</li> <li>Base peak percent, % - Ions with intensity values lower than the given percent of base peak intensity will be plotted.         For example 95(ions with intensity values lower than 0.95 multiplied by base peak intensity will not be plotted).</li> <li>Intensity threshold - Ions having intensities lower than the given value will not be plotted.         For example 6.0E6(ions with intensity values lower than 6.0E6 will not be plotted).</li> </ul>"},{"location":"visualization_modules/msmsplot/msms-plot.html#diagnostic-fragmentation-filtering","title":"Diagnostic fragmentation filtering","text":"<p>Optional parameter for diagnostic fragmentation filtering described below. It has 2 subparameters: diagnostic product ions and diagnostic neutral loss values. Scans not containing any ion satisfying each input criterion will not be considered for the visualization.</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#diagnostic-fragmentation-filtering_1","title":"Diagnostic fragmentation filtering","text":"<p>Due to common structural features, compounds within the same class undergo similar MS/MS fragmentation and as a result of many identical product ions and/or neutral losses. Diagnostic fragmentation filter (product ion filter) is a post-acquisition approach to screen LC-MS/MS datasets for entire classes of both known and unknown natural products. This tool searches all MS/MS spectra for product ions and/or neutral losses that has defined as being diagnostic for the entire class of compounds. In other words it screens LC-MS/MS datasets for MS/MS spectra containing production ions and/or neutral losses that are specific to that class of compounds. The user defines the diagnostic product ions and/or the diagnostic neutral loss values (Da) to use in the filtering.</p> <p>The user can also define the minimum diagnostic ion intensity (% base peak) to use in the filtering. If a recurrent neutral loss occurs, a line pattern in the plot can be observed. If compounds carrying those diagnostic product ions and/or the neutral loss values are detected the resulting plot will show their product ion m/z and precusor ion m/z. Additionally, an output file may be specified that will output the results of the filtering. For a detailed view of diagnostic fragmentation filtering: Walsh, Jacob P., et al. \"Diagnostic Fragmentation Filtering for the Discovery of New Chaetoglobosins and Cytochalasins.\" Rapid Communications in Mass Spectrometry (2018).</p>"},{"location":"visualization_modules/msmsplot/msms-plot.html#functionality","title":"Functionality","text":"<p>This plot is using the third part library JfreeChart for its basic functionality.     <ul> <li>Drag the mouse from left to right - selecting the area to zoom</li> <li>Drag the mouse from right to left - zoom out</li> <li>Select combo boxes below - change axes types</li> <li>Hold the mouse on data point - show detailed information in a tooltip</li> <li>Double click on data point - show spectrum plot</li> <li> - highlight points representing ions with specific values given by input ranges (Note: colors of range input boxes determine the highlighting color, green color denotes ions satisfying both ranges)</li> <li> - show intense points in front</li> <li> - show pale points in front</li> </ul></p> <p>Robin Schmid, Roman Bushuiev, omokshyna</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html","title":"Additional tools","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#scatter-plot","title":"Scatter plot","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#description","title":"Description","text":"<p> Visualization  \u2192 Scatter plot</p> <p>This tool shows a scatter plot with data from identified peaks in aligned feature list.</p> <p>A search for a peak can be done using three options (name, retention time and m/z value).</p> <p></p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#correlated-features-deltamz-histogram","title":"Correlated features \\(\\Delta\\)m/z histogram","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#description_1","title":"Description","text":"<p> Visualization  \u2192 Correlated features \\(\\Delta\\)m/z histogram</p> <p>This module plots all m/z deltas between correlated features in a histogram and offers a Gaussian fit.</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#minimum-pearson-correlation","title":"Minimum Pearson correlation","text":"<p>Minimum Pearson correlation of feature shapes.</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#limit-delta-to-mz","title":"Limit delta to m/z","text":"<p>Maximum m/z delta is the m/z of the smaller ion (feature list row).</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#mz-bin-width","title":"m/z bin width","text":"<p>Binning of m/z values for feature picking</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#append-to-file","title":"Append to file","text":"<p>Append the correlated features delta m/z to a csv file.</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#correlation-coefficient-histogram","title":"Correlation coefficient histogram","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#description_2","title":"Description","text":"<p> This module is being updated. Some newer functionality might not be documented.</p> <p>This module allows to plot all correlations between feature shapes.</p> <p></p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#parameters_1","title":"Parameters","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#mz-bin-width_1","title":"m/z bin width","text":"<p>Binning of m/z values for feature picking</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#feature-intensity-plot","title":"Feature intensity plot","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#description_3","title":"Description","text":"<p> This module has a known bug and is being updated, which might affect its functionality.</p> <p> Visualization \u2192 Feature intensity plot</p> <p>This plot allows to explore specific features against the raw data.</p> <p></p> <p></p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#parameters_2","title":"Parameters","text":""},{"location":"visualization_modules/processed_additional/processed_additional.html#data-files","title":"Data files","text":"<p>Selects the raw data files from where the peaks were detected</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#x-axis-value","title":"X axis value","text":"<p>X axis display the raw data file name or the parameter defined in the \"set sample parameters\" window</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#x-axis-value_1","title":"X axis value","text":"<p>The user can choose from peak's height, area or retention time value to display in this axis.</p>"},{"location":"visualization_modules/processed_additional/processed_additional.html#peaks","title":"Peaks","text":"<p>The user can select the peaks to use in this plot.</p> <p>omokshyna</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html","title":"Additional tools","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#chromatogram-plot","title":"Chromatogram plot","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#description","title":"Description","text":"<p> Visualization \u2192 Chromatogram plot</p> <p>There is a possibility to display chromatographic peaks outside of raw data overview. This standalone two-dimensional plot visualizes TIC/XIC data. All the chromatograms are displayed in the same plot.</p> <p>The x-axis corresponds to retention time and the y-axis is the intensity level of the signal.</p> <p></p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#raw-data-files","title":"Raw data files","text":"<p>List of raw data files to display in the TIC visualizer.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#ms-level","title":"MS level","text":"<p>Scan level (MS1,MS2,... ,MSn) to display in the plot.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#plot-type","title":"Plot type","text":"<p>TIC or base peak</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#retention-time","title":"Retention time","text":"<p>Retention time (x-axis) range.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#mz-range","title":"m/z range","text":"<p>Range of m/z values. If this range does not include the entire scan m/z range, the resulting visualizer is XIC type.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#selected-peaks","title":"Selected peaks","text":"<p>List of chromatographic peaks to display in the TIC visualizer. This option is available only if a peak list related to the selected raw data file exists in the current project.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#ms-spectrum","title":"MS spectrum","text":"<p> Visualization \u2192 MS spectrum</p> <p>Displays all the ions from a selected scan. Can be used to explore mass spectrum outside of raw data overview. Only one raw file can be chosen.</p> <p>It shows a plot of two dimensions, where X axis corresponds to m/z value and Y axis is the intensity of the ion signal.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_1","title":"Parameters","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scan-number","title":"Scan number","text":"<p>Choose the scan to visualize</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#2d-visualizer","title":"2D visualizer","text":"<p> Visualization \u2192 2D plot</p> <p>This tool displays a plot of two dimensions, where X axis corresponds to retention time and Y axis is the m/z value. This visualization of spots in the plot corresponds with the intensity of the data in that region.</p> <p></p> <p> User can define features from the feature list to be displayed on the plot.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_2","title":"Parameters","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#type-of-data","title":"Type of data","text":"<p>This plot can use either resampled data as input (faster), or raw data (slower).</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scans","title":"Scans","text":"<p>Here user can set up the level (MS1,MS2,... ,MSn), polarity, retention time, and the other parameters of the scans to be used.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#mz","title":"m/z","text":"<p>Defines range of m/z values. </p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#3d-visualizer","title":"3D visualizer","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#description_1","title":"Description","text":"<p> Visualization \u2192 3D plot</p> <p>This tool presents a three dimensional plot where X axis represents the retention time, Y axis the m/z value and Z axis the intensity of the signal. This plot is the collection of all the information from the raw data in a graphical representation.</p> <p></p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_3","title":"Parameters","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scans_1","title":"Scans","text":"<p>Here user can set up the level (MS1,MS2,... ,MSn), polarity, retention time, and the other parameters of the scans to be used.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#mz-range_1","title":"m/z range","text":"<p>Range of m/z values.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#features","title":"Features","text":"<p>Features that will be taken as an input.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#retention-time-resolution","title":"Retention time resolution","text":"<p>Number of data points on retention time axis.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#mz-resolution","title":"m/z resolution","text":"<p>Number of data points on m/z axis.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scan-histogram","title":"Scan histogram","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#description_2","title":"Description","text":"<p> Visualization \u2192 Scan histogram</p> <p>This module creates m/z distribution histograms of all m/z values in mass lists across specified scans. The binning width, in which the m/z values are counted, can be changed dynamically. The number of scans that contain a specific m/z value (bin) are plotted.</p> <p></p> <p>https://youtu.be/31hwc74vUjA</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#parameters_4","title":"Parameters","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scans_2","title":"Scans","text":"<p>Here user can set up the level (MS1,MS2,... ,MSn), polarity, retention time, and the other parameters of the scans to be used.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#mz_1","title":"m/z","text":"<p>Limit the range of the histogram (can improve performance).</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#signal-intensity-range","title":"Signal intensity range","text":"<p>Optional parameter</p> <p>Allows to limit signal intensities (can improve performance).</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#mass-defect","title":"Mass defect","text":"<p>Optional parameter</p> <p>Filters for mass defects in the signals.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#type","title":"Type","text":"<p>Type of the histogram to be created. Available options:</p> <ul> <li>m/z,</li> <li>Intensity,</li> <li>Intensity (noise recalibrated),</li> <li>Mass defect.</li> </ul>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#bin-width","title":"Bin width","text":"<p>The binning width to count m/z value occurence in scans.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#use-mobility-scans","title":"Use mobility scans","text":"<p>If the input data has ion mobility dimension, this data can be used instead of the data from the summed frames.</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#scan-inject-time-analysis","title":"Scan inject time analysis","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_additional.html#msn-spectra-tree","title":"MS(n) spectra tree","text":"<p>omokshyna</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html","title":"Raw data overview (LC-MS)","text":""},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#description","title":"Description","text":"<p> Visualization \u2192 Raw data overview, or it can be accesed by double-click of left mouse button, or by clicking the right mouse button on MS data files table and choosing  Show raw data overview</p> <p>Raw data overview allows user to explore both chromatogram and MS views across all the selected files. By double-clicking on the raw file of interest in the \"MS data files\" tab, Raw data overview tab will open in the main content pane. Raw data overview can either display single or multiple overlaid chromatograms, depending on how many raw files are selected.</p> <p> To allow selection of multiple raw files, click the checkbox near the tab name \"Raw data overview\".</p> <p>The view consists of three panes - chromatogram representation (on the left), mass spectrum (on the right), and table with tabs containing additional information about raw data files.</p> <p></p>"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#chromatogram-parameters","title":"Chromatogram parameters","text":"<p>Show XIC</p> <p>To display an extracted ion chromatogram (XIC), the user can tick the \"Show XIC\" box. There are several options for defining the m/z range - from mass, from formula and auto range. </p> <p></p> <p>\"Setup\" button allows to choose the appropriate plot type. Base peak intensity plot only shows the signal of the most intense mass peak in each MS spectrum, while the Total ion current plot shows the summed signal intensity of all masses at any one retention time point.</p> <p></p>"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#spectrum-parameters","title":"Spectrum parameters","text":"<p>When masses are detected, it is possible to display them on the spectrum by ticking an option \"Show mass list\".</p>"},{"location":"visualization_modules/raw_data_overview/raw_data_overview.html#page-contributors","title":"Page Contributors","text":"<p>lalalana5, omokshyna</p>"},{"location":"visualization_modules/vankrevelen/van_krevelen_plot.html","title":"Van Krevelen diagram","text":""},{"location":"visualization_modules/vankrevelen/van_krevelen_plot.html#description","title":"Description","text":"<p>Van Krevelen diagrams are graphical plots developed by Dirk Willem van Krevelen (chemist and professor of fuel technology at the TU Delft) that are used to assess the origin and maturity of kerogen and petroleum.</p> <p>The diagram cross-plots the hydrogen:carbon (hydrogen index) as a function of the oxygen:carbon (oxygen index) atomic ratios of carbon compounds.</p> <p> </p> <ol> <li>Van Krevelen, D.W. (1950). \"Graphical-statistical method for the study of structure and reaction processes of coal\", Fuel, 29, 269-84</li> <li>https://en.wikipedia.org/wiki/Van_Krevelen_diagram</li> </ol> <p>Warning</p> <p>Since element ratios are plotted only annotated features are considered. </p> <p></p>"},{"location":"visualization_modules/vankrevelen/van_krevelen_plot.html#parameters","title":"Parameters","text":""},{"location":"visualization_modules/vankrevelen/van_krevelen_plot.html#feature-lists","title":"Feature lists","text":"<p>Select feature list to display as Van Krevelen diagram.</p>"},{"location":"visualization_modules/vankrevelen/van_krevelen_plot.html#color-scale","title":"Color scale","text":"<p>Select which parameters you want to display as a color scale.</p>"},{"location":"visualization_modules/vankrevelen/van_krevelen_plot.html#bubble-size","title":"Bubble size","text":"<p>Select which parameters you want to display as bubble size.</p> <p>Ansgar Korf, Steffen Heuckeroth</p>"},{"location":"visualization_modules/visualization_overview/visualization-overview.html","title":"Visualization modules","text":"<p>MZmine provides a rangle of interactive visualization tools for analysis of raw and processed data. JFreeChart library is used for majority of plots. Most of the generated plots are interactive.</p> <p>The following functions are available:</p> <ul> <li>Use the + or - key on the keyboard to zoom in or out.</li> <li>Scroll with the mouse to zoom in or out.</li> <li>Drag the mouse from left to right to select the area to zoom in.</li> <li>Drag the mouse from right to left to zoom out to the default view.</li> <li>Single click on the y-axis to auto set the intensity to auto height.</li> <li>Double click on the y- or x-axis to reset the zoom to default.</li> </ul> <p>In the right part of the plot there is a toolbar. Its functionality is also included in a pop-up menu, which appears when you make right click on the plot area.</p> <p>omokshyna</p>"},{"location":"workflows/batch_processing/batch-processing.html","title":"Batch processing","text":"<p>Besides the interactive GUI, MZmine allows the user to run processing workflows in an automated manner using the \"batch mode\". Entire processing pipelines (including data import/export) can be run with few clicks, or even through the command-line application. This makes MZmine suitable to be integrated into automated data analysis pipelines (e.g. QC systems).</p> <p>Batch files (XML format) are essentially lists of tasks run by MZmine one after another. Any of the methods available in MZmine 3 can be included in the batch file.</p>"},{"location":"workflows/batch_processing/batch-processing.html#how-to-run-batch-processing","title":"How to run batch processing","text":"<p>Project  Batch mode </p> <p>When a new step is added to the queue its parameter setup dialog is shown. The \"Set paramaters\" button allows the user to modify a step's parameter settings. The \"Clear\" button removes all steps. The \"Load\" and \"Save\" buttons make it possible to read and write batch steps to XML files.</p> <p>The first step of a batch queue is performed on those raw data files and/or peak lists selected by the user. The remaining steps are performed on the results produced by each preceding step (File/Feature list selection must be set to Those created by previous batch step). For example, if the first step of the batch queue is the ADAP chromatogram builder, it will produce peak lists as a result. If the following step were Peak list deconvolution then it will be performed on the peak lists produced by the preceding Chromatogram builder step.</p> <p> Tip MZmine \"remembers\" the last settings used.</p>"},{"location":"workflows/batch_processing/batch-processing.html#processing-wizard","title":"Processing wizard","text":"<p>The processing wizard is inteded to quickly set up a general workflow for the processing of untargeted LC-MS and LC-IM-MS data. By clicking the \"Set default\" button, default settings for mass and feature detection are also provided according to the selected MS type (Orbitrap or TOF) and LC system (UHPLC or HPLC). Once the desired parameters have been set, hit the \"Build batch\" botton and a pre-populated batch window will open up.</p> <p>Tools  Processing wizard </p>"},{"location":"workflows/batch_processing/batch-processing.html#mass-spectrometers-presets","title":"Mass spectrometers presets","text":"<p>MS type: When TOF is selected, the \"Ion mobility\" can be enabled  MS1 and MS2 noise level:  Minimum feature height:  Scan to scan m/z tolerance:  Feature to feature m/z tolerance: </p>"},{"location":"workflows/batch_processing/batch-processing.html#hplc-presets","title":"HPLC presets","text":"<p>Stable ionization across samples:  Crop retention time:  Max peaks in chromatogram:  Min samples per aligned feature:  Min # of data points:  Approximate feature FWHM:  Intra-sample RT tolerance:  Inter-sample RT tolerance:  Only keep feature with 13C:  Original feature list:  Export path: </p> <p>Warning</p> <p>The default settings were optimized on sample datasets used during the MZmine 3 development. Although probably suitable for many appications, it is strongly recommended not to blindly rely on them. Rather, optimal processing parameters should be chosen based on the LC-(IM)-MS system performance and data acquisition settings.</p> <p>omokshyna, tdamiani</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html","title":"Untargeted GC-MS Workflow","text":"<p>The workflow proposed herein is intended as a general pipeline for untargeted GC/EI-MS data preprocessing. GC/CI-MS can be processed analog to LC-MS. The main goal is essentially to turn the highly-complex GC-MS raw data into a list of features, and corresponding signal intensity, detected across the analysed samples. Such feature lists can then be annotated and/or exported for further downstream analysis (e.g., identification, search against spectral libraries, statistical analysis, etc.). A schematic representation of the workflow is shown below:</p> <p></p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#raw-data-processing","title":"Raw data processing","text":"<p>The raw data processing consists of essentially two steps: Data import and Mass detection</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#raw-data-import","title":"Raw data import","text":"<p>Either open (e.g. mzML) and native vendor (e.g. Thermo, Bruker) data formats can be imported in mzmine. All the supported formats can be found here.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#mass-detection","title":"Mass detection","text":"<p>This step produces a list (referred to as \"mass list\") of the m/z values found in each MS scan across the LC run that exceed a user-defined threshold (i.e. noise level). For more details see the Mass detection module.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#feature-detection","title":"Feature detection","text":"<p>The goal of the \"Feature detection\" is to obtain a list of all the detected features (characterized by a RT and m/z value) from the raw GC-MS data.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#chromatogram-building","title":"Chromatogram building","text":"<p>The first step in the Feature detection is to build the extracted ion chromatograms (EICs) for each detected m/z (see Mass detection). For this, use the Chromatogram builder module.</p> <p>The \"detected\" features in each file are listed in the so-called \"feature lists\", which are then further processed and aligned to connect corresponding features across all samples.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#smoothing-in-retention-time-dimension-optional","title":"Smoothing in retention time dimension (optional)","text":"<p>Depending on the GC peak shape (i.e. data noisiness), the user can perform smoothing in retention time dimension.  For more details see the Mass detection and Smoothing modules.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#feature-resolving","title":"Feature resolving","text":"<p>Feature resolving step enables separation of co-eluting and overlapping chromatography peaks. It is one of the pivotal steps in data preprocessing. For more details on the algorithm used and parameters settings, see the Local minimum resolver module.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#spectral-deconvolution","title":"Spectral deconvolution","text":"<p>When using a hard ionization technique such as electron ionization (EI), multiple m/z values belong to the same compound. These m/z fragments can be grouped together based on their chromatographic behaviour (peak shape correlation). The grouping results in a cleaned up feature list as well as high quality deconvoluted GC/EI-MS spectra, perfect for spectral library matching. Find more info on spectral deconvolution here.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#feature-alignment","title":"Feature alignment","text":"<p>Feature alignment enables alignment of corresponding features across multiple samples. </p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#gc-aligner","title":"GC aligner","text":"<p>This module aligns detected features in different samples through a match score. The score is calculated based on the retention time and spectral similarity of each feature.  For more information, see the GC aligner module. </p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#annotation-filtering-statistics-and-export","title":"Annotation, Filtering, Statistics and Export","text":"<p>Depending on the downstream analyses, there are several options which are accessible through the Feature list methods menu. Annotate compounds using spectral library search, apply various filtering criteria, explore the results using the statistics dashboard, or export the results.</p>"},{"location":"workflows/gcmsworkflow/gcms-workflow.html#page-contributors","title":"Page Contributors","text":"<p>Ansgar Korf</p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html","title":"Imaging Workflow","text":"<p>This page describes the mzmine workflow for non targeted feature detection in imaging datasets. The workflow is designed for MS imaging data and tested with matrix-assisted laser desorption/ionisation (MALDI)-MS data.</p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#supported-data-formats","title":"Supported data formats","text":"<p>This workflow requires the spatial coordinates to be provided in the raw data file, which is the case in for the open-source imzML format. The native Bruker .d folders (with .tsf and .tdf data files) are also supported. Please note that ion mobility spectrometry (IMS) only supported in the native Bruker (tdf) format and not supported in imzML data.</p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#procedure-overview","title":"Procedure overview","text":"<p>The general procedure is similar to the LC-MS workflow. The raw data is imported and noise is removed (raw data processing) prior to feature detection. Afterwards, multiple filters are available to refine the data.</p> <p></p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#raw-data-import-and-processing","title":"Raw data import and processing","text":"<p>Raw data is imported by a simple drag-and-drop gesture to the MS data files tab in the main window ( see Raw data import. After the data import, noise must be filtered from the raw data via the Mass detection module. Please note that this heavily impacts the performance of the whole workflow, since imaging spectra are usually richer in information than LC-MS spectra. If you experience performance (e.g., RAM issues), consider using a higher cutoff. IMS-MS imaging data sets require mass detection on the Frame and mobility scan level.</p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#feature-detection","title":"Feature detection","text":"<p>After mass detection, the feature detection is performed by the Image builder.</p> <p>When working with IMS-MS imaging datasets, the ion mobility dimension should be added by the IMS expander after the image detection. After expanding, the IMS dimension must be resolved.</p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#isotope-pattern-and-annotation","title":"Isotope pattern and annotation","text":"<p>Isotope filtering, pattern finding, and feature annotation can be performed analog as described in the LC-MS workflow. </p> <p>Warning</p> <p>Tools, such as spectral library matching require MS2 spectra. Make sure yoour imaging data was acquired with MS/MS experiments.</p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#co-localization","title":"Co-localization","text":"<p>Find co-located molecules using the Image co-localization module.  </p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#lc-image-aligner","title":"LC-Image aligner","text":"<p>If an LC-MS dataset was acquired for the imaging sample, the results can be aligned using the LC-Image Aligner. This allows integration of the two datasets and can be used for more confident identifications in imaging experiments. ( see https://www.nature.com/articles/s41587-023-01690-2)</p> <p></p>"},{"location":"workflows/imagingworkflow/imaging-workflow.html#feature-filtering","title":"Feature filtering","text":"<p>After feature detection, the ion image features can be filtered to refine the results, for example by the Feature filter or the Rows filter. Additional filters are found in the   Feature list methods \u2192 Feature filtering menu. When using the deisotoping modules, consider that there is no chromatographic separation.</p> <p>Ansgar Korf, Steffen Heuckeroth, kyrasolaris01</p>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html","title":"Untargeted LC-IMS-MS Workflow Overview","text":"<p>Compared to regular LC-MS, LC-IM-MS data is more complex due to the additional separation dimension. Since some terms might not be straightforward for new users, a basic explanation of IM separation principles and the terminology used within this documentation is provided here.</p>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#supported-formats","title":"Supported formats","text":"<ul> <li>Vendor formats:<ul> <li>.tdf (Native Bruker LC-IMS-MS and MALDI-IMS-MSI format)</li> <li>.tsf (Native Bruker MALDI-IMS-MS (single shot) format)</li> </ul> </li> <li>.mzML<ul> <li>Created via MSConvert from native Bruker   data</li> <li>Created via MSConvert from native   Waters/Agilent data</li> </ul> </li> </ul>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#feature-detection-workflows","title":"Feature detection workflows","text":"<p>Ion mobility data can be processed in mzmine in two ways. The first few steps are different for the two workflows (see below).</p> <ol> <li>LC-IMS-MS workflow via ADAP Chromatogram builder and IMS expander (    recommended)</li> <li>LC-IMS-MS workflow via Ion mobility trace builder / Recursive IMS    builder</li> </ol> <p>While these lists might seem fairly similar, there are some differences in the processing approach. The LC-IMS-MS workflow builds ion mobility traces from the data in the mobility scans, whilst the LC-MS workflow builds EICs from the summed frames. For ion mobility data imported from .mzML files, accumulated frame spectra have to be built from the individual mobility scans after mass detection. Since the mass detection impacts the computation of accumulated frame spectra in the same way it would impact the ion mobility trace builder, the differences from this workflow and the ADAP workflow will be negligible. However, frame spectra for native Bruker .tdf raw data are summed by the vendor library during file import. Here, the frame spectra are generated from the raw data and thus result in higher intensities, since the low abundant data points on the edges of the mobility and retention time peaks are not cut-off by the mass detection step. (see below) </p> <p>Therefore, the more low abundant compounds might be detected, if the LC-MS workflow is recommended.</p>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ms-workflow-recommended","title":"LC-MS workflow (recommended)","text":"<p>LC-IMS-MS data can also be processed via the regular LC-MS modules. If necessary, detected features can be expanded into the mobility dimension.</p> <p>For this workflow, generation of summed frame spectra via the Mobility scan merging module is a mandatory step, if the data was imported from an .mzML file (automatically generated via native Bruker import).</p> <ul> <li>Data import</li> <li>Mass detection</li> <li>Mobility scan merging (   mzML   data only)</li> <li>ADAP Chromatogram builder</li> <li>Smoothing in retention time dimension (optional)</li> <li>Resolving in retention time dimension</li> <li>Expanding EICs in mobility dimension</li> <li>Smoothing  in mobility dimension (optional)</li> <li>Resolving in mobility dimension</li> <li>Smoothing in rt and mobility dimension (optional)<ul> <li>Some recognised features might have rather noisy signals (in rt and mobility dimension) after   the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied   afterwards. In that case, smoothing can be applied to both dimensions at once.</li> </ul> </li> </ul> <p>The basic principle of the workflow is illustrated below:  a, IMS heatmaps are accumulated to frame spectra (b). From the accumulated frame spectra, EICs are built (c). These EICs are resolved to individual features by a resolver (d). The resolved features are now defined by RT and m/z windows, which can be expanded in mobility dimension by the Ims expander (e). The resulting ion mobility traces (f), have to be resolved in mobility dimension afterwards, to create individual IMS features.</p> <p>This figure shows the workflow in a more detailed manner, with additional optional steps. </p>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#lc-ims-ms-workflow","title":"LC-IMS-MS workflow","text":"<p>The LC-IMS-MS workflow will directly build ion mobility traces from the raw data in the mobility scans. This workflow does not necessarily require summed frame spectra. However, if extracted ion chromatograms shall be visualized via the Chromatogram visualizer, the frame intensities are used. In case these are not present, the chromatograms will be blank. Note that feature intensities from the LC-IMS-MS workflow might not exactly match the frame chromatograms due to summing being executed prior to thresholding (for native Bruker data). Furthermore, multiple isomers might hide behind a single chromatographic peak.</p> <ul> <li>Data import</li> <li>Mass detection</li> <li>Ion mobility trace builder</li> <li>Smoothing in retention time dimension (optional)</li> <li>Resolving in retention time dimension</li> <li>Smoothing  in mobility dimension (optional)</li> <li>Resolving in mobility dimension</li> <li>Smoothing in rt and mobility dimension (optional)<ul> <li>Some recognised features might have rather noisy signals (in rt and mobility dimension) after   the mobility resolving step. If smoother shapes are required, the smoothing can be reapplied   afterwards. In that case, smoothing can be applied to both dimensions at once.</li> </ul> </li> </ul>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#graphical-comparison-of-lc-ms-and-lc-ims-ms-data","title":"Graphical comparison of LC-MS and LC-IMS-MS data","text":"<p>Data comparison</p>"},{"location":"workflows/imsworkflow/ion-mobility-data-processing-workflow.html#page-contributors","title":"Page Contributors","text":"<p>Ansgar Korf, Steffen Heuckeroth, omokshyna, tdamiani</p>"},{"location":"workflows/imsworkflow/lc-ms-and-lc-ims-ms-data-comparison.html","title":"Graphical comparison of LC-MS and LC-IMS-MS data","text":"<p>Classic LC-MS data consists of three dimensions: </p> <ul> <li>m/z, </li> <li>intensity, </li> <li>and retention time. </li> </ul> <p>At every retention time, a whole mass spectrum is acquired (yellow).  Putting all scans together creates a three-dimensional plane. By slicing the three-dimensional data at a single m/z value (+- a value of tolerance), EICs can be created (green).</p> <p></p> <p>Ion mobility resolved data, on the other hand, consists of a three-dimensional data plane at each retention time.  The three dimensions being:</p> <ul> <li>m/z, </li> <li>intensity,</li> <li>and mobility (as drift time (ms) or inverse reduced mobility \\(1/K_0 [Vs/(cm^2)]\\)). </li> </ul> <p>The 3D projection of regular LC-MS data can be created by summing all mobility scans of a frame to create a frame spectrum. (see Mobility scan merging)</p> <p></p> <p>Steffen Heuckeroth, omokshyna</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html","title":"Untargeted LC-MS Workflow","text":"<p>The workflow proposed herein is intended as a general pipeline for untargeted LC-MS (or LC\u2212MS/MS) data preprocessing. The main goal is essentially to turn the highly-complex LC-MS raw data into a list of features, and corresponding signal intensity, detected across the analysed samples. Such feature lists can then be exported for further downstream analysis (e.g., identification, search against spectral libraries, statistical analysis, etc.). A schematic representation of the workflow is shown below:</p> <p> The magenta steps only refer to ion mobility data processing and are omitted here.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#raw-data-processing","title":"Raw data processing","text":"<p>The raw data processing consists of essentially two steps: Data import and Mass detection</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#raw-data-import","title":"Raw data import","text":"<p>Either open (e.g. mzML) and native vendor (e.g. Thermo, Bruker) data formats can be imported in mzmine. All the supported formats can be found here.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#mass-detection","title":"Mass detection","text":"<p>This step produces a list (referred to as \"mass list\") of the m/z values found in each MS scan across the LC run that exceed a user-defined threshold (i.e. noise level). For more details see the Mass detection module.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-processing","title":"Feature processing","text":"<p>The goal of the \"Feature processing\" is to obtain a list of all the detected features (characterized by a RT and m/z value) from the raw LC-MS data.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#chromatogram-building","title":"Chromatogram building","text":"<p>The first step in the \"Feature processing\" is to build the so-called extracted ion chromatograms (EICs) for each detected mass (see \"Mass detection\"). For this, use the Chromatogram builder module.</p> <p>The \"detected\" features in each \ufb01le are listed in the so-called \"feature lists\", which are then further processed and aligned to connect corresponding features across all samples.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#smoothing-in-retention-time-dimension-optional","title":"Smoothing in retention time dimension (optional)","text":"<p>Depending on the LC peak shape (i.e. data noisiness), the user can perform smoothing in retention time dimension.  For more details see the Mass detection and Smoothing modules.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-resolving","title":"Feature resolving","text":"<p>Feature resolving step enables separation of co-eluting and overlapping chromatography peaks and as such is one of the pivotal steps in data preprocessing. For more detalis on the algorithm used and parameters settings, see the Local minimum resolver module.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#13c-isotope-filter-isotope-grouper","title":"<sup>13</sup>C isotope filter (isotope grouper)","text":"<p>In order to remove redundant features, such as the ones generated due to the presence of isotopologues, isotope filter should be applied. <sup>13</sup>C isotope filter (isotope grouper) removes <sup>13</sup>C isotope features from the feature list. Use the isotope finder for more sensitive detection of possible isotope signals.  </p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#isotope-pattern-finder","title":"Isotope pattern finder","text":"<p>Isotope pattern finder searches for the isotope signals of selected chemical elements in the mass list of each feature. The isotope pattern detected by the isotope finder module has priority over the one detected by the isotope filter (grouper) module, if both are available. For more details, see the Isotope pattern finder module.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#feature-alignment","title":"Feature alignment","text":"<p>Feature alignment enables alignment of corresponding features across all samples. </p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#join-aligner","title":"Join aligner","text":"<p>This module aligns detected peaks in different samples through a match score. The score is calculated based on the mass and retention time of each peak and ranges of tolerance stipulated in the parameter setup dialog. For more information, see the join aligner module. </p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#gap-filling","title":"Gap-filling","text":"<p>Absence of features in some samples can either reflect the truth - the metabolite is absent in the given sample, or it can be due to data preprocessing.To account for  this, gap filling is applied as the next step.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#gap-filling-peak-finder","title":"Gap-filling (peak finder)","text":"<p>Gap-filling can be performed on the aligned feature lists to cope with missing features that might be artifacts of the feature-detection process. For more details see the Gap-filling (peak finder) module.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#export","title":"Export","text":"<p>Depending on the downstream analyses, there are several export options which are accessible through Feature list methods \u2192 Export feature list.</p> <p>For GNPS-Feature based molecular networking, see GNPS-FBMN or apply Interactive Molecular Networking directly in mzmine molecular_networking.md</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#references","title":"References","text":"<p>Karaman, I.; Climaco Pinto, R.; Gra\u00e7a, G. Chapter Eight - Metabolomics Data Preprocessing: From Raw Data to Features for Statistical Analysis. In Comprehensive Analytical Chemistry; Jaumot, J., Bedia, C., Tauler, R., Eds.; Elsevier, 2018; Vol. 82, pp 197\u2013225.</p> <p>Pluskal, T.; Korf, A.; Smirnov, A.; Schmid, R.; Fallon, T. R.; Du, X.; Weng, J.-K. CHAPTER 7:Metabolomics Data Analysis Using MZmine. In Processing Metabolomics and Proteomics Data with Open Software; 2020; pp 232\u2013254.</p> <p>Du, X.; Smirnov, A.; Pluskal, T.; Jia, W.; Sumner, S. Metabolomics Data Preprocessing Using ADAP and MZmine 2. In Computational Methods and Data Analysis for Metabolomics; Li, S., Ed.; Springer US: New York, NY, 2020; pp 25\u201348.</p>"},{"location":"workflows/lcmsworkflow/lcms-workflow.html#page-contributors","title":"Page Contributors","text":"<p>Ansgar Korf, Steffen Heuckeroth, lalalana5, lalalana5, omokshyna, tdamiani</p>"},{"location":"workflows/librarygeneration/library_generation.html","title":"Library generation workflow","text":"<p>This workflow is intended to extract library spectra automatically from your mass spectrometry data. The general idea is, to link the metadata to your mass spectrometry data. This facilitates the data processing at any time and enables the data extraction for each compound in the corresponding injection. Therefore, a unique sample id in the metadata table that is also used as part of the filename links the mass  spectrometry data with the analyzed compounds, which is used during the mzmine processing.</p> <p></p>"},{"location":"workflows/librarygeneration/library_generation.html#overview","title":"Overview","text":"<p>The following steps are included: - Metadata cleanup (Python script) - Sequence creation (Python script for Thermo) - Data acquisition - Data conversion to mzML and centroiding (MSConvert, ThermoRawFileParser,...) - Automatic library building workflow in mzmine by using the converted data files + cleaned Metadata - Uploading of the raw data files, the library file(s) and the cleaned metadata</p>"},{"location":"workflows/librarygeneration/library_generation.html#related-resources","title":"Related resources","text":"<ul> <li>Metadata Template</li> <li>Metadata cleanup</li> <li>Metadata upload</li> <li>Sequence creation</li> <li>mzmine batch example</li> </ul>"},{"location":"workflows/librarygeneration/library_generation.html#providing-of-metadata","title":"Providing of metadata","text":"<p>The metadata are used for further processing including a cleanup step, which means cleaning a given structure or searching for missing structures by a unique identifier, e.g., PubChem CID, or name, and adding further information by public database search.  Therefore, we provide this Template to harmonize column names. The best would be to provide a compound name and the SMILES or InChI together with the rack or plate and well location. The library id can be used to link the dataset to a specific  standard library or subset that you used. The unique sample id will be build during the metadata clean up to link the dataset with the metadata. This can be also the whole filename or part of it if data were already acquired. If a full filename is used, this identifier needs to be changed if data are newly acquired and the filename changes.  All other columns are optional and can be filled during the cleanup step.</p>"},{"location":"workflows/librarygeneration/library_generation.html#cleaning-of-metadata","title":"Cleaning of metadata","text":"<p>We provide a Python written metadata cleanup script to remove salts from SMILES structures and to  search for structure information in PubChem if only a name or PubChem CID is given. Based on the cleaned SMILES, different structure information are computed, including the canonical and isomeric SMILES, SMARTS, the monoisotopic mass, InChI and InChIKey. Especially the monoisotopic mass is important for the automatic library generation workflow to match the measured mass against possible masses of the compound's adduct. Additionally, we need a unique sample id to search compounds only in the corresponding data file. This unique sample id is build by the library id, e.g., group+library, and the well/vial location including the plate/rack and ending with _id. Furthermore, we included searches in public databases to gather additional information about each compound, especially drug related information, e.g., in any clinical phase or indication. The script can be found on GitHub.</p>"},{"location":"workflows/librarygeneration/library_generation.html#uploading-of-metadata-and-raw-data","title":"Uploading of metadata and raw data","text":"<p>The library building is a non-static workflow. Accordingly, it is important to link raw data to their metadata to optimize the spectra extraction based on new knowledge, quality parameters and contamination in the future. Normally, library spectra are exported, maybe manually curated and stay as they are within the spectral database, without further knowledge about the processing behind. A repository to upload the metadata and raw data can be found on GitHub.</p>"},{"location":"workflows/librarygeneration/library_generation.html#sequence-creation-for-data-acquisition","title":"Sequence creation for data acquisition","text":"<p>The shape of the data acquisition sequence table is vendor specific. We provide a python script for XCalibur Thermo and we will update it for further instruments. The columns should be named as in the Metadata Template. For Thermo following information are needed:</p> <ul> <li>Data acquisition storing path</li> <li>Instrument method path (multiple polarities are possible)</li> <li>sequence will be first for one rack or well in one polarity and switch to the other in the second run</li> <li>Autosampler location for each well or rack</li> <li>Injection volume \u00b5L</li> <li>library identifier, for example group and used library</li> <li>Option:</li> <li>Adding a method suffix, if different methods will be used for comparison, (e.g., changing AGC  target, column,...)</li> <li>Running blanks and QC after a specific number of injections (position of blank and QC needed)</li> </ul> <p>The sequence is exported individually for each plate or rack and as a combined sequence. The combined sequence will have the Blank and QC in the beginning and end of the sequence and after the set number of injections. The data acquisition file names will be a combination of the date, unique sample id, the method suffix, and polarity. GitHub</p>"},{"location":"workflows/librarygeneration/library_generation.html#data-processing-in-mzmine","title":"Data processing in mzmine","text":"<p>Data should be converted to open data formats, e.g., mzML before importing in mzmine. This step guarantees the import at any time, since the vendor formats can change. For more information and possibilities go to Data conversion.</p> <p>In mzmine, open the Processing wizard to creat your own batch configuration. Change the instrument  settings to your instrument set up, e.g., Flow inject, and Orbitrap, and to Library generation. For more information, go to the Processing wizard page. The default settings are only suggestions and need to be updated and optimized for each dataset.</p> <p>Under the Annotation tab you need to upload your metadata sheet (Local CSV database): - Tick the checkbox and Show - Set the path to your metadata file - Set if the precursor should be calculated by neutral mass (or structure)+adduct or the precursor m/z is stored in the table for each compound individually (important, if the adduct formation is very different in one dataset   - If you want to use the adduct calculation, the adducts can be selected after batch creation - Tick the filename column and type in the column name header   - You need a unique sample id in the metadata table that is included in the filename. It can be     the whole filename or just a part of it, so you can use the same table if only the date in your      filename changes. If you use the metadata cleanup (creates the unique sample id) and the sequence creation, the filename is created by the date, unique sample id, method suffix and polarity.   - The unique sample id should not end on a number, as this will enable false matches, e.g., A2 is   also in A20, A200,...  - Select all column you want to import   - Enable the Neutral mass type in mzmine, if you want to calculate the precursors, otherwise use the    Precursor m/z type   - you can change the name by double click, changing the name,   and pressing enter     - To press enter is important as the name will not be saved otherwise</p> <p></p> <p>Go to Library generation tab: - You can add specific information to your library, e.g., what was the library, which instrument, who acquired the data, or who is the PI,...) - Set the Export path to store the extracted library</p> <p>After you set everything, you can safe the presets. You can save the library method separately from the sample introduction and instrument, to stitch the library settings together with any other instrument setup. Click the Create batch button, which opens a new window. Every algorithm is prefilled by the wizard settings.</p> <p>Go to the Custom database search to change more library settings, especially possible adducts. Go to the Batch spectral library generation to set the format and the MS level for the export. Furthermoreb you can set additional quality settings, including the handling of chimeric spectra,  minimum number of signals and minimum number of explained signals in each scan based on all subformula combinations. For more information about each parameter go to Custom database search and Batch spectral library generation</p> <p>During the spectral library export, all set quality parameter are checked and only spectra that fulfill all set criteria are exported. For chimeric spectra, instead of discarding those, they can be flagged as chimeric.</p>"},{"location":"workflows/simsef/simsef_workflow.html","title":"SIMSEF Workflow","text":""},{"location":"workflows/simsef/simsef_workflow.html#workflow-description","title":"Workflow description","text":"<p>The spatial ion mobility-scheduled exhaustive fragmentation (SIMSEF) module can be used in trapped ion mobility (TIMS) imaging workflows to schedule fragmentation spectra acquisitions for every detected feature across the tissue. This achieves high MS2 coverage and allows more confident compound annotations. To use the SIMSEF tool, the prmMALDI prototype instrument control software is required, which is distributed by Bruker Daltonics to cooperation partners. You can contact your Bruker representative to ask for the prmMALDI prototype and refer to SIMSEF.</p>"},{"location":"workflows/simsef/simsef_workflow.html#requirements","title":"Requirements","text":"<ul> <li>access to timsTOF fleX instrument</li> <li>access to </li> <li>the prototypic timsControl 4.1/5.0 with the prm-MALDI option (contact your Bruker   representative)</li> <li>timsControl 5.1 with prmMALDI enabled (contact your Bruker representative)</li> <li>Download SIMSEF acquisition tool for the respective timsControl version</li> </ul>"},{"location":"workflows/simsef/simsef_workflow.html#procedure","title":"Procedure","text":"<p>Note:  acquire MS1 data with a smaller laser spot size than raster size (= stage movement/pixel size) Note:  Due to the size of IMS-MS imaging data, we recommend to use 10,000-40,000 pixels in your MS1 run for SIMSEF experiments</p> <ul> <li> <p>this leaves some tissue for MS2 acquisition</p> </li> <li> <p>Prepare the sample following your default procedure.</p> </li> <li>Setup the imaging run in flexImaging. Set the raster size bigger than the laser spot size in your    imaging method (e.g. laser spot size = 20 \u00b5m, raster size = 50 \u00b5m).</li> <li>Save the imaging run via \"Save imaging run as...\". This will store the geometry files for later    use.</li> <li>Restart timsControl (prm-MALDI prototype) to make the instrument recognize the geometry files.    Recalibrate the instrument (recommended).</li> <li>Start the MS1 imaging run.</li> <li>Copy the raw data to a powerful data analysis machine (Windows and Linux support Bruker raw data)</li> <li>Analyse the MS1 data and filter it to your liking (    see imaging worflow). If your IMS seperation allows,    filter for    isotopic peaks.</li> <li>Run the SIMSEF scheduler. Using the preview, evaluate    the fragmentation schedules and optimise the parameters. Check the task manager for running    tasks. The scheduling may need some time.</li> <li>Copy the schedule to the instrument computer. (Must be the same path as selected on the    analysis computer, not including spaces or special characters)</li> <li>Load the instrument method, you want to acquire the MS2 spectra with. Make sure the method is     appropriate for your expected fragment ion m/z range.<ul> <li>Disable MALDI mode, enable PASEF mode, ensure that \"advanced\" is disabled for the collision   energy settings.</li> <li>Enable MALDI mode, save the method.</li> <li>Set MS mode to MS/MS in the MALDI settings.</li> <li>Increase the laser size to the raster size</li> </ul> </li> <li>Set instrument to operate and recalibrate if needed (recommended).</li> <li>Select the correct geometry file on the instrument computer (saved in step 3)</li> <li>Run \"simsef_pewpew.exe\" on the instrument computer, select the acquisition.txt and click \"Run     acquisition.\"</li> <li>After the acquisition, copy the folder to the analysis computer.</li> <li>Import all MS2 files</li> <li>Run Mass detection with the     centroid mass detector and noise level 50-100 (starting point, for MS2 only!)</li> <li>Pair the MS2 spectra to the image features using     the Assign MALDI MS2s to features     module</li> <li>Annotate using any annotation module in MZmine</li> </ul> <p>Steffen Heuckeroth</p>"}]}